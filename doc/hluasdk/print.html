<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> 快速开始</a></li><li class="chapter-item expanded "><a href="quick/struct.html"><strong aria-hidden="true">2.</strong> 项目结构</a></li><li class="chapter-item expanded "><a href="quick/command.html"><strong aria-hidden="true">3.</strong> SDK命令指引</a></li><li class="chapter-item expanded "><a href="quick/update.html"><strong aria-hidden="true">4.</strong> 更新日志</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> 功能库</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="lib/api.html"><strong aria-hidden="true">5.1.</strong> API</a></li><li class="chapter-item expanded "><a href="lib/attr.html"><strong aria-hidden="true">5.2.</strong> 属性 Attr</a></li><li class="chapter-item expanded "><a href="lib/japi.html"><strong aria-hidden="true">5.3.</strong> JAPI</a></li><li class="chapter-item expanded "><a href="lib/hslk1.html"><strong aria-hidden="true">5.4.</strong> Slk入门</a></li><li class="chapter-item expanded "><a href="lib/hslk2.html"><strong aria-hidden="true">5.5.</strong> Slk进阶</a></li><li class="chapter-item expanded "><a href="lib/hslk_f6.html"><strong aria-hidden="true">5.6.</strong> Slk原生物编字段</a></li><li class="chapter-item expanded "><a href="lib/hslk_misc.html"><strong aria-hidden="true">5.7.</strong> Slk与MISC数据</a></li><li class="chapter-item expanded "><a href="lib/sync.html"><strong aria-hidden="true">5.8.</strong> Sync同步</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> 例子</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="example/leaderBoard.html"><strong aria-hidden="true">6.1.</strong> 使用排行榜</a></li><li class="chapter-item expanded "><a href="example/multiBoard.html"><strong aria-hidden="true">6.2.</strong> 使用多面板</a></li><li class="chapter-item expanded "><a href="example/dialog.html"><strong aria-hidden="true">6.3.</strong> 难度选择对话框</a></li><li class="chapter-item expanded "><a href="example/pickHero.html"><strong aria-hidden="true">6.4.</strong> 常见两种选英雄</a></li><li class="chapter-item expanded "><a href="example/attack.html"><strong aria-hidden="true">6.5.</strong> 简单刷兵</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> 其他学习</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="other/jetbrain.html"><strong aria-hidden="true">7.1.</strong> Jetbrain设置</a></li><li class="chapter-item expanded "><a href="other/q_a.html"><strong aria-hidden="true">7.2.</strong> 询问的技巧</a></li><li class="chapter-item expanded "><a href="other/dz.html"><strong aria-hidden="true">7.3.</strong> 平台上线须知</a></li><li class="chapter-item expanded "><a href="other/war3_tec.html"><strong aria-hidden="true">7.4.</strong> 魔兽作图小技巧</a></li><li class="chapter-item expanded "><a href="other/war3_terrainArt.html"><strong aria-hidden="true">7.5.</strong> 魔兽地形贴图路径</a></li><li class="chapter-item expanded "><a href="other/lua_engine.html"><strong aria-hidden="true">7.6.</strong> YDLua引擎</a></li><li class="chapter-item expanded "><a href="other/ui_fdf.html"><strong aria-hidden="true">7.7.</strong> UI &amp; FDF</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> 小小专栏</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="xxqq/BV1nV411J7FB.html"><strong aria-hidden="true">8.1.</strong> 基础指令介绍</a></li><li class="chapter-item expanded "><a href="xxqq/BV1TK4y1Z7eB.html"><strong aria-hidden="true">8.2.</strong> hslk高级用法演示1</a></li><li class="chapter-item expanded "><a href="xxqq/BV1M64y117sB.html"><strong aria-hidden="true">8.3.</strong> hslk高级用法演示2</a></li><li class="chapter-item expanded "><a href="xxqq/BV1ZV411J7JJ.html"><strong aria-hidden="true">8.4.</strong> hslk高级用法演示3</a></li><li class="chapter-item expanded "><a href="xxqq/BV1iv411L7CP.html"><strong aria-hidden="true">8.5.</strong> UI之sync演示</a></li><li class="chapter-item expanded "><a href="xxqq/BV1Hy4y1s7cj.html"><strong aria-hidden="true">8.6.</strong> 构建酒馆与小地图UI显示头像</a></li><li class="chapter-item expanded "><a href="xxqq/BV1Lh411v7pR.html"><strong aria-hidden="true">8.7.</strong> 伤害排行榜</a></li><li class="chapter-item expanded "><a href="xxqq/upscale.html"><strong aria-hidden="true">8.8.</strong> 高端演示</a></li></ol></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="快速开始"><a class="header" href="#快速开始">快速开始</a></h2>
<p>h-lua是一套完善的魔兽地图开发集成，更贴近程序开发者的使用套路。</p>
<p>摒弃手动物编，多余的excel物编，直接敲码绑定逻辑。</p>
<p>避免已知恶性问题，完善的马仔帮你调用API。 从建图到上线，一波跑通，不浪费时间。</p>
<h3 id="安装一个fork-或-git"><a class="header" href="#安装一个fork-或-git">安装一个fork 或 git</a></h3>
<blockquote>
<p><a target="_blank" href="https://www.git-fork.com">Fork - a fast and friendly git client for Mac and Windows (git-fork.com)</a></p>
</blockquote>
<blockquote>
<p><a target="_blank" href="https://git-scm.com">Git (git-scm.com)</a></p>
</blockquote>
<h3 id="代码编辑器"><a class="header" href="#代码编辑器">代码编辑器</a></h3>
<p>编辑器推荐使用Jetbrain Ideac(社区版免费) 并按照插件【EmmyLua】。</p>
<p>相信得到编辑器 Buff加成 的你，会如虎添翼~</p>
<blockquote>
<p><a target="_blank" href="https://www.jetbrains.com/idea/download/#section=windows">Ideac (Jetbrain)</a></p>
</blockquote>
<p><img src="https://github.com/hunzsig-warcraft3/h-lua-sdk/raw/gh-pages/img/emmylua.png" alt="Emmylua" /></p>
<h3 id="克隆下载项目"><a class="header" href="#克隆下载项目">克隆（下载）项目</a></h3>
<pre><code>git clone https://github.com/hunzsig-warcraft3/h-lua-sdk
</code></pre>
<blockquote>
<p><a target="_blank" href="https://gitee.com/hunzsig/h-lua-sdk">可使用码云加速：(Gitee -&gt; h-lua-sdk)</a></p>
</blockquote>
<h3 id="打开终端并进入工作区"><a class="header" href="#打开终端并进入工作区">打开终端并进入工作区</a></h3>
<pre><code>cd ./h-lua-sdk
</code></pre>
<h3 id="创建新项目"><a class="header" href="#创建新项目">创建新项目</a></h3>
<pre><code>&gt; sdk.exe new demo
</code></pre>
<h3 id="修改地形非必要"><a class="header" href="#修改地形非必要">修改地形（非必要）</a></h3>
<pre><code>&gt; sdk.exe we demo
</code></pre>
<h3 id="测试"><a class="header" href="#测试">测试</a></h3>
<pre><code>&gt; sdk.exe test demo
</code></pre>
<h3 id="拓展例子地图"><a class="header" href="#拓展例子地图">拓展例子地图</a></h3>
<blockquote>
<p>拓展地图会编写一些业务，来引导你进行学习</p>
</blockquote>
<ul>
<li><a target="_blank" href="https://github.com/hunzsig-warcraft3/h-lua-sdk-helloworld">helloWorld</a></li>
<li><a target="_blank" href="https://github.com/hunzsig-warcraft3/h-lua-sdk-crash">压力测试</a></li>
<li><a target="_blank" href="https://github.com/hunzsig-warcraft3/h-lua-sdk-mysterious-land">秘地探奇半成品</a></li>
</ul>
<h3 id="完全沒试过lua作图怎么快速学习"><a class="header" href="#完全沒试过lua作图怎么快速学习">完全沒试过lua作图怎么快速学习？</a></h3>
<ul>
<li>了解lua基本语法： <a target="_blank" href="https://www.runoob.com/lua/lua-tutorial.html">Runoob Lua教学</a></li>
<li>了解YD引擎： 其他学习 -&gt; YDLua引擎</li>
<li>有魄力的人可以先略一遍 h-lua 的源码，即使你不用框架内实现，也是有所帮助的</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="目录结构"><a class="header" href="#目录结构">目录结构</a></h2>
<pre><code>├── depend - 依赖的开发套件
│   ├── h-lua - h-lua(v:latest，随sdk更新的最新版)
│   ├── w3x2lni - w3x2lni工具(v:2.7.2)
│   └── YDWE - 马仔工具
├── projects - 用来放置你的地图项目目录，如 h-lua-sdk-helloworld
|   └── h-lua-sdk-helloworld
└── sdk.exe - sdk命令工具
</code></pre>
<h3 id="项目结构"><a class="header" href="#项目结构">项目结构</a></h3>
<pre><code>└── project_demo - 项目目录
├── hslk - 用来编写 hslk lua 物编配置, 不要把流程代码写里面
├── map - 地图文件
│   ├── implant - 用来强制更新替换【DZUI布局、命令位置、平衡性常数、原生界面】参数
│   ├── resource - F12导入
│   │   ├── hLua - h-lua需要的资源文件，请不要乱删除
│   │   ├── interface - 冷却时间UI，不需要可删除，然后需要修改 implant/war3mapSkin.txt
│   │   ├── ReplaceableTextures
│   │   ├── TerrainArt - 地形贴图，不需要可直接删除
│   │   │   ├── Cliff - 悬崖贴图，不需要可直接删除
│   │   │   ├── CommandButtonsDisabled - 暗图标目录
│   │   │   └── selection - 选择圈，不需要可直接删除
│   │   ├── UI - 命令等系统图形的修改（不包括dzui）不需要可删除，然后需要修改 implant/war3mapSkin.txt
│   │   ├── war3mapImported - 通用目录
│   │   └── war3mapMap.blp - 小地图文件，一般不会手动处理，交给 -yd
│   ├── slk - ini式的物编
│   └── w3x - 地图lni
├── scripts - lua脚本（*此乃建议，实际上你的lua只要在项目目录内，一般都能按路径访问）
└── main.lua - 项目代码入口
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="命令行"><a class="header" href="#命令行">命令行</a></h2>
<h3 id="新建项目"><a class="header" href="#新建项目">新建项目</a></h3>
<pre><code>&gt; sdk.exe new demo //新建一个地图项目，名为demo
</code></pre>
<h3 id="使用we编辑地形"><a class="header" href="#使用we编辑地形">使用WE编辑地形</a></h3>
<blockquote>
<p>编辑完后在使用test时会自动将改动记录回你的项目中</p>
</blockquote>
<pre><code>&gt; sdk.exe we demo //以WE打开项目demo，主要用于编辑地形
</code></pre>
<h3 id="模型批量查看"><a class="header" href="#模型批量查看">模型批量查看</a></h3>
<blockquote>
<p>模型默认scale1.00，方便对比</p>
</blockquote>
<pre><code>&gt; sdk.exe model demo //查看项目demo的模型，默认第0页
&gt; sdk.exe model demo 2 //查看项目demo的模型，第2页
&gt; sdk.exe model demo ttg //查看项目demo的模型，只要路径带有ttg的
&gt; sdk.exe model demo abc 1  //查看项目demo的模型，第1页且只要路径带有abc的
</code></pre>
<h3 id="测试-1"><a class="header" href="#测试-1">测试</a></h3>
<blockquote>
<p>在test调试中，你可以直接F10重启魔兽获得脚本的更新，而无需再次使用test命令</p>
<p>重启脚本不包括hslk目录以及resource资源的变更，只对框架脚本或项目脚本有效</p>
</blockquote>
<pre><code>&gt; sdk.exe test demo //测试你的demo项目并测试
&gt; sdk.exe test demo ? //可以在后面加个问号，从而生成地图而不进行测试，一般用于检查物编的生成结果
</code></pre>
<h3 id="打包"><a class="header" href="#打包">打包</a></h3>
<blockquote>
<p>在build调试中，F10重启魔兽不能获得脚本的更新，必须再次使用build命令</p>
<p>build命令会引用打包流程的lua脚本，DEBUGGING会自动置为false</p>
</blockquote>
<pre><code>&gt; sdk.exe build demo //打包你的demo项目并测试
&gt; sdk.exe build demo ? //可以在后面加个问号，从而生成地图而不进行测试，一般用于检查物编的生成结果
</code></pre>
<h3 id="清理缓存"><a class="header" href="#清理缓存">清理缓存</a></h3>
<pre><code>&gt; sdk.exe clear demo //清理构建的临时文件
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="更新日志"><a class="header" href="#更新日志">更新日志</a></h2>
<h4 id="项目当前由-xxqq9527-继续被动维护"><a class="header" href="#项目当前由-xxqq9527-继续被动维护">项目当前由 xxqq9527 继续被动维护</a></h4>
<blockquote>
<p>2021/07 ~ 现在</p>
</blockquote>
<ul>
<li>chore(*): 优化</li>
<li>fix(*): 修复</li>
</ul>
<blockquote>
<p>2021/06</p>
</blockquote>
<ul>
<li>feat(debug): 新增handle监听</li>
<li>feat(attr): 新增吸魔 xxqq9527</li>
<li>feat(ttg): 飘浮字优化 xxqq9527</li>
<li>fix(monitor): 修复恢复监听器在满值无效的bug xxqq9527</li>
<li>fix(event): 修复一些事件参数相关bug xxqq9527</li>
<li>fix(skill): 修复bomb特效无效的问题 xxqq9527</li>
</ul>
<blockquote>
<p>2021/05</p>
</blockquote>
<ul>
<li>fix(event): 修复hslk系列bugs</li>
<li>fix(unit): 修复瞬间移动单位面向角度参数缺失bug</li>
<li>fix(sync): 修复同步参数错位问题</li>
</ul>
<blockquote>
<p>2021/04</p>
</blockquote>
<ul>
<li>feat(attr): 硬直开启判断及监听优化</li>
<li>feat(sync): 加入同步</li>
<li>feat(attr): 三围属性关联删除，现在支持大部分属性的成长关联 attr</li>
<li>feat(table/hero/skill): 新增几个函数</li>
<li>feat(hero): 修正经验计算</li>
<li>feat(attr): 优化攻击间隔逻辑</li>
<li>feat(attr): 删除xtras里面一些没什么用的事件支持</li>
<li>feat(event): 玩家伤害数据记录修正</li>
<li>feat(timer): 计时器新增暂停/恢复方法</li>
<li>feat(sound): 新增调节bgm音量</li>
<li>feat(sound): voiceCreate方法新增参数is3D</li>
<li>feat(dzui): 删除一大批没什么必要的函数</li>
<li>feat(hslk): 全面支持英雄技能,新增i18n可自定义部分文本</li>
<li>feat(hslk): 新增hslk_item_fleeting函数，hslk_item增加_onItemGet、hslk_ability增加_onSkillStudy</li>
<li>feat(math): 两位置角度限制范围返回[0-360]</li>
<li>fix(sdk): 修复build无响应问题</li>
<li>fix(attr): 修改伤害数据的获取模式</li>
<li>fix(model): 暴击默认模型路径错误</li>
<li>fix(damage): 修正没有伤害也触发暴击特效的问题</li>
<li>fix(damage): 修复硬直恢复失衡</li>
<li>chore(*): 删除implant，不再主动支持war3mapMisc.txt</li>
<li>chore(hslk): 默认单位杜绝恢复</li>
<li>chore(hslk): 默认单位ID改为熊猫（无技能1倍缩放255颜色）</li>
</ul>
<blockquote>
<p>2021/03</p>
</blockquote>
<ul>
<li>优化 | V1版本进入维护修bugs阶段，V2版本后成为SDK项目的子库</li>
<li>feat(skill): damage嵌入原生伤害类型</li>
<li>feat(texttag): model型漂浮字</li>
<li>feat(ring): 调整ring的生效逻辑</li>
<li>feat(japi): 完备JAPI</li>
<li>fix(sdk): 修复_attr disabled无效果的问题</li>
<li>fix(monitor/unit): 修复魔法恢复无效的bug</li>
<li>chore(slk): 修正lua基准库的执行流程</li>
</ul>
<blockquote>
<p>2021/02</p>
</blockquote>
<ul>
<li>chore(sdk): new hslk</li>
<li>chore(sdk): new tools</li>
<li>致命 | onChat事件优化及重做</li>
<li>致命 | 镜头提升/下降指令改为-d，使用为-d +100[提升100距离]</li>
<li>致命 | 淡化runtime</li>
<li>功能 | 新模块cache、monitor</li>
<li>功能 | 总属性在使用set时支持自动变换为绿字</li>
<li>优化 | 重做并优化满金币自动换木头的逻辑</li>
</ul>
<blockquote>
<p>2021/01</p>
</blockquote>
<ul>
<li>致命 | 删除了实际无用的三个属性：冥想力meditative、幸运luck和救助力help</li>
<li>致命 | 删除player自带的黄金木头获取漂浮字，新增资源变动事件，交由作者自行编写</li>
<li>致命 | 删除unit自带的经验漂浮字，新增单位获得经验事件，交由作者自行编写</li>
<li>致命 | 参数high改为height</li>
<li>致命 | 新增黑色玩家颜色、敌人模块重做，现在配置更简单并且支持多势力</li>
<li>致命 | loop方法统一改名为forEach，并且回调都以(val, idx)的配置返回</li>
<li>致命 | includes、delete方法参数顺序改得与lua默认函数相似</li>
<li>致命 | 框架现在不处理护甲属性，全部交予原生处理</li>
<li>致命 | 新增总护甲属性defend（只读）,现在护甲分白绿:defend_white/defend_green</li>
<li>致命 | 修复了一些有可能造成异步的潜在bug</li>
<li>功能 | xtras支持负动态映射数值</li>
<li>功能 | leap现在支持横纵偏移</li>
<li>功能 | 新模块物品池</li>
<li>功能 | 新增属性：攻击范围attack_range，攻击间隔attack_space</li>
<li>优化 | 重做单位RGBA颜色</li>
<li>优化 | 现在attr返回的攻击间隔不再是初始间隔而是根据攻速变幻的每秒间隔数据</li>
<li>优化 | 调整了丢弃物品触发的时机，事实上物品事件基本已重做</li>
<li>优化 | 遮罩mark增加一个空判断</li>
<li>优化 | slkHelper物品的叠加数现在下限起码是使用次数</li>
<li>优化 | 修复整数属性在小数扣除时有可能多出额外属性的bug</li>
<li>优化 | 优化shadow物品的名称</li>
</ul>
<blockquote>
<p>2020/12</p>
</blockquote>
<ul>
<li>致命 | slk与hslk分离</li>
<li>致命 | 自然属性参数全部删除</li>
<li>致命 | 彻底删除了自带的镜头模式</li>
<li>功能 | 新增附魔、附魔反应；属性系统与附魔连通</li>
<li>功能 | 新增商店模块</li>
<li>功能 | 新增buff模块</li>
<li>优化 | 英雄不再根据主属性赋予攻击伤害类型</li>
</ul>
<blockquote>
<p>2020/11</p>
</blockquote>
<ul>
<li>致命 | slkHelper的自定义键值统一为：以下划线开头小写作key</li>
<li>致命 | 伤害系统大改：删除了伤害种类，新增伤害来源等</li>
<li>致命 | 属性系统的特效重做，新设xtras</li>
<li>功能 | 新增n2i系列函数，名称获得ID</li>
<li>功能 | 事件event与新的xtras连通</li>
<li>功能 | 新增新属性：总攻击、攻击间隔、力量、敏捷、智力、减伤（%）、自身暴击</li>
<li>优化 | 删除了&quot;被/造成无法回避的伤害&quot;事件</li>
</ul>
<blockquote>
<p>2020/10</p>
</blockquote>
<ul>
<li>致命 | 现在物品创建不再支持设定物品的栏目位置</li>
<li>致命 | 修复部分range没有改名为radius的问题</li>
<li>致命 | 修复attr对象类型添加时key获取错误的问题</li>
<li>优化 | 优化合成/拆分的执行效率</li>
<li>优化 | 光环目标判定新增enemy目标，与enemies同效果</li>
<li>优化 | slkHelper信使的自动技能改为局部参数</li>
</ul>
<blockquote>
<p>2020/09</p>
</blockquote>
<ul>
<li>致命 | 为辨明范围的距离，涉及的参数名或回调数据不再使用“range”改为“radius/diameter”半径或直径来处理</li>
<li>致命 | [hero]修复设置玩家英雄最大数无效的bug</li>
<li>致命 | 修复物品拆分bugs</li>
<li>致命 | ID_ARRAY参数改名</li>
<li>功能 | slkHelper信使技能拓展，新增四个框架信使行为事件:(闪烁,范围拾取,拆分,批量传送)</li>
<li>功能 | event新增移动捕捉的相关事件</li>
<li>功能 | 新增matcher</li>
<li>功能 | slkHelper[光环]技能的完善（相关bug可看项目历史）</li>
<li>功能 | is模块部分判断函数名改为更贴近原生j,新增sapper判断自爆工兵</li>
<li>优化 | 物品拆分等功能继续完善</li>
<li>优化 | 整合并优化物品/技能属性计算</li>
</ul>
<blockquote>
<p>2020/08</p>
</blockquote>
<ul>
<li>致命 | 修复设置魔法百分比却设置到生命值的bug</li>
<li>致命 | 删除了h-lua的变身技能</li>
<li>致命 | 修复event删除事件的bug</li>
<li>致命 | 修复event一个BJ误用错误，现在改回CJ</li>
<li>致命 | 修复event[Esc]事件错误</li>
<li>致命 | 修复生命魔法的恢复器有可能出错的问题</li>
<li>致命 | 修复print_mbr部分打印没有正确显示中文的问题</li>
<li>致命 | 修复硬直已经补满了依然增加的bug</li>
<li>功能 | slkHelper现在支持一些简易的自定义设定，如文本颜色等</li>
<li>功能 | shadow物品（默认开启）</li>
<li>功能 | 物品合成、拆分（相关bug可看项目历史）</li>
<li>功能 | 强化物品使用事件，现在物品技能如有可能，可以获取释放的目标坐标/目标单位</li>
<li>优化 | runtime的精简和优化</li>
<li>优化 | hevent.POOL现在可以归nil</li>
<li>优化 | 英雄重生方法增加一个如果已经复活则跳过的逻辑</li>
<li>优化 | 修正超重提示的小数点溢出</li>
<li>优化 | 现在 print_r 会显示数值类型</li>
</ul>
<blockquote>
<p>2020/07</p>
</blockquote>
<ul>
<li>致命 | 修复onBeAttack的triggerUnit数据错误</li>
<li>功能 | 增加一个0秒无敌的致命抵抗，减少生命技能的性能负担</li>
<li>优化 | 删除Dzapi一行多余的代码</li>
</ul>
<blockquote>
<p>2020/06</p>
</blockquote>
<ul>
<li>致命 | 修复硬直不会自动补充的bug，修复被击硬直计算不实时的问题（顺便优化并修正了硬直的判断准则）</li>
<li>致命 | 修复hero.levelUp无效的bug</li>
<li>功能 | 增加his两个判断：背向对与正面对</li>
<li>功能 | 新增[可破坏物被破坏]事件</li>
<li>功能 | slkHelper新增[光环]技能</li>
<li>功能 | 新增matchUsed方法，使物品使用绑定更快更优雅</li>
<li>功能 | 新增[暂停]、[恢复]单位方法</li>
<li>优化 | leap和crashFly的地图边界问题</li>
<li>优化 | 优化slkHelper的item</li>
<li>优化 | hunit创建现在可以带一个attr设定，顺便设置属性</li>
</ul>
<blockquote>
<p>2020/05/31</p>
</blockquote>
<ul>
<li>功能 | 去掉了格式化里W（万）这个数值单位</li>
</ul>
<blockquote>
<p>2020/05/30</p>
</blockquote>
<ul>
<li>致命 | 修复一个runtime空值bug</li>
</ul>
<blockquote>
<p>2020/05/26</p>
</blockquote>
<ul>
<li>优化 | print_mb现在和print一样支持多个参数</li>
</ul>
<blockquote>
<p>2020/05/25</p>
</blockquote>
<ul>
<li>优化 | 单位的初始化，英雄的初始化以及判断的自动化</li>
</ul>
<blockquote>
<p>2020/05/19</p>
</blockquote>
<ul>
<li>功能 | hero模块构建酒馆内实现增强</li>
</ul>
<blockquote>
<p>2020/05/18</p>
</blockquote>
<ul>
<li>优化 | 重做了dzapi服务器清理server.clear</li>
</ul>
<blockquote>
<p>2020/05/17</p>
</blockquote>
<ul>
<li>致命 | slkhelper增加内置方法与hRuntime结合构建物编对象</li>
<li>优化 | 修改了math.numberFormat的单位</li>
</ul>
<blockquote>
<p>2020/05/14</p>
</blockquote>
<ul>
<li>优化 | F9提示优化，并增加all参数，一key全配置</li>
<li>优化 | table.merge方法支持动态参数(多table简单合并)</li>
</ul>
<blockquote>
<p>2020/05/09</p>
</blockquote>
<ul>
<li>致命 | 更多地框架内实现，group不再使用原生方法进行选取单位，可以选取到hunit.create的所有单位(如果原来就使用框架内create方法，几乎对现有功能无影响)</li>
</ul>
<blockquote>
<p>2020/05/08</p>
</blockquote>
<ul>
<li>致命 | event优化pool的处理，优化掉了框架拓展trigger的引用</li>
<li>优化 | 初始化合并,优化dzapi关闭时的提示，优化掉了框架拓展trigger的引用</li>
</ul>
<blockquote>
<p>2020/05/07</p>
</blockquote>
<ul>
<li>优化 | 新增item模块瞬逝物fleeting方法</li>
</ul>
<blockquote>
<p>2020/05/06</p>
</blockquote>
<ul>
<li>功能 | 新增多频对单位伤害技能 hskill.damageStep</li>
<li>优化 | 修改bgm的播放逻辑流程(改善了bgm的播放顺序效率)</li>
</ul>
<blockquote>
<p>2020/05/05</p>
</blockquote>
<ul>
<li>致命 | 修复quest离奇大小写导致任务全部是&quot;未发现&quot;的bug</li>
<li>致命 | 修复眩晕技能，计时器参数调用错误的bug(会导致多次眩晕直接报错)</li>
<li>功能 | sound模块删除了绑定点音效，新增绑定区域音效</li>
<li>功能 | 新增方法 his.inRect 判断是否在区域内</li>
<li>优化 | 删除了h-lua默认的F9任务（需要的可自行调用）</li>
</ul>
<blockquote>
<p>2020/05/04</p>
</blockquote>
<ul>
<li>致命 | 修复bgm停止后可能无法再次播放的bug</li>
</ul>
<blockquote>
<p>2020/05/01</p>
</blockquote>
<ul>
<li>致命 | 复活的方法从unit转到了hero模块</li>
</ul>
<blockquote>
<p>2020/04/30</p>
</blockquote>
<ul>
<li>致命 | 修复了一个神奇的heroPick事件调用错误</li>
<li>功能 | 新增三围主属性对白字攻击的影响</li>
<li>功能 | 现在遮罩自带一些贴图并支持RGB颜色</li>
<li>优化 | 修改了hero的底层判断方式（不影响his.hero的使用）</li>
</ul>
<blockquote>
<p>2020/04/29</p>
</blockquote>
<ul>
<li>致命 | 现在time模块不再支持原生计时器对象的获取时间了，全部改为框架自实现</li>
<li>致命 | 修复timer索引有误的bug（可能导致计时器无法删除）</li>
<li>致命 | 修复胜利失败不会自动结束游戏的问题</li>
<li>致命 | 修复物品事件无法注册的bug</li>
<li>优化 | 继续完善英雄选择</li>
</ul>
<blockquote>
<p>2020/04/26</p>
</blockquote>
<ul>
<li>优化 | 调整skill的damage，现在伤害动作可以没有伤害来源</li>
</ul>
<blockquote>
<p>2020/04/25</p>
</blockquote>
<ul>
<li>致命 | 修复is模块的时间判断bug，修复天气模块的一些bug</li>
<li>致命 | 删除mark模块（遮罩）归并到新增的texture模块</li>
<li>优化 | 修复了一些技能边界问题</li>
</ul>
<blockquote>
<p>2020/04/23 - 24</p>
</blockquote>
<ul>
<li>致命 | message模块删除，echo方法现在是全局方法，同时合并实现echo00等方法</li>
<li>优化 | hero模块重构</li>
<li>优化 | env模块重构（迷雾方法现在归属在env模块）</li>
</ul>
<blockquote>
<p>2020/04/22</p>
</blockquote>
<ul>
<li>优化 | 更优质的事件顺序编排</li>
</ul>
<blockquote>
<p>2020/04/20</p>
</blockquote>
<ul>
<li>致命 | 不再内置BJ文件，如需使用，自行补充和引用</li>
</ul>
<blockquote>
<p>2020/04/15 - 20</p>
</blockquote>
<ul>
<li>致命 | 删除了event的onSummon（被召唤）事件</li>
<li>致命 | 修复击飞目标参数错误的bug</li>
<li>功能 | 新增被反伤事件</li>
<li>优化 | 删除了上下左右和选择单位对apm的影响</li>
<li>优化 | event充分利用pool，重构大部分的方法</li>
</ul>
<blockquote>
<p>2020/04/14</p>
</blockquote>
<ul>
<li>致命 | - 修复event区域进入离开参数错误的bug</li>
</ul>
<blockquote>
<p>2020/03/31</p>
</blockquote>
<ul>
<li>功能 | - 整合随机数</li>
</ul>
<blockquote>
<p>2020/03/30</p>
</blockquote>
<ul>
<li>致命 | - 修复一个物品拾取事件变量[pickup]命名丢失错误</li>
</ul>
<blockquote>
<p>2020/03/28</p>
</blockquote>
<ul>
<li>优化 | - 利用event注册池，动态注册事件动态分配，极大降低框架默认注册崩溃的可能性</li>
</ul>
<blockquote>
<p>2020/03/23</p>
</blockquote>
<ul>
<li>致命 | - 修复unit.del持续时间为0的注册单位变量无法释放的问题</li>
</ul>
<blockquote>
<p>2020/03/22</p>
</blockquote>
<ul>
<li>优化 | - 重实现整理DZapi</li>
</ul>
<blockquote>
<p>2020/03/16</p>
</blockquote>
<ul>
<li>功能 | - 增加一个商城作弊法</li>
<li>优化 | - strpos现在找不到返回false而不是-1</li>
</ul>
<blockquote>
<p>2020/03/06</p>
</blockquote>
<ul>
<li>功能 | - string新增一个strpos方法</li>
<li>优化 | - 优化isOwnItem,现在同时支持int和string类型的id</li>
</ul>
<blockquote>
<p>2020/02/29</p>
</blockquote>
<ul>
<li>优化 | - 整合区间距离计算</li>
</ul>
<blockquote>
<p>2020/02/24 ~ 27</p>
</blockquote>
<ul>
<li>优化 | - 计时器与窗口分离，去除计时器调用时的闭包泄漏</li>
<li>优化 | - 改变filter的使用，用来解决group的闭包泄漏</li>
<li>优化 | - 重做物品拾取方法，改成框架自实现，不再使用jass方法，用来解决引擎闭包泄漏</li>
</ul>
<blockquote>
<p>2020/02/22</p>
</blockquote>
<ul>
<li>致命 | - 弃用pairs</li>
</ul>
<blockquote>
<p>2020/02/19</p>
</blockquote>
<ul>
<li>优化 | - time模块新增一个池，用于计时器handle的复用，经测试计时器即使删除内存也不释放，此举解决了内存溢出的问题</li>
<li>功能 | - time模块delDialog方法删除，现在调用delTimer会自动删除对话框，而回调也不再提供dialog的handle</li>
</ul>
<blockquote>
<p>2020/02/18</p>
</blockquote>
<ul>
<li>功能 | - 现在debug文件里自带调试开启，并且进行了常规错误的捕获，更方便突发测试，自动调试在打包时会自动删除</li>
</ul>
<blockquote>
<p>2020/02/17</p>
</blockquote>
<ul>
<li>优化 | - texttag设置了一个limit值作用限制上限，解决lua调用jass函数无效却占用资源丢失跟踪无法释放内存的问题</li>
</ul>
<blockquote>
<p>2020/02/15</p>
</blockquote>
<ul>
<li>功能 | - 新增打包package工具用于上线,复制exampleini,双击package打包</li>
<li>优化 | - 统合group</li>
</ul>
<blockquote>
<p>2020/02/14</p>
</blockquote>
<ul>
<li>致命 | - 重构dzapi！现在有个plugin文件复制到触发开启dzapi</li>
<li>功能 | - 新增一个玩家离开游戏的事件</li>
</ul>
<blockquote>
<p>2020/02/13</p>
</blockquote>
<ul>
<li>功能 | - 新增is两个判断：单位是否已被删除,单位是否正在受伤</li>
</ul>
<blockquote>
<p>2020/02/12</p>
</blockquote>
<ul>
<li>致命 | - 优化加载步骤，不再需要构建初始化触发器执行作弊码指令</li>
<li>致命 | - 删除了区域注册的初始化过程，转移至hunit(以后不通过hunit来创建单位就不会被系统识别)</li>
<li>功能 | - hunit.create新增register,isOpenSolt参数，可以控制是否注册和注册物品栏</li>
<li>功能 | - 新增获取排行榜名次玩家的3个方法</li>
<li>功能 | - 新增玩家名称处理的2个方法</li>
</ul>
<blockquote>
<p>2020/02/10</p>
</blockquote>
<ul>
<li>功能 | - player模块新增一个隐藏所有单位方法</li>
</ul>
<blockquote>
<p>2020/02/09</p>
</blockquote>
<ul>
<li>致命 | - 修复缴械对象获取错误的bug</li>
<li>致命 | - 修复is.get错误的bug</li>
</ul>
<blockquote>
<p>2020/02/08</p>
</blockquote>
<ul>
<li>致命 | - 修复了之前改动的眩晕以致有时无效的bug</li>
<li>功能 | - string 新增方法 vkey,attr调用此方法，提升set的效率大概20倍</li>
<li>优化 | - 反伤数值机制精度为0.01,小于0.01无效</li>
</ul>
<blockquote>
<p>2020/02/06</p>
</blockquote>
<ul>
<li>优化 | - 物品属性系统的完成及内存优化</li>
</ul>
<blockquote>
<p>2020/02/05</p>
</blockquote>
<ul>
<li>优化 | - 部分attr的slk方法转移至slk-helper</li>
</ul>
<blockquote>
<p>2020/02/04</p>
</blockquote>
<ul>
<li>致命 | - math删除了两个已经无用的函数 oddsItem coverAttrEffectVal</li>
<li>功能 | - 新增一个quest模块</li>
<li>功能 | - debug新增rem方法，用于检测执行时间</li>
<li>优化 | - 修复hluaF9事件错误的bug</li>
</ul>
<blockquote>
<p>2020/02/02</p>
</blockquote>
<ul>
<li>功能 | - 新增一个方法判断是否隐身</li>
<li>优化 | - 无敌的作用机制改为技能的Avul</li>
<li>优化 | - 删除了源的框架属性设定</li>
<li>优化 | - 优化SLK预读</li>
</ul>
<blockquote>
<p>2020/02/01</p>
</blockquote>
<ul>
<li>优化 | - 删除了全局注册这个事件</li>
<li>优化 | - 排行榜现在自动根据数值降序</li>
</ul>
<blockquote>
<p>2020/01/31</p>
</blockquote>
<ul>
<li>功能 | - item新增方法pick</li>
</ul>
<blockquote>
<p>2020/01/30</p>
</blockquote>
<ul>
<li>致命 | - 修复attr没有处理护甲和魔抗在伤害中比率的问题</li>
</ul>
<blockquote>
<p>2020/01/29</p>
</blockquote>
<ul>
<li>优化 | - runtime的gc</li>
<li>优化 | - 黄金木材资源的ratio生效机制更改，现只需要调用add方法会自动结合比率计算，如果add方法设定了单位，还会自动展示漂浮字</li>
<li>优化 | - 漂浮字的动画和呈现的效率</li>
</ul>
<blockquote>
<p>2020/01/27</p>
</blockquote>
<ul>
<li>致命 | - 修复attr-effect不能正确删除的bug</li>
<li>功能 | - 新增一个蝗虫的is判断</li>
<li>优化 | - 超过漂浮字上限的优化处理</li>
</ul>
<blockquote>
<p>2020/01/26</p>
</blockquote>
<ul>
<li>优化 | - 新增一个group方法loop，新增一个技能，矩形打击</li>
</ul>
<blockquote>
<p>2020/01/25</p>
</blockquote>
<ul>
<li>优化 | - 伤害增幅的key改为damage_extent</li>
</ul>
<blockquote>
<p>2020/01/24</p>
</blockquote>
<ul>
<li>鼠年快乐！</li>
</ul>
<blockquote>
<p>2020/01/23</p>
</blockquote>
<ul>
<li>致命 | - 修复了attr对于string数值处理不妥的bug</li>
<li>功能 | - 新增技能leapReflex</li>
</ul>
<blockquote>
<p>2020/01/22</p>
</blockquote>
<ul>
<li>致命 | - 修复小数缓存的微妙差值bug</li>
<li>功能 | - 新增属性：神/神抗</li>
<li>优化 | - 修复swim技能damageType获取错误对象的bug</li>
</ul>
<blockquote>
<p>2020/01/20</p>
</blockquote>
<ul>
<li>功能 | - 新增unit方法，设置单位的动画速度</li>
</ul>
<blockquote>
<p>2020/01/19</p>
</blockquote>
<ul>
<li>功能 | - 新增string方法：子串统计</li>
<li>功能 | - 反伤增加无敌判定(无敌不会被反伤)</li>
</ul>
<blockquote>
<p>2020/01/18</p>
</blockquote>
<ul>
<li>致命 | - 修复event的handle对象错误bug</li>
<li>功能 | - 新增一个string方法，用于重复字符串</li>
</ul>
<blockquote>
<p>2020/01/17</p>
</blockquote>
<ul>
<li>重构 | - 增加了一个常规伤害的设定</li>
<li>致命 | - 修复一部分属性小数精度丢失的bug</li>
<li>功能 | - 分裂、物理暴击、魔法暴击现在不属于常规属性，改为effect类型</li>
</ul>
<blockquote>
<p>2020/01/16</p>
</blockquote>
<ul>
<li>功能 | - 属性系统的伤害动作全部与skill的合并，现在只需要使用hskill.damage,而hattr.huntUnit则被删除</li>
</ul>
<blockquote>
<p>2020/01/15</p>
</blockquote>
<ul>
<li>功能 | - 新增leap拓展技能leapRange</li>
<li>功能 | - 新增技能：隐身/现形，优化hskill及hattr</li>
<li>功能 | - 修复effect一些关于更新迭代的bug</li>
</ul>
<blockquote>
<p>2020/01/14</p>
</blockquote>
<ul>
<li>致命 | - 修复start.lua错误判断蝗虫存在的bug</li>
<li>致命 | - 修复math的bug</li>
<li>功能 | - 无敌和群体无敌技能，增加一个可以设置特效的参数</li>
<li>功能 | - leap技能重做，修复math库的bug</li>
<li>功能 | - 新增leap拓展技能pow</li>
</ul>
<blockquote>
<p>2020/01/13</p>
</blockquote>
<ul>
<li>功能 | - 新增dzapi封装、unit方法</li>
<li>功能 | - 新增技能，剑刃风暴</li>
</ul>
<blockquote>
<p>2020/01/12</p>
</blockquote>
<ul>
<li>重构 | - damage函数的优化</li>
<li>致命 | - 修复眩晕技能持续时间过短时，无法准确删除buff的bug</li>
<li>功能 | - 新增玩家方法get/set称号</li>
<li>优化 | - 修复属性系统临时增加的物品栏没被删除的bug</li>
<li>优化 | - 增加一个魔爆特效</li>
<li>优化 | - 修复新版事件触发技能事件有可能获取数据错误的bug</li>
</ul>
<blockquote>
<p>2020/01/11</p>
</blockquote>
<ul>
<li>重构 | - hevent模块重做，影响获取回调数据的方式</li>
</ul>
<blockquote>
<p>2020/01/10</p>
</blockquote>
<ul>
<li>功能 | - 新增一个修改单位颜色的方法</li>
<li>优化 | - 排行榜的数据设定法修改(改成和多面板差不多)</li>
</ul>
<blockquote>
<p>2020/01/09</p>
</blockquote>
<ul>
<li>致命 | - 修复了闪电效果的无效偏移bug及技能闪电链的一些bug</li>
<li>功能 | - group新增获取最近单位方法，skill闪电链优化单位选取(最近的敌人)</li>
</ul>
<blockquote>
<p>2020/01/08</p>
</blockquote>
<ul>
<li>重构 | - hlogic模块直接删除，转为基本库的math</li>
<li>重构 | - mark模块重做，同时修复一些BJ问题</li>
<li>致命 | - 修复属性系统视野，绿字攻击，攻速，护甲的减除bug</li>
<li>致命 | - 修复slk攻速技能数值错误的问题</li>
<li>致命 | - 修复负护甲负魔抗失效的bug</li>
<li>优化 | - 调节多面板的图标占位</li>
<li>优化 | - 修复BJ、player bug</li>
</ul>
<blockquote>
<p>2020/01/07</p>
</blockquote>
<ul>
<li>功能 | - 新增table模块，而system被拆分为table和string，不复存在</li>
<li>功能 | - 新增string基本库，原来的idchar转换方法从system删除，内置于string</li>
<li>功能 | - 新增多面板，排行榜增加两个设定参数的方法,修复一个skill的bug</li>
<li>功能 | - group新增坐标法，优化原有的点、单位创建</li>
<li>功能 | - unit增加一个方法获取单位名字</li>
<li>功能 | - 增加了一个技能【范围眩晕】</li>
<li>优化 | - 修改effect、buff的特效作用顺序</li>
<li>优化 | - 优化单位、物品的id问题</li>
</ul>
<blockquote>
<p>2020/01/06</p>
</blockquote>
<ul>
<li>重构 | - skill大更新，部分技能改为options参数模式,眩晕等技能现在自动对抵抗作出反应</li>
<li>优化 | - 修复了新版table层次不正确的bug</li>
<li>优化 | - 属性系统的实现，MD5的调用</li>
<li>优化 | - 修正buff的删除</li>
</ul>
<blockquote>
<p>2020/01/05</p>
</blockquote>
<ul>
<li>重构 | - 属性系统大更新</li>
</ul>
<blockquote>
<p>2020/01/04</p>
</blockquote>
<ul>
<li>功能 | - 现在创建物品时如果是给予单位，可选物品的位置</li>
<li>优化 | - 修复了删除技能必须要设置during的不人性化问题</li>
</ul>
<blockquote>
<p>2020/01/03</p>
</blockquote>
<ul>
<li>致命 | - 修复了hattr力敏智的计算出错的bug</li>
<li>功能 | - 自然属性新增“虫”insect属性</li>
</ul>
<blockquote>
<p>2020/01/01</p>
</blockquote>
<ul>
<li>致命 | - 修复属性系统的特性bug</li>
<li>功能 | - 现在hevent的GetTriggerSkill返回的不再是handleID而是charID</li>
<li>功能 | - award模块与unit连通(主要是exp的改动)</li>
<li>优化 | - 修复buff/debuff无效的bug（key错误）</li>
<li>优化 | - 修复了一些unit模块的bug</li>
</ul>
<blockquote>
<p>2019/12/31</p>
</blockquote>
<ul>
<li>优化 | - 修复了hColor亮紫色颜色错误的bug</li>
</ul>
<blockquote>
<p>2019/12/30</p>
</blockquote>
<ul>
<li>优化 | - 修改item获取slk的部分方法,getAvatar改为getArt（获取图标）,getModel改为getFile（获取模型路径）</li>
</ul>
<blockquote>
<p>2019/12/29</p>
</blockquote>
<ul>
<li>优化 | - 修复一个关于玩家胜利失败的BJbug</li>
</ul>
<blockquote>
<p>2019/12/25</p>
</blockquote>
<ul>
<li>功能 | - dialog现在支持table的buttons，同时会自动识别设置的key指，可能的话作为热键</li>
<li>功能 | - 优化物品，修复自动物品不会触发使用事件的bug</li>
<li>功能 | - 优化system的错误提示</li>
<li>功能 | - 新增hhero方法：设置英雄当前等级</li>
</ul>
<blockquote>
<p>2019/12/24</p>
</blockquote>
<ul>
<li>功能 | - 优化一些拥有持续时间的函数，during可以不填</li>
<li>功能 | - 对话框现在支持关联table及序列table</li>
<li>优化 | - 修复玩家获取地图区域调用了BJ函数的问题</li>
</ul>
<blockquote>
<p>2019/12/23</p>
</blockquote>
<ul>
<li>功能 | - 增强debug(mb方法)</li>
<li>功能 | - his新增判断是否敌军、友军的方法</li>
</ul>
<blockquote>
<p>2019/12/22</p>
</blockquote>
<ul>
<li>功能 | - 新增物品的满格、超重事件、属性计算</li>
<li>优化 | - 修复runtime的参数重名bug，优化item和unit的slk数据获取</li>
</ul>
<blockquote>
<p>2019/12/21</p>
</blockquote>
<ul>
<li>功能 | - htime最重要的两个计时器方法的参数顺序变更，优化nil的编写</li>
<li>功能 | - 现在system的print_r归到debug里面去了</li>
<li>优化 | - 删除系统默认的空冷却slk</li>
</ul>
<blockquote>
<p>2019/12/20</p>
</blockquote>
<ul>
<li>功能 | - skills删除了0秒无敌（合并到无敌的方法去了）</li>
<li>功能 | - slk新增一棵树，修复镜头有几率出错的bug</li>
<li>功能 | - 新增一波技能的通用方法(添加、删除)</li>
<li>优化 | - 修复BJ函数错误</li>
</ul>
<blockquote>
<p>2019/12/18</p>
</blockquote>
<ul>
<li>功能 | - effect现在只支持&gt;=0（0为删除型特效调用法）</li>
<li>优化 | - 修复已知的bug</li>
</ul>
<blockquote>
<p>2019/12/16</p>
</blockquote>
<ul>
<li>功能 | - 现在onLevelUp事件支持获取提升了的等级差</li>
<li>优化 | - 修了很多bug（sound、event、hero、player等）</li>
</ul>
<blockquote>
<p>2019/12/15</p>
</blockquote>
<ul>
<li>功能 | - 加入leaderBoard（排行榜）功能</li>
<li>优化 | - 修复了is库使用了BJ函数导致的bug</li>
<li>优化 | - 修复技能、属性系统，飘浮字，事件一些bug，优化一些效果</li>
<li>优化 | - 调整默认的奖励范围，删除一些调试</li>
<li>优化 | - 修复玩家金钱木材设置无效的bug</li>
<li>优化 | - 修复runtime bug</li>
<li>优化 | - 同步unit库在其他库中的引用</li>
</ul>
<blockquote>
<p>2019/12/13</p>
</blockquote>
<ul>
<li>优化 | - 修复计时器一次性时窗口不显示的bug</li>
</ul>
<blockquote>
<p>2019/12/12</p>
</blockquote>
<ul>
<li>致命 | - 修复创建单位初始index不正确的bug</li>
<li>致命 | - 修复 timer bug</li>
<li>功能 | - 加入dialog（对话框），用更精简的方法优化msg</li>
<li>功能 | - 删除无用的技能空冷却，增加一个栈信息打印方便调试，优化代码中判断</li>
</ul>
<blockquote>
<p>2019/02/21 ~ 2019/10/11</p>
</blockquote>
<ul>
<li>功能 | - 功能补充</li>
</ul>
<blockquote>
<p>2019/02/21</p>
</blockquote>
<ul>
<li>start </li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="api大全"><a class="header" href="#api大全">API大全</a></h2>
<ul>
<li>[B]blizzard.lua</li>
<li>[L]<strong>console\build.lua</strong></li>
</ul>
<pre><code>print(...)
print_stack(...)
print_mb(...)
print_err(val)
print_r(t, printMethod, showDetail)
print_mbr(t)
</code></pre>
<ul>
<li>[L]<strong>console\hslk.lua</strong></li>
</ul>
<pre><code>rem(key1, key2)
print_stack(...)
print_r(t)
sub_print_r(tt, indent)
</code></pre>
<ul>
<li>[L]<strong>console\test.lua</strong></li>
</ul>
<pre><code>JassRuntime.error_handle(msg)
print(...)
print_stack(...)
print_mb(...)
print_err(val)
print_r(t, printMethod, showDetail)
sub_print_r(tt, indent)
print_mbr(t)
</code></pre>
<ul>
<li>[B]const\abilityTarget.lua</li>
<li>[B]const\attribute.lua</li>
<li>[B]const\attributeXtras.lua</li>
<li>[B]const\breakArmorType.lua</li>
<li>[B]const\cache.lua</li>
<li>[B]const\damageSource.lua</li>
<li>[B]const\damageType.lua</li>
<li>[B]const\enchant.lua</li>
<li>[B]const\event.lua</li>
<li>[B]const\hero.lua</li>
<li>[B]const\hotKey.lua</li>
<li>[B]const\item.lua</li>
<li>[B]const\keyboard.lua</li>
<li>[B]const\monitor.lua</li>
<li>[B]const\target.lua</li>
<li>[B]const\textTag.lua</li>
<li>[L]<strong>const\ubertip.lua</strong></li>
</ul>
<pre><code>CONST_UBERTIP_TARGET_LABEL(target, actionType, actionField, isValue)
CONST_UBERTIP_IS_PERCENT(key)
CONST_UBERTIP_IS_LEVEL(key)
CONST_UBERTIP_ATTR_XTRAS(data, indent)
CONST_UBERTIP_ATTR(attr, sep, indent)
CONST_UBERTIP_RING_ABILITY(data)
CONST_UBERTIP_RING_ITEM(data)
CONST_RESEARCH_UBERTIP_ATTR(attr)
CONST_RESEARCH_UBERTIP_RING_ABILITY(data)
</code></pre>
<ul>
<li>[B]const\unit.lua</li>
<li>[L]<strong>echo.lua</strong></li>
</ul>
<pre><code>echo(msg, whichPlayer, duration, x, y)
</code></pre>
<ul>
<li>[B]engine.lua</li>
<li>[L]<strong>foundation\Mapping.lua</strong></li>
</ul>
<pre><code>Mapping:new()
Mapping:length()
Mapping:set(key, value)
Mapping:get(key)
Mapping:del(...)
Mapping:forEach(action)
</code></pre>
<ul>
<li>[L]<strong>foundation\color.lua</strong></li>
</ul>
<pre><code>hcolor.hex(str, color)
hcolor.mixed(str, color)
hcolor.gold(str)
hcolor.white(str)
hcolor.black(str)
hcolor.grey(str)
hcolor.greyDeep(str)
hcolor.redLight(str)
hcolor.red(str)
hcolor.greenLight(str)
hcolor.green(str)
hcolor.yellowLight(str)
hcolor.yellow(str)
hcolor.orangeLight(str)
hcolor.orange(str)
hcolor.skyLight(str)
hcolor.sky(str)
hcolor.seaLight(str)
hcolor.sea(str)
hcolor.purpleLight(str)
hcolor.purple(str)
</code></pre>
<ul>
<li>[L]<strong>foundation\json.lua</strong></li>
</ul>
<pre><code>kind_of(obj)
escape_str(s)
skip_delim(str, pos, delim, err_if_missing)
parse_str_val(str, pos, val)
parse_num_val(str, pos)
json.stringify(obj, as_key)
json.parse(str, pos, end_delim)
</code></pre>
<ul>
<li>[L]<strong>foundation\math.lua</strong></li>
</ul>
<pre><code>math.random(n, m)
math.polarProjection(x, y, dist, angle)
math.round(decimal, n)
math.numberFormat(value, n)
math.integerFormat(value)
math.getDegBetweenXY(x1, y1, x2, y2)
math.getDegBetweenUnit(u1, u2)
math.getDistanceBetweenXY(x1, y1, x2, y2)
math.getDistanceBetweenUnit(u1, u2)
math.getMaxDistanceInRect(w, h, deg)
math.date(timestamp)
</code></pre>
<ul>
<li>[L]<strong>foundation\string.lua</strong></li>
</ul>
<pre><code>string.char2id(idChar)
string.id2char(id)
string.mb_len(inputStr)
string.vkey(t)
string.addslashes(s)
string.stripslashes(s)
string.base64Encode(source_str)
string.base64Decode(str64)
string.explode(delimeter, str)
string.implode(delimeter, table)
string.split(str, size)
string.mb_split(str, size)
string.strpos(str, pattern)
string.findCount(str, pattern)
string.attrBuffKey(val)
string.convert(dec, cvt)
</code></pre>
<ul>
<li>[L]<strong>foundation\table.lua</strong></li>
</ul>
<pre><code>table.len(table)
table.random(arr)
table.shuffle(arr)
table.clone(org)
copy(org1, res)
table.merge(...)
table.includes(arr, val)
table.delete(arr, val, qty)
table.value(arr, key)
table.obj2arr(obj, keyMap)
</code></pre>
<ul>
<li>[B]h-lua.lua</li>
<li>[L]<strong>lib\attribute\setter.lua</strong></li>
</ul>
<pre><code>hattributeSetter.getDecimalTemporaryStorage(whichUnit, attr)
hattributeSetter.setDecimalTemporaryStorage(whichUnit, attr, value)
hattributeSetter.relyRegister(whichUnit)
hattributeSetter.setUnitMaxLife(whichUnit, currentVal, futureVal, diff)
hattributeSetter.setUnitMaxMana(whichUnit, currentVal, futureVal, diff)
hattributeSetter.setUnitAttackWhite(whichUnit, futureVal, diff)
hattributeSetter.setUnitAttackGreen(whichUnit, futureVal)
hattributeSetter.setUnitAttackRange(whichUnit, futureVal)
hattributeSetter.setUnitAttackSpace(whichUnit, futureVal)
hattributeSetter.setUnitAttackSpeed(whichUnit, futureVal)
hattributeSetter.setUnitDefendWhite(whichUnit, futureVal)
hattributeSetter.setUnitDefendGreen(whichUnit, futureVal)
hattributeSetter.setUnitSight(whichUnit, futureVal)
hattributeSetter.setUnitThree(whichUnit, futureVal, attr, diff)
hattributeSetter.relation(whichUnit, attr, diff)
</code></pre>
<ul>
<li>[L]<strong>lib\attribute\xtras.lua</strong></li>
</ul>
<pre><code>hattribute.xtrasPassAlive(targetUnit, type, field)
hattribute.getXtras(whichUnit, eventKey)
hattribute.hasXtras(whichUnit, eventKey)
hattribute.xtras(triggerUnit, eventKey, evtData)
</code></pre>
<ul>
<li>[L]<strong>lib\attribute.lua</strong></li>
</ul>
<pre><code>hattribute.isValType(field, valType)
hattribute.setRelation(relation)
hattribute.init(whichUnit)
hattribute.setHandle(whichUnit, attr, opr, val, during)
hattribute.set(whichUnit, during, data)
hattribute.get(whichUnit, attr, default)
hattribute.caleAttribute(damageSrc, isAdd, whichUnit, attr, times)
hattribute.getArmorReducePercent(defend)
</code></pre>
<ul>
<li>[L]<strong>lib\award.lua</strong></li>
</ul>
<pre><code>haward.setShareRange(range)
haward.forUnit(whichUnit, exp, gold, lumber)
haward.forUnitExp(whichUnit, exp)
haward.forUnitGold(whichUnit, gold)
haward.forUnitLumber(whichUnit, lumber)
haward.forGroup(whichUnit, exp, gold, lumber)
haward.forGroupExp(whichUnit, exp)
haward.forGroupGold(whichUnit, gold)
haward.forGroupLumber(whichUnit, lumber)
haward.forPlayer(gold, lumber)
haward.forPlayerGold(gold)
haward.forPlayerLumber(lumber)
</code></pre>
<ul>
<li>[L]<strong>lib\buff.lua</strong></li>
</ul>
<pre><code>hbuff.uniqueKey()
hbuff.count(handleUnit, groupKey)
hbuff.create(during, handleUnit, groupKey, diff, purpose, rollback)
hbuff.purpose(handleUnit, buffKey)
hbuff.delete(handleUnit, buffKey)
</code></pre>
<ul>
<li>[L]<strong>lib\cache.lua</strong></li>
</ul>
<pre><code>hcache.len()
hcache.exist(handle, key)
hcache.alloc(handle)
hcache.protect(handle)
hcache.protected(handle)
hcache.free(handle, key)
hcache.set(handle, key, value)
hcache.get(handle, key, default)
</code></pre>
<ul>
<li>[L]<strong>lib\camera.lua</strong></li>
</ul>
<pre><code>hcamera.reset(whichPlayer, during)
hcamera.apply(whichPlayer, during, camerasetup)
hcamera.toXY(whichPlayer, during, x, y)
hcamera.toUnit(whichPlayer, during, whichUnit)
hcamera.lock(whichPlayer, whichUnit)
hcamera.changeDistance(whichPlayer, diffDistance)
hcamera.shock(whichPlayer, whichType, during, scale)
</code></pre>
<ul>
<li>[L]<strong>lib\cmd.lua</strong></li>
</ul>
<pre><code>hcmd.conf(commands, playerIndexes)
</code></pre>
<ul>
<li>[L]<strong>lib\dialog.lua</strong></li>
</ul>
<pre><code>hdialog.hotkey(key)
hdialog.del(whichDialog)
hdialog.create(whichPlayer, options, action)
</code></pre>
<ul>
<li>[B]lib\dzapi\cache.lua</li>
<li>[L]<strong>lib\dzapi.lua</strong></li>
</ul>
<pre><code>hdzapi.isRPGLobby()
hdzapi.isRPGLadder()
hdzapi.isRedVip(whichPlayer)
hdzapi.isBlueVip(whichPlayer)
hdzapi.isPlatformVIP(whichPlayer)
hdzapi.mapLevel(whichPlayer)
hdzapi.hasMallItem(whichPlayer, key)
hdzapi.timestamp()
hdzapi.date()
hdzapi.loadServer(whichPlayer, key)
hdzapi.loadServerBool(whichPlayer, key)
hdzapi.loadServerNumber(whichPlayer, key)
hdzapi.loadServerInteger(whichPlayer, key)
hdzapi.roulette(whichPlayer, method, params)
hdzapi.saveServer(whichPlayer, key, value)
hdzapi.clearServer(whichPlayer, key)
hdzapi.setRoomStat(whichPlayer, key, value)
</code></pre>
<ul>
<li>[B]lib\dzui\cache.lua</li>
<li>[L]<strong>lib\dzui.lua</strong></li>
</ul>
<pre><code>hdzui.wideScreen()
hdzui.hideInterface()
hdzui.loadToc(tocFilePath)
hdzui.frame(fdfName, parent, id)
hdzui.frameTag(fdfType, fdfName, parent, tag, id)
hdzui.framePoint(frameId, relation, align, alignRelation, x, y)
hdzui.onMouse(frameId, mouseOrder, callFunc)
hdzui.miniMapTrack(options)
</code></pre>
<ul>
<li>[L]<strong>lib\effect.lua</strong></li>
</ul>
<pre><code>heffect.del(e)
heffect.toXY(effectModel, x, y, during)
heffect.toUnit(effectModel, targetUnit, during)
heffect.bindUnit(effectModel, targetUnit, attach, during)
</code></pre>
<ul>
<li>[L]<strong>lib\enchant.lua</strong></li>
</ul>
<pre><code>henchant.setIntrinsicAddition(percent)
henchant.enableAppend(status)
henchant.setAppendAttachEffect(whichEnchant, effects)
henchant.setEnvReaction(onEnchant, toEnchant, reaction)
henchant.append(options)
</code></pre>
<ul>
<li>[L]<strong>lib\enemy.lua</strong></li>
</ul>
<pre><code>henemy.set(name, color, playerIndexes, isShareSight)
henemy.getPlayer(createQty, teamNo)
henemy.isShareSight(teamNo)
henemy.create(options)
</code></pre>
<ul>
<li>[L]<strong>lib\env.lua</strong></li>
</ul>
<pre><code>henv.setFogStatus(enableFog, enableMark)
henv.clearDestructable(whichRect)
henv.build(whichRect, typeStr, isInvulnerable, isDestroyRect, ground, doodad, units)
henv.random(whichRect, typeStr, isInvulnerable, isDestroyRect)
</code></pre>
<ul>
<li>[L]<strong>lib\event\defaultActions.lua</strong></li>
</ul>
<pre><code></code></pre>
<ul>
<li>[L]<strong>lib\event.lua</strong></li>
</ul>
<pre><code>hevent.free(handle)
hevent.pool(handle, conditionAction, regEvent)
hevent.setLastDamage(sourceUnit, targetUnit)
hevent.getUnitLastDamageSource(whichUnit)
hevent.getUnitLastDamageTarget(whichUnit)
hevent.getPlayerLastDamageTarget(whichPlayer)
hevent.registerEvent(handle, key, callFunc)
hevent.triggerData(triggerData)
hevent.hslk(key, triggerData)
hevent.triggerEvent(handle, key, triggerData)
hevent.deleteEvent(handle, key, eventId)
hevent.onAttackDetect(whichUnit, callFunc)
hevent.onAttackGetTarget(whichUnit, callFunc)
hevent.onBeAttackReady(whichUnit, callFunc)
hevent.onAttack(whichUnit, callFunc)
hevent.onBeAttack(whichUnit, callFunc)
hevent.onSkill(whichUnit, callFunc)
hevent.onBeSkill(whichUnit, callFunc)
hevent.onSkillStudy(whichUnit, callFunc)
hevent.onSkillReady(whichUnit, callFunc)
hevent.onSkillCast(whichUnit, callFunc)
hevent.onSkillStop(whichUnit, callFunc)
hevent.onSkillEffect(whichUnit, callFunc)
hevent.onSkillFinish(whichUnit, callFunc)
hevent.onItem(whichUnit, callFunc)
hevent.onBeItem(whichUnit, callFunc)
hevent.onItemUsed(whichUnit, callFunc)
hevent.onItemDrop(whichUnit, callFunc)
hevent.onItemGet(whichUnit, callFunc)
hevent.onItemPawn(whichUnit, callFunc)
hevent.onItemSell(whichUnit, callFunc)
hevent.onUnitSell(whichUnit, callFunc)
hevent.onItemDestroy(whichItem, callFunc)
hevent.onItemSeparate(whichItem, callFunc)
hevent.onItemSynthesis(whichUnit, callFunc)
hevent.onItemOverWeight(whichUnit, callFunc)
hevent.onItemOverSlot(whichUnit, callFunc)
hevent.onDamage(whichUnit, callFunc)
hevent.onBeDamage(whichUnit, callFunc)
hevent.onDamageResistance(whichUnit, callFunc)
hevent.onAvoid(whichUnit, callFunc)
hevent.onBeAvoid(whichUnit, callFunc)
hevent.onBreakArmor(whichUnit, callFunc)
hevent.onBeBreakArmor(whichUnit, callFunc)
hevent.onSwim(whichUnit, callFunc)
hevent.onBeSwim(whichUnit, callFunc)
hevent.onBroken(whichUnit, callFunc)
hevent.onBeBroken(whichUnit, callFunc)
hevent.onSilent(whichUnit, callFunc)
hevent.onBeSilent(whichUnit, callFunc)
hevent.onUnarm(whichUnit, callFunc)
hevent.onBeUnarm(whichUnit, callFunc)
hevent.onFetter(whichUnit, callFunc)
hevent.onBeFetter(whichUnit, callFunc)
hevent.onBomb(whichUnit, callFunc)
hevent.onBeBomb(whichUnit, callFunc)
hevent.onLightningChain(whichUnit, callFunc)
hevent.onBeLightningChain(whichUnit, callFunc)
hevent.onCrackFly(whichUnit, callFunc)
hevent.onBeCrackFly(whichUnit, callFunc)
hevent.onRebound(whichUnit, callFunc)
hevent.onBeRebound(whichUnit, callFunc)
hevent.onKnocking(whichUnit, callFunc)
hevent.onBeKnocking(whichUnit, callFunc)
hevent.onSplit(whichUnit, callFunc)
hevent.onBeSplit(whichUnit, callFunc)
hevent.onHemophagia(whichUnit, callFunc)
hevent.onBeHemophagia(whichUnit, callFunc)
hevent.onSkillHemophagia(whichUnit, callFunc)
hevent.onBeSkillHemophagia(whichUnit, callFunc)
hevent.onSiphon(whichUnit, callFunc)
hevent.onBeSiphon(whichUnit, callFunc)
hevent.onSkillSiphon(whichUnit, callFunc)
hevent.onBeSkillSiphon(whichUnit, callFunc)
hevent.onPunish(whichUnit, callFunc)
hevent.onDead(whichUnit, callFunc)
hevent.onKill(whichUnit, callFunc)
hevent.onReborn(whichUnit, callFunc)
hevent.onExp(whichUnit, callFunc)
hevent.onLevelUp(whichUnit, callFunc)
hevent.onUpgradeStart(whichUnit, callFunc)
hevent.onUpgradeCancel(whichUnit, callFunc)
hevent.onUpgradeFinish(whichUnit, callFunc)
hevent.onEnterUnitRange(whichUnit, radius, callFunc)
hevent.onEnterRect(whichRect, callFunc)
hevent.onLeaveRect(whichRect, callFunc)
hevent.onConstructStart(whichPlayer, callFunc)
hevent.onConstructCancel(whichPlayer, callFunc)
hevent.onConstructFinish(whichPlayer, callFunc)
hevent.onChat(whichPlayer, pattern, callFunc)
hevent.onEsc(whichPlayer, callFunc)
hevent.onSelection(whichPlayer, qty, callFunc)
hevent.onDeSelection(whichPlayer, callFunc)
hevent.onPlayerLeave(callFunc)
hevent.onPlayerResourceChange(callFunc)
hevent.onPickHero(callFunc)
hevent.onDestructableDestroy(whichDestructable, callFunc)
hevent.onMapDestructableDestroy(callFunc)
hevent.onCourierBlink(whichUnit, callFunc)
hevent.onCourierRangePickUp(whichUnit, callFunc)
hevent.onCourierSeparate(whichUnit, callFunc)
hevent.onCourierDeliver(whichUnit, callFunc)
hevent.onMoveStart(whichUnit, callFunc)
hevent.onMoving(whichUnit, callFunc)
hevent.onMoveStop(whichUnit, callFunc)
hevent.onHoldOn(whichUnit, callFunc)
hevent.onStop(whichUnit, callFunc)
</code></pre>
<ul>
<li>[L]<strong>lib\group.lua</strong></li>
</ul>
<pre><code>hgroup.forEach(whichGroup, action)
hgroup.count(whichGroup)
hgroup.includes(whichGroup, whichUnit)
hgroup.isEmpty(whichGroup)
hgroup.addUnit(whichGroup, whichUnit)
hgroup.removeUnit(whichGroup, whichUnit)
hgroup.createByXY(x, y, radius, filterFunc)
hgroup.createByUnit(u, radius, filterFunc)
hgroup.createByRect(r, filterFunc)
hgroup.getClosest(whichGroup, x, y)
hgroup.portal(whichGroup, x, y, eff, isFollow)
hgroup.animate(whichGroup, animate)
hgroup.clear(whichGroup, isDestroy, isDestroyUnit)
</code></pre>
<ul>
<li>[L]<strong>lib\hero.lua</strong></li>
</ul>
<pre><code>hhero.getPrimary(whichHero)
hhero.getPrimaryLabel(whichHero)
hhero.getStrPlus(whichHero)
hhero.getAgiPlus(whichHero)
hhero.getIntPlus(whichHero)
hhero.getProperName(whichHero)
hhero.setPrevLevel(whichHero, lv)
hhero.getPrevLevel(whichHero)
hhero.getCurLevel(whichHero)
hhero.setCurLevel(whichHero, newLevel, showEffect)
hhero.getExp(whichHero)
hhero.getExpNeed(targetLevel)
hhero.getSkillPoints(whichHero)
hhero.setPlayerAllowQty(whichPlayer, max)
hhero.getPlayerAllowQty(whichPlayer)
hhero.setBornXY(x, y)
hhero.reborn(whichHero, delay, invulnerable, x, y, showDialog)
hhero.buildSelector(options)
</code></pre>
<ul>
<li>[L]<strong>lib\id.lua</strong></li>
</ul>
<pre><code>HL_ID_INIT()
</code></pre>
<ul>
<li>[L]<strong>lib\initialization.lua</strong></li>
</ul>
<pre><code></code></pre>
<ul>
<li>[L]<strong>lib\is.lua</strong></li>
</ul>
<pre><code>his.night()
his.day()
his.computer(whichPlayer)
his.playerSite(whichPlayer)
his.playing(whichPlayer)
his.neutral(whichPlayer)
his.detected(whichUnit, whichPlayer)
his.hasSlot(whichUnit, slotId)
his.canAttack(whichUnit)
his.dead(whichUnit)
his.alive(whichUnit)
his.deleted(whichUnit)
his.invincible(whichUnit)
his.invisible(whichUnit)
his.hero(whichUnit)
his.courier(whichUnit)
his.structure(whichUnit)
his.illusion(whichUnit)
his.ground(whichUnit)
his.air(whichUnit)
his.melee(whichUnit)
his.ranged(whichUnit)
his.summoned(whichUnit)
his.mechanical(whichUnit)
his.ancient(whichUnit)
his.sapper(whichUnit)
his.ethereal(whichUnit)
his.immune(whichUnit)
his.race(whichUnit, whichRace)
his.locust(whichUnit)
his.swim(whichUnit)
his.enablePunish(whichUnit)
his.punish(whichUnit)
his.silent(whichUnit)
his.unarm(whichUnit)
his.crackFly(whichUnit)
his.beDamaging(whichUnit)
his.damaging(whichUnit)
his.playerBeDamaging(whichPlayer)
his.playerDamaging(whichPlayer)
his.water(whichUnit)
his.floor(whichUnit)
his.unit(whichUnit, otherUnit)
his.enemy(whichUnit, otherUnit)
his.ally(whichUnit, otherUnit)
his.parallel(u1, u2, maxDistance, forcedOrder)
his.intersect(u1, u2, maxDistance, face2face)
his.enemyPlayer(whichUnit, whichPlayer)
his.allyPlayer(whichUnit, whichPlayer)
his.marking(whichPlayer)
his.inRect(whichRect, x, y)
his.borderRect(whichRect, x, y)
his.borderMap(x, y)
his.borderCamera(x, y)
his.destroy(whichItem)
his.hasItem(whichUnit, whichItemId)
</code></pre>
<ul>
<li>[L]<strong>lib\item.lua</strong></li>
</ul>
<pre><code>hitem.x(it)
hitem.y(it)
hitem.z(it)
hitem.embed(u)
hitem.free(whichItem)
hitem.setHolder(whichItem, holder)
hitem.getHolder(whichItem)
hitem.setLastHolder(whichItem, holder)
hitem.getLastHolder(whichItem)
hitem.backToLastHolder(whichItem)
hitem.isRobber(whichItem, robber)
hitem.used(whichUnit, whichItem, triggerData)
hitem.del(it, delay)
hitem.delFromUnit(whichUnit)
hitem.getId(itOrId)
hitem.getName(itOrId)
hitem.isShadowFront(itOrId)
hitem.isShadowBack(itOrId)
hitem.shadowID(itOrId)
hitem.getArt(itOrId)
hitem.getFile(itOrId)
hitem.getClass(itOrId)
hitem.getGoldCost(itOrId)
hitem.getLumberCost(itOrId)
hitem.getIsUsable(itOrId)
hitem.getIsPowerUp(itOrId)
hitem.getIsPerishable(itOrId)
hitem.getIsSellAble(itOrId)
hitem.getOverlie(itOrId)
hitem.getWeight(itOrId, charges)
hitem.getAttribute(itOrId)
hitem.getLevel(it)
hitem.getCharges(it)
hitem.setCharges(it, charges)
hitem.getTotalCharges(itemId, whichUnit)
hitem.getEmptySlot(whichUnit)
hitem.forEach(whichUnit, action)
hitem.addProperty(whichUnit, itId, charges)
hitem.subProperty(whichUnit, itId, charges)
hitem.overlyingSlot(itemSlot)
hitem.synthesis(whichUnit, items)
hitem.separate(whichItem, separateType, formulaIndex, whichUnit)
hitem.create(options)
hitem.fleeting(fleetingType, x, y, during, yourFunc)
hitem.give(origin, target)
hitem.pick(it, targetUnit)
hitem.copy(origin, target)
hitem.drop(origin, slot)
hitem.pickRect(u, x, y, w, h)
hitem.pickRound(u, x, y, r)
</code></pre>
<ul>
<li>[L]<strong>lib\itemPool.lua</strong></li>
</ul>
<pre><code>hitemPool.poolName(poolName)
hitemPool.insert(poolName, whichItem)
hitemPool.delete(poolName, whichItem)
hitemPool.free(whichItem)
hitemPool.forEach(poolName, action)
</code></pre>
<ul>
<li>[L]<strong>lib\japi\formatter.lua</strong></li>
</ul>
<pre><code>local toBool(value)
local toInt(value, def)
</code></pre>
<ul>
<li>[L]<strong>lib\japi\triumph.lua</strong></li>
</ul>
<pre><code></code></pre>
<ul>
<li>[L]<strong>lib\japi.lua</strong></li>
</ul>
<pre><code>hjapi.echo(msg)
hjapi.has(method)
hjapi.formatter(method, params)
hjapi.triumph(method, params, result)
hjapi.exec(method, params)
does not exist, please check the WE environment! You should make friends with 5382557(QQ)&quot;)
hjapi.DzAPI_CommonFunc_GetARGBColorValue(...)
hjapi.DzAPI_CommonFunc_GetARGBColorValuePercent(...)
hjapi.DzAPI_CommonFunc_SetARGBColorValue(...)
hjapi.DzAPI_CommonFunc_SetARGBColorValuePercent(...)
hjapi.DzAPI_Map_ChangeStoreItemCoolDown(...)
hjapi.DzAPI_Map_ChangeStoreItemCount(...)
hjapi.DzAPI_Map_GetActivityData()
hjapi.DzAPI_Map_GetGameStartTime()
hjapi.DzAPI_Map_GetGuildName(whichPlayer)
hjapi.DzAPI_Map_GetGuildRole(whichPlayer)
hjapi.DzAPI_Map_GetLadderLevel(whichPlayer)
hjapi.DzAPI_Map_GetLadderRank(whichPlayer)
hjapi.DzAPI_Map_GetMapConfig(key)
hjapi.DzAPI_Map_GetMapLevel(whichPlayer)
hjapi.DzAPI_Map_GetMapLevelRank(whichPlayer)
hjapi.DzAPI_Map_GetMatchType()
hjapi.DzAPI_Map_GetPlatformVIP(whichPlayer)
hjapi.DzAPI_Map_IsPlatformVIP(whichPlayer)
hjapi.DzAPI_Map_GetPublicArchive(whichPlayer, key)
hjapi.DzAPI_Map_GetServerArchiveDrop(whichPlayer, key)
hjapi.DzAPI_Map_GetServerArchiveEquip(whichPlayer, key)
hjapi.DzAPI_Map_GetServerValue(whichPlayer, key)
hjapi.DzAPI_Map_GetServerValueErrorCode(whichPlayer)
hjapi.GetPlayerServerValueSuccess(whichPlayer)
hjapi.DzAPI_Map_GetUserID(...)
hjapi.DzAPI_Map_HasMallItem(whichPlayer, key)
hjapi.DzAPI_Map_IsBlueVIP(whichPlayer)
hjapi.DzAPI_Map_IsRPGLadder()
hjapi.DzAPI_Map_IsRPGLobby()
hjapi.DzAPI_Map_IsRedVIP(whichPlayer)
hjapi.DzAPI_Map_Ladder_SetPlayerStat(whichPlayer, key, value)
hjapi.DzAPI_Map_Ladder_SubmitPlayerRank(whichPlayer, value)
hjapi.DzAPI_Map_Ladder_SetStat(whichPlayer, key, value)
hjapi.DzAPI_Map_Ladder_SubmitTitle(whichPlayer, value)
hjapi.DzAPI_Map_Ladder_SubmitPlayerExtraExp(whichPlayer, value)
hjapi.DzAPI_Map_MissionComplete(whichPlayer, key, value)
hjapi.DzAPI_Map_OrpgTrigger(whichPlayer, key)
hjapi.DzAPI_Map_SavePublicArchive(whichPlayer, key, value)
hjapi.DzAPI_Map_SaveServerValue(whichPlayer, key, value)
hjapi.DzAPI_Map_Stat_SetStat(whichPlayer, key, value)
hjapi.DzAPI_Map_Statistics(whichPlayer, eventKey, eventType, value)
hjapi.DzAPI_Map_ToggleStore(...)
hjapi.DzAPI_Map_UpdatePlayerHero(...)
hjapi.DzAPI_Map_UseConsumablesItem(whichPlayer, key)
hjapi.DzAPI_UnitType_CountUnitTypeDataArrayAbilID(...)
hjapi.DzAPI_UnitType_CountUnitTypeDataArrayBoolean(...)
hjapi.DzAPI_UnitType_CountUnitTypeDataArrayItemID(...)
hjapi.DzAPI_UnitType_CountUnitTypeDataArrayReal(...)
hjapi.DzAPI_UnitType_CountUnitTypeDataArrayString(...)
hjapi.DzAPI_UnitType_CountUnitTypeDataArrayTechID(...)
hjapi.DzAPI_UnitType_CountUnitTypeDataArrayUnitID(...)
hjapi.DzAPI_UnitType_CountUnitTypeDataRequires(...)
hjapi.DzAPI_UnitType_CountUnitTypeDataRequiresamount(...)
hjapi.DzAPI_UnitType_GetEnum_PreventOrReguirePlace(...)
hjapi.DzAPI_UnitType_GetEnum_PreventOrReguirePlaceCheck(...)
hjapi.DzAPI_UnitType_GetEnum_Primary(...)
hjapi.DzAPI_UnitType_GetEnum_TargetTypeCheck(...)
hjapi.DzAPI_UnitType_GetEnum_TargetTypeSeries(...)
hjapi.DzAPI_UnitType_GetEnum_armor(...)
hjapi.DzAPI_UnitType_GetEnum_atkType(...)
hjapi.DzAPI_UnitType_GetEnum_buffType(...)
hjapi.DzAPI_UnitType_GetEnum_deathType(...)
hjapi.DzAPI_UnitType_GetEnum_defType(...)
hjapi.DzAPI_UnitType_GetEnum_movetp(...)
hjapi.DzAPI_UnitType_GetEnum_race(...)
hjapi.DzAPI_UnitType_GetEnum_regenType(...)
hjapi.DzAPI_UnitType_GetEnum_type(...)
hjapi.DzAPI_UnitType_GetEnum_typeCheck(...)
hjapi.DzAPI_UnitType_GetEnum_warpsOn(...)
hjapi.DzAPI_UnitType_GetEnum_weapTp(...)
hjapi.DzAPI_UnitType_GetEnum_weapType(...)
hjapi.DzAPI_UnitType_GetUnitTypeDataAbilID(...)
hjapi.DzAPI_UnitType_GetUnitTypeDataArrayAbilID(...)
hjapi.DzAPI_UnitType_GetUnitTypeDataArrayBoolean(...)
hjapi.DzAPI_UnitType_GetUnitTypeDataArrayItemID(...)
hjapi.DzAPI_UnitType_GetUnitTypeDataArrayReal(...)
hjapi.DzAPI_UnitType_GetUnitTypeDataArrayString(...)
hjapi.DzAPI_UnitType_GetUnitTypeDataArrayTechID(...)
hjapi.DzAPI_UnitType_GetUnitTypeDataArrayUnitID(...)
hjapi.DzAPI_UnitType_GetUnitTypeDataBoolean(...)
hjapi.DzAPI_UnitType_GetUnitTypeDataInt(...)
hjapi.DzAPI_UnitType_GetUnitTypeDataReal(...)
hjapi.DzAPI_UnitType_GetUnitTypeDataRequires(...)
hjapi.DzAPI_UnitType_GetUnitTypeDataRequiresamount(...)
hjapi.DzAPI_UnitType_GetUnitTypeDataString(...)
hjapi.DzAPI_UnitType_GettUnitTypeDataRequirescount(...)
hjapi.DzAPI_UnitType_ResizeUnitTypeDataArrayAbilID(...)
hjapi.DzAPI_UnitType_ResizeUnitTypeDataArrayBoolean(...)
hjapi.DzAPI_UnitType_ResizeUnitTypeDataArrayItemID(...)
hjapi.DzAPI_UnitType_ResizeUnitTypeDataArrayReal(...)
hjapi.DzAPI_UnitType_ResizeUnitTypeDataArrayString(...)
hjapi.DzAPI_UnitType_ResizeUnitTypeDataArrayTechID(...)
hjapi.DzAPI_UnitType_ResizeUnitTypeDataArrayUnitID(...)
hjapi.DzAPI_UnitType_ResizeUnitTypeDataRequires(...)
hjapi.DzAPI_UnitType_ResizeUnitTypeDataRequiresamount(...)
hjapi.DzAPI_UnitType_SetEnum_PreventOrReguirePlace(...)
hjapi.DzAPI_UnitType_SetEnum_PreventOrReguirePlaceModify(...)
hjapi.DzAPI_UnitType_SetEnum_Primary(...)
hjapi.DzAPI_UnitType_SetEnum_TargetTypeModify(...)
hjapi.DzAPI_UnitType_SetEnum_TargetTypeSeries(...)
hjapi.DzAPI_UnitType_SetEnum_armor(...)
hjapi.DzAPI_UnitType_SetEnum_atkType(...)
hjapi.DzAPI_UnitType_SetEnum_buffType(...)
hjapi.DzAPI_UnitType_SetEnum_deathType(...)
hjapi.DzAPI_UnitType_SetEnum_defType(...)
hjapi.DzAPI_UnitType_SetEnum_movetp(...)
hjapi.DzAPI_UnitType_SetEnum_race(...)
hjapi.DzAPI_UnitType_SetEnum_regenType(...)
hjapi.DzAPI_UnitType_SetEnum_type(...)
hjapi.DzAPI_UnitType_SetEnum_typeModify(...)
hjapi.DzAPI_UnitType_SetEnum_warpsOn(...)
hjapi.DzAPI_UnitType_SetEnum_weapTp(...)
hjapi.DzAPI_UnitType_SetEnum_weapType(...)
hjapi.DzAPI_UnitType_SetUnitTypeDataAbilID(...)
hjapi.DzAPI_UnitType_SetUnitTypeDataArrayAbilID(...)
hjapi.DzAPI_UnitType_SetUnitTypeDataArrayBoolean(...)
hjapi.DzAPI_UnitType_SetUnitTypeDataArrayItemID(...)
hjapi.DzAPI_UnitType_SetUnitTypeDataArrayReal(...)
hjapi.DzAPI_UnitType_SetUnitTypeDataArrayString(...)
hjapi.DzAPI_UnitType_SetUnitTypeDataArrayTechID(...)
hjapi.DzAPI_UnitType_SetUnitTypeDataArrayUnitID(...)
hjapi.DzAPI_UnitType_SetUnitTypeDataBoolean(...)
hjapi.DzAPI_UnitType_SetUnitTypeDataInt(...)
hjapi.DzAPI_UnitType_SetUnitTypeDataReal(...)
hjapi.DzAPI_UnitType_SetUnitTypeDataRequires(...)
hjapi.DzAPI_UnitType_SetUnitTypeDataRequiresamount(...)
hjapi.DzAPI_UnitType_SetUnitTypeDataString(...)
hjapi.DzAPI_UnitstateToInteger(...)
hjapi.DzClickFrame(frameId)
hjapi.DzConvertWorldPosition(...)
hjapi.DzCreateFrame(frame, parent, id)
hjapi.DzCreateFrameByTagName(frameType, name, parent, template, id)
hjapi.DzCreateSimpleFrame(frame, parent, id)
hjapi.DzDebugString(...)
hjapi.DzDestroyFrame(frameId)
hjapi.DzDestructablePosition(d, x, y)
hjapi.DzDotaInfo_IsPlayerRandom(...)
hjapi.DzDotaInfo_IsRepicked(...)
hjapi.DzDotaInfo_Item(...)
hjapi.DzDotaInfo_Item_HE(...)
hjapi.DzDotaInfo_Item_TM(...)
hjapi.DzEnableWideScreen(enable)
hjapi.DzEvent_Building_Cancel(...)
hjapi.DzEvent_Building_Dead(...)
hjapi.DzEvent_Building_Finish(...)
hjapi.DzEvent_Building_Start(...)
hjapi.DzEvent_Hero_Dead(...)
hjapi.DzEvent_Hero_Level(...)
hjapi.DzEvent_Item_Drop(...)
hjapi.DzEvent_Item_Pickup(...)
hjapi.DzEvent_Item_Sell(...)
hjapi.DzEvent_Item_Use(...)
hjapi.DzEvent_Tech_Cancel(...)
hjapi.DzEvent_Tech_Finish(...)
hjapi.DzEvent_Tech_Start(...)
hjapi.DzEvent_Unit_Cancel(...)
hjapi.DzEvent_Unit_ChangeOwner(...)
hjapi.DzEvent_Unit_Dead(...)
hjapi.DzEvent_Unit_Finish(...)
hjapi.DzEvent_Unit_Hired(...)
hjapi.DzEvent_Unit_Start(...)
hjapi.DzExecuteFunc(funcName)
hjapi.DzFrameCageMouse(frame, enable)
hjapi.DzFrameClearAllPoints(frame)
hjapi.DzFrameEditBlackBorders(upperHeight, bottomHeight)
hjapi.DzFrameFindByName(name, id)
hjapi.DzFrameGetAlpha(frame)
hjapi.DzFrameGetChatMessage()
hjapi.DzFrameGetCommandBarButton(row, column)
hjapi.DzFrameGetEnable(frame)
hjapi.DzFrameGetHeight(frame)
hjapi.DzFrameGetHeroBarButton(buttonId)
hjapi.DzFrameGetHeroHPBar(buttonId)
hjapi.DzFrameGetHeroManaBar(buttonId)
hjapi.DzFrameGetItemBarButton(buttonId)
hjapi.DzFrameGetMinimap()
hjapi.DzFrameGetMinimapButton(buttonId)
hjapi.DzFrameGetName(frame)
hjapi.DzFrameGetParent(frame)
hjapi.DzFrameGetPortrait()
hjapi.DzFrameGetText(frame)
hjapi.DzFrameGetTextSizeLimit(frame)
hjapi.DzFrameGetTooltip()
hjapi.DzFrameGetTopMessage()
hjapi.DzFrameGetUnitMessage()
hjapi.DzFrameGetUpperButtonBarButton(buttonId)
hjapi.DzFrameGetValue(frame)
hjapi.DzFrameHideInterface()
hjapi.DzFrameSetAbsolutePoint(frame, point, x, y)
hjapi.DzFrameSetAllPoints(frame, relativeFrame)
hjapi.DzFrameSetAlpha(frame, alpha)
hjapi.DzFrameSetAnimate(frame, animId, autoCast)
hjapi.DzFrameSetAnimateOffset(frame, offset)
hjapi.DzFrameSetEnable(frame, enable)
hjapi.DzFrameSetFocus(frame, enable)
hjapi.DzFrameSetFont(frame, fileName, height, flag)
hjapi.DzFrameSetMinMaxValue(frame, minValue, maxValue)
hjapi.DzFrameSetModel(frame, modelFile, modelType, flag)
hjapi.DzFrameSetParent(frame, parent)
hjapi.DzFrameSetPoint(frame, point, relativeFrame, relativePoint, x, y)
hjapi.DzFrameSetPriority(frame, priority)
hjapi.DzFrameSetScale(frame, scale)
hjapi.DzFrameSetScript(frame, eventId, funcName, sync)
hjapi.DzFrameSetScriptByCode(frame, eventId, funcHandle, sync)
hjapi.DzFrameSetSize(frame, w, h)
hjapi.DzFrameSetStepValue(frame, step)
hjapi.DzFrameSetText(frame, text)
hjapi.DzFrameSetTextAlignment(frame, align)
hjapi.DzFrameSetTextColor(frame, color)
hjapi.DzFrameSetTextSizeLimit(frame, limit)
hjapi.DzFrameSetTexture(frame, texture, flag)
hjapi.DzFrameSetTooltip(frame, tooltip)
hjapi.DzFrameSetUpdateCallback(funcName)
hjapi.DzFrameSetUpdateCallbackByCode(funcHandle)
hjapi.DzFrameSetValue(frame, value)
hjapi.DzFrameSetVertexColor(frame, vertexColor)
hjapi.DzFrameShow(frame, enable)
hjapi.DzGetClientHeight(...)
hjapi.DzGetClientWidth(...)
hjapi.DzGetColor(r, g, b, a)
hjapi.DzGetConvertWorldPositionX(...)
hjapi.DzGetConvertWorldPositionY(...)
hjapi.DzGetGameMode(...)
hjapi.DzGetGameUI()
hjapi.DzGetLocale()
hjapi.DzGetMouseFocus()
hjapi.DzGetMouseTerrainX()
hjapi.DzGetMouseTerrainY()
hjapi.DzGetMouseTerrainZ()
hjapi.DzGetMouseX()
hjapi.DzGetMouseXRelative()
hjapi.DzGetMouseY()
hjapi.DzGetMouseYRelative()
hjapi.DzGetPlayerInitGold(...)
hjapi.DzGetPlayerName(...)
hjapi.DzGetPlayerSelectedHero(...)
hjapi.DzGetTriggerKey()
hjapi.DzGetTriggerKeyPlayer()
hjapi.DzGetTriggerSyncData()
hjapi.DzGetTriggerSyncPlayer()
hjapi.DzGetTriggerUIEventFrame()
hjapi.DzGetTriggerUIEventPlayer()
hjapi.DzGetUnitNeededXP(whichUnit, level)
hjapi.DzGetUnitUnderMouse()
hjapi.DzGetWheelDelta()
hjapi.DzGetWindowHeight()
hjapi.DzGetWindowWidth()
hjapi.DzGetWindowX()
hjapi.DzGetWindowY()
hjapi.DzIsKeyDown(iKey)
hjapi.DzIsMouseOverUI()
hjapi.DzIsWindowActive()
hjapi.DzLoadToc(tocFilePath)
hjapi.DzOriginalUIAutoResetPoint(enable)
hjapi.DzPlatform_GameStart(...)
hjapi.DzPlatform_HasGameOver(...)
hjapi.DzPlatform_HasGameOver_Player(...)
hjapi.DzSetCustomFovFix(value)
hjapi.DzSetMemory(address, value)
hjapi.DzSetMousePos(x, y)
hjapi.DzSetParams(...)
hjapi.DzSetUnitID(whichUnit, id)
hjapi.DzSetUnitModel(whichUnit, model)
hjapi.DzSetUnitPosition(whichUnit, x, y)
hjapi.DzSetUnitTexture(whichUnit, path, texId)
hjapi.DzSetWar3MapMap(blp)
hjapi.DzSimpleFontStringFindByName(name, id)
hjapi.DzSimpleFrameFindByName(name, id)
hjapi.DzSimpleTextureFindByName(name, id)
hjapi.DzSyncBuffer(...)
hjapi.DzSyncData(prefix, data)
hjapi.DzTriggerRegisterKeyEvent(trig, key, status, sync, funcName)
hjapi.DzTriggerRegisterKeyEventByCode(trig, key, status, sync, funcHandle)
hjapi.DzTriggerRegisterMouseEvent(trig, btn, status, sync, funcName)
hjapi.DzTriggerRegisterMouseEventByCode(trig, btn, status, sync, funcHandle)
hjapi.DzTriggerRegisterMouseMoveEvent(trig, sync, funcName)
hjapi.DzTriggerRegisterMouseMoveEventByCode(trig, sync, funcHandle)
hjapi.DzTriggerRegisterMouseWheelEvent(trig, sync, funcName)
hjapi.DzTriggerRegisterMouseWheelEventByCode(trig, sync, funcHandle)
hjapi.DzTriggerRegisterSyncData(trig, prefix, server)
hjapi.DzTriggerRegisterWindowResizeEvent(trig, sync, funcName)
hjapi.DzTriggerRegisterWindowResizeEventByCode(trig, sync, funcHandle)
hjapi.DzUnitDisableAttack(...)
hjapi.DzUnitDisableInventory(...)
hjapi.DzUnitLearningSkill(...)
hjapi.DzUnitSilence(...)
hjapi.EXBlendButtonIcon(...)
hjapi.EXDclareButtonIcon(...)
hjapi.EXDisplayChat(...)
hjapi.EXEffectMatReset(effect)
hjapi.EXEffectMatRotateX(effect, angle)
hjapi.EXEffectMatRotateY(effect, angle)
hjapi.EXEffectMatRotateZ(effect, angle)
hjapi.EXEffectMatScale(effect, x, y, z)
hjapi.EXExecuteScript(script)
hjapi.EXGetAbilityDataInteger(abil, level, dataType)
hjapi.EXGetAbilityDataReal(abil, level, dataType)
hjapi.EXGetAbilityDataString(abil, level, dataType)
hjapi.EXGetAbilityId(abil)
hjapi.EXGetAbilityState(abil, stateType)
hjapi.EXGetAbilityString(...)
hjapi.EXGetBuffDataString(buffCode, dataType)
hjapi.EXGetEffectSize(effect)
hjapi.EXGetEffectX(effect)
hjapi.EXGetEffectY(effect)
hjapi.EXGetEffectZ(effect)
hjapi.EXGetEventDamageData(eddType)
hjapi.isEventPhysicalDamage()
hjapi.isEventAttackDamage()
hjapi.isEventRangedDamage()
hjapi.isEventDamageType(damageType)
hjapi.isEventWeaponType(weaponType)
hjapi.isEventAttackType(attackType)
hjapi.EXGetItemDataString(itemCode, dataType)
hjapi.EXGetUnitAbility(whichUnit, abilityID)
hjapi.EXGetUnitAbilityByIndex(whichUnit, index)
hjapi.EXGetUnitArrayString(...)
hjapi.EXGetUnitInteger(...)
hjapi.EXGetUnitReal(...)
hjapi.EXGetUnitString(...)
hjapi.EXPauseUnit(whichUnit, enable)
hjapi.UnitAddSwim(whichUnit)
hjapi.UnitRemoveSwim(whichUnit)
hjapi.EXSetAbilityAEmeDataA(...)
hjapi.EXSetAbilityDataInteger(...)
hjapi.EXSetAbilityDataReal(...)
hjapi.EXSetAbilityDataString(...)
hjapi.EXSetAbilityState(ability, stateType, value)
hjapi.EXSetAbilityString(...)
hjapi.EXSetBuffDataString(buffCode, dataType, value)
hjapi.EXSetEffectSize(e, size)
hjapi.EXSetEffectSpeed(e, speed)
hjapi.EXSetEffectXY(e, x, y)
hjapi.EXSetEffectZ(e, z)
hjapi.EXSetEventDamage(amount)
hjapi.EXSetItemDataString(itemCode, dataType, value)
hjapi.EXSetUnitArrayString(...)
hjapi.EXSetUnitCollisionType(enable, u, t)
hjapi.EXSetUnitFacing(u, angle)
hjapi.EXSetUnitInteger(...)
hjapi.EXSetUnitMoveType(u, t)
hjapi.EXSetUnitReal(...)
hjapi.EXSetUnitString(...)
hjapi.GetEventDamage()
hjapi.GetUnitState(whichUnit, state)
hjapi.RequestExtraBooleanData(dataType, whichPlayer, param1, param2, param3, param4, param5, param6)
hjapi.RequestExtraIntegerData(dataType, whichPlayer, param1, param2, param3, param4, param5, param6)
hjapi.RequestExtraRealData(dataType, whichPlayer, param1, param2, param3, param4, param5, param6)
hjapi.RequestExtraStringData(dataType, whichPlayer, param1, param2, param3, param4, param5, param6)
hjapi.SetUnitState(whichUnit, state, value)
</code></pre>
<ul>
<li>[L]<strong>lib\leaderBoard.lua</strong></li>
</ul>
<pre><code>hleaderBoard.LeaderboardResize(whichLeaderBoard)
hleaderBoard.create(key, title, refreshFrequency, response)
hleaderBoard.show(key)
hleaderBoard.hide()
hleaderBoard.setTitle(key, title)
hleaderBoard.pos(key, n)
hleaderBoard.top(key)
hleaderBoard.bottom(key)
</code></pre>
<ul>
<li>[L]<strong>lib\lightning.lua</strong></li>
</ul>
<pre><code>hlightning.del(lightning, delay)
hlightning.xyz2xyz(lightningType, x1, y1, z1, x2, y2, z2, during)
hlightning.loc2loc(lightningType, loc1, loc2, during)
hlightning.unit2unit(lightningType, unit1, unit2, during)
</code></pre>
<ul>
<li>[L]<strong>lib\monitor.lua</strong></li>
</ul>
<pre><code>hmonitor.create(key, frequency, action, ignoreFilter)
hmonitor.destroy(key)
hmonitor.isListening(key, obj)
hmonitor.listen(key, obj)
hmonitor.ignore(key, obj)
</code></pre>
<ul>
<li>[L]<strong>lib\multiBoard.lua</strong></li>
</ul>
<pre><code>hmultiBoard.create(key, refreshFrequency, yourData)
hmultiBoard.setTitle(whichBoard, title)
</code></pre>
<ul>
<li>[L]<strong>lib\player.lua</strong></li>
</ul>
<pre><code>hplayer.adjustPlayerState(delta, whichPlayer, whichPlayerState)
hplayer.setPlayerState(whichPlayer, whichPlayerState, value)
hplayer.forEach(action)
hplayer.index(whichPlayer)
hplayer.loc()
hplayer.setConvertRatio(ratio)
hplayer.getConvertRatio()
hplayer.getName(whichPlayer)
hplayer.setName(whichPlayer, name)
hplayer.getSelection(whichPlayer)
hplayer.getStatus(whichPlayer)
hplayer.setStatus(whichPlayer, status)
hplayer.getPrestige(whichPlayer)
hplayer.setPrestige(whichPlayer, prestige)
hplayer.getApm(whichPlayer)
hplayer.setIsolated(whichPlayer, isIsolated)
hplayer.isIsolated(whichPlayer)
hplayer.getRandomHero()
hplayer.hideUnit(whichPlayer)
hplayer.clearUnit(whichPlayer)
hplayer.defeat(whichPlayer, tips)
hplayer.victory(whichPlayer, tips)
hplayer.setIsAutoConvert(whichPlayer, b)
hplayer.getIsAutoConvert(whichPlayer)
hplayer.setIsShocking(whichPlayer, b)
hplayer.getIsShocking(whichPlayer)
hplayer.getDamage(whichPlayer)
hplayer.addDamage(whichPlayer, val)
hplayer.getBeDamage(whichPlayer)
hplayer.addBeDamage(whichPlayer, val)
hplayer.getKill(whichPlayer)
hplayer.addKill(whichPlayer, val)
hplayer.diffGoldRatio(whichPlayer, diff, during)
hplayer.setGoldRatio(whichPlayer, val, during)
hplayer.addGoldRatio(whichPlayer, val, during)
hplayer.subGoldRatio(whichPlayer, val, during)
hplayer.getGoldRatio(whichPlayer)
hplayer.diffLumberRatio(whichPlayer, diff, during)
hplayer.setLumberRatio(whichPlayer, val, during)
hplayer.addLumberRatio(whichPlayer, val, during)
hplayer.subLumberRatio(whichPlayer, val, during)
hplayer.getLumberRatio(whichPlayer)
hplayer.diffExpRatio(whichPlayer, diff, during)
hplayer.setExpRatio(whichPlayer, val, during)
hplayer.addExpRatio(whichPlayer, val, during)
hplayer.subExpRatio(whichPlayer, val, during)
hplayer.getExpRatio(whichPlayer)
hplayer.diffSellRatio(whichPlayer, diff, during)
hplayer.setSellRatio(whichPlayer, val, during)
hplayer.addSellRatio(whichPlayer, val, during)
hplayer.subSellRatio(whichPlayer, val, during)
hplayer.getSellRatio(whichPlayer)
hplayer.getTotalGold(whichPlayer)
hplayer.addTotalGold(whichPlayer, val)
hplayer.getTotalGoldCost(whichPlayer)
hplayer.addTotalGoldCost(whichPlayer, val)
hplayer.getTotalLumber(whichPlayer)
hplayer.addTotalLumber(whichPlayer, val)
hplayer.getTotalLumberCost(whichPlayer)
hplayer.addTotalLumberCost(whichPlayer, val)
hplayer.adjustGold(whichPlayer)
hplayer.adjustLumber(whichPlayer)
hplayer.getGold(whichPlayer)
hplayer.setGold(whichPlayer, gold, u)
hplayer.addGold(whichPlayer, gold, u)
hplayer.subGold(whichPlayer, gold, u)
hplayer.getLumber(whichPlayer)
hplayer.setLumber(whichPlayer, lumber, u)
hplayer.addLumber(whichPlayer, lumber, u)
hplayer.subLumber(whichPlayer, lumber, u)
hplayer.getFoodUsed(whichPlayer)
hplayer.setFoodUsed(whichPlayer, value)
hplayer.getFoodCap(whichPlayer)
hplayer.setFoodCap(whichPlayer, value)
hplayer.getFoodCapCeiling(whichPlayer)
hplayer.setFoodCapCeiling(whichPlayer, value)
</code></pre>
<ul>
<li>[L]<strong>lib\quest.lua</strong></li>
</ul>
<pre><code>hquest.del(q, delay)
hquest.create(options)
hquest.flash()
hquest.setCompleted(q)
hquest.setFailed(q)
hquest.setDiscovered(q)
</code></pre>
<ul>
<li>[L]<strong>lib\rect.lua</strong></li>
</ul>
<pre><code>hrect.alloc(r, name)
hrect.world()
hrect.camera()
hrect.playable()
hrect.create(x, y, w, h, name)
hrect.getName(whichRect)
hrect.getX(whichRect)
hrect.getY(whichRect)
hrect.getWidth(whichRect)
hrect.getHeight(whichRect)
hrect.getMinX(whichRect)
hrect.getMinY(whichRect)
hrect.getMaxX(whichRect)
hrect.getMaxY(whichRect)
hrect.del(whichRect, delay)
hrect.lock(options)
</code></pre>
<ul>
<li>[L]<strong>lib\shop.lua</strong></li>
</ul>
<pre><code></code></pre>
<ul>
<li>[L]<strong>lib\skill\basic.lua</strong></li>
</ul>
<pre><code>hskill.avoid(whichUnit)
hskill.invulnerable(whichUnit, during, effect)
hskill.invulnerableRange(x, y, radius, filter, during, effect)
hskill.pause(whichUnit, during, pauseColor)
hskill.invisible(whichUnit, during, transition, effect)
hskill.visible(whichUnit, during, transition, effect)
hskill.modelEffect(whichUnit, whichAbility, abilityLevel, during)
hskill.diy(options)
</code></pre>
<ul>
<li>[L]<strong>lib\skill\complex.lua</strong></li>
</ul>
<pre><code>hskill.knocking(options)
hskill.split(options)
hskill.broken(options)
hskill.swim(options)
hskill.silent(options)
hskill.unarm(options)
hskill.fetter(options)
hskill.bomb(options)
hskill.lightningChain(options)
hskill.crackFly(options)
hskill.rangeSwim(options)
hskill.whirlwind(options)
hskill.leap(options)
hskill.leapPaw(options)
hskill.leapRange(options)
hskill.leapReflex(options)
hskill.rectangleStrike(options)
</code></pre>
<ul>
<li>[L]<strong>lib\skill\damage.lua</strong></li>
</ul>
<pre><code>local _damageTtg(targetUnit, damage, fix, rgb, speed)
hskill.damage(options)
hskill.damageStep(options)
hskill.damageRange(options)
hskill.damageGroup(options)
</code></pre>
<ul>
<li>[L]<strong>lib\skill\ring.lua</strong></li>
</ul>
<pre><code>hring.check(id)
hring.insert(whichUnit, id, level)
hring.remove(whichUnit, id)
</code></pre>
<ul>
<li>[L]<strong>lib\skill.lua</strong></li>
</ul>
<pre><code>hskill.getAttribute(abilityId)
hskill.addProperty(whichUnit, abilityId, level)
hskill.subProperty(whichUnit, abilityId, level)
hskill.getName(abilityId)
hskill.add(whichUnit, abilityId, level, during)
hskill.set(whichUnit, abilityId, level, during)
hskill.del(whichUnit, abilityId, delay)
hskill.forever(whichUnit, abilityId)
hskill.has(whichUnit, abilityId)
hskill.setCoolDown(whichUnit, abilityID, coolDown)
</code></pre>
<ul>
<li>[L]<strong>lib\slk.lua</strong></li>
</ul>
<pre><code>hslk.i2v(id, ...)
hslk.n2v(name)
hslk.n2i(name)
hslk.classIds(class)
hslk.typeIds(t)
hslk.misc(...)
</code></pre>
<ul>
<li>[L]<strong>lib\sound.lua</strong></li>
</ul>
<pre><code>hsound.voiceCreate(path, duration, is3D, channel, volume, pitch)
hsound.voice(s)
hsound.voice2Player(s, whichPlayer)
hsound.voice2Unit(s, volumePercent, u)
hsound.voice2XYZ(s, x, y, z)
hsound.voice2Rect(s, whichRect, during)
hsound.bgmStop(whichPlayer)
hsound.bgm(musicFileName, whichPlayer)
hsound.bgmVolume(percent, whichPlayer)
</code></pre>
<ul>
<li>[L]<strong>lib\sync.lua</strong></li>
</ul>
<pre><code>hsync.key()
hsync.mix(key, array)
hsync.call(key, callback, array)
hsync.init()
hsync.send(key, array)
hsync.onSend(key, callback)
</code></pre>
<ul>
<li>[L]<strong>lib\textTag.lua</strong></li>
</ul>
<pre><code>htextTag.del(ttg, delay)
htextTag.create(msg, size, color, opacity, during)
htextTag.create2XY(x, y, msg, size, color, opacity, during, zOffset)
htextTag.create2Unit(u, msg, size, color, opacity, during, zOffset)
htextTag.createFollowUnit(u, msg, size, color, opacity, during, zOffset)
htextTag.getSize(ttg)
htextTag.getColor(ttg)
htextTag.getMsg(ttg)
htextTag.getOpacity(ttg)
htextTag.getDuring(ttg)
htextTag.setVelocity(ttg, xSpeed, ySpeed)
htextTag.style(ttg, showType, xSpeed, ySpeed)
htextTag.model(options)
</code></pre>
<ul>
<li>[L]<strong>lib\texture.lua</strong></li>
</ul>
<pre><code>htexture.cinematicFilterGeneric(duration, bmode, tex, red0, green0, blue0, trans0, red1, green1, blue1, trans1)
htexture.mark(path, during, whichPlayer, red, green, blue)
htexture.alertCircle(diameter, x, y, during, token, color)
</code></pre>
<ul>
<li>[L]<strong>lib\time.lua</strong></li>
</ul>
<pre><code>htime.clock()
htime.his()
htime.timerInPool()
htime.timerInKernel(period, yourFunc, isInterval)
htime.kernelInfo(t)
htime.getSetTime(t)
htime.getRemainTime(t)
htime.getElapsedTime(t)
htime.pause(t)
htime.resume(t)
htime.delTimer(t)
htime.setTimeout(frequency, yourFunc, title)
htime.setInterval(frequency, yourFunc, title)
</code></pre>
<ul>
<li>[L]<strong>lib\unit.lua</strong></li>
</ul>
<pre><code>hunit.getAvatar(uOrId)
hunit.getSight(uOrId)
hunit.getNSight(uOrId)
hunit.getAttackSides1(uOrId)
hunit.getMaxLife(u)
hunit.getCurLife(u)
hunit.setCurLife(u, val)
hunit.addCurLife(u, val)
hunit.subCurLife(u, val)
hunit.getMaxMana(u)
hunit.getCurMana(u)
hunit.setCurMana(u, val)
hunit.addCurMana(u, val)
hunit.subCurMana(u, val)
hunit.getCurLifePercent(u)
hunit.setCurLifePercent(u, val)
hunit.getCurManaPercent(u)
hunit.setCurManaPercent(u, val)
hunit.addExp(u, val, showEffect)
hunit.setPeriod(u, life)
hunit.getPeriod(u)
hunit.getPeriodRemain(u)
hunit.setFacing(u, facing)
hunit.getFacing(u)
hunit.show(u)
hunit.hide(u)
hunit.pause(u)
hunit.resume(u)
hunit.x(u)
hunit.y(u)
hunit.z(u)
hunit.enablePunish(u)
hunit.disablePunish(u)
hunit.setInvulnerable(u, flag)
hunit.setAnimateSpeed(whichUnit, speed, during)
hunit.setRGBA(whichUnit, red, green, blue, opacity, during)
hunit.delRGBA(whichUnit, buffKey)
hunit.resetRGBA(whichUnit)
hunit.getOwner(whichUnit)
hunit.portal(whichUnit, x, y, facing)
hunit.animate(whichUnit, animate)
hunit.embed(u, options)
hunit.create(options)
hunit.getId(uOrId)
hunit.getName(u)
hunit.getUserData(u)
hunit.setUserData(u, val, during)
hunit.setColor(u, color)
hunit.del(targetUnit, delay)
hunit.kill(targetUnit, delay)
hunit.exploded(targetUnit, delay)
hunit.setCanFly(u)
hunit.getFlyHeight(u)
hunit.setFlyHeight(u, height, speed)
</code></pre>
<ul>
<li>[L]<strong>lib\weather.lua</strong></li>
</ul>
<pre><code>hweather.del(w, delay)
hweather.create(options)
</code></pre>
<ul>
<li>[L]<strong>slk\pilot.lua</strong></li>
</ul>
<pre><code>_ability(_v)
_item(_v)
_unit(_v)
_buff(_v)
_upgrade(_v)
_attr(_v)
_xtras(_v)
_ring(_v)
_onSkillStudy(_v)
_onSkillEffect(_v)
_onItemGet(_v)
_onItemUsed(_v)
_onRing(_v)
</code></pre>
<ul>
<li>[L]<strong>slk\setter.lua</strong></li>
</ul>
<pre><code>F6V_I_SYNTHESIS(formula)
local F6_RING(_v)
F6V_A(_v)
F6V_U(_v)
F6V_COURIER_SKILL()
F6V_I_CD(_v)
F6V_I_SHADOW(_v)
F6V_I(_v)
F6V_B(_v)
F6V_UP(_v)
</code></pre>
<ul>
<li>[L]<strong>slk\slk.lua</strong></li>
</ul>
<pre><code>hslk_init()
local hslk_cli_set(_v)
hslk_conf(conf)
hslk_ability(_v)
hslk_ability_empty(_v)
hslk_ability_ring(_v)
hslk_unit(_v)
hslk_hero(_v)
hslk_courier(_v)
hslk_item_synthesis(formula)
hslk_item(_v)
hslk_item_fleeting(Name, file, modelScale, moveHeight)
hslk_buff(_v)
hslk_upgrade(_v)
</code></pre>
<ul>
<li>[B]slk\system.lua</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="属性系统"><a class="header" href="#属性系统">属性系统</a></h2>
<p>h-lua 有强大的属性系统</p>
<p>能轻松几行代码就实现绝大多数属性的实时改动</p>
<h3 id="hattributesetrelation"><a class="header" href="#hattributesetrelation">hattribute.setRelation</a></h3>
<p>属性每1单位映射 可以模拟三围加成等</p>
<h3 id="gold_ratio--lumber_ratio--exp_ratio--sell_ratio"><a class="header" href="#gold_ratio--lumber_ratio--exp_ratio--sell_ratio">gold_ratio / lumber_ratio / exp_ratio / sell_ratio</a></h3>
<p>黄金率 / 木头率 / 经验率 / 售卖率（%）</p>
<ul>
<li>影响资源获取率 售卖率以默认的50%为准，假如某玩家作者设置TA的售卖率不等于50，那么会自动算出差值，给予扣款或补偿</li>
</ul>
<h3 id="life--life_back"><a class="header" href="#life--life_back">life / life_back</a></h3>
<p>生命 / 生命恢复</p>
<ul>
<li>单位的最大生命值 / 每秒对生命恢复的量 最小值 1</li>
</ul>
<h3 id="mana--mana_back"><a class="header" href="#mana--mana_back">mana / mana_back</a></h3>
<p>魔法 / 魔法恢复</p>
<ul>
<li>单位的最大魔法值 / 每秒对魔法恢复的量 最小值 1</li>
</ul>
<h3 id="move"><a class="header" href="#move">move</a></h3>
<p>移动力</p>
<ul>
<li>[范围] 0～?取决于地图的平衡常数设置(一般设为522)
每秒移动最大距离</li>
<li>数值无上限，但地图移动上限为522</li>
<li>假设移动力为2000，则实际移动仍为522，而其他由移动力影响的技能属性将以2000点计算</li>
</ul>
<h3 id="defend--defend_white--defend_green"><a class="header" href="#defend--defend_white--defend_green">defend / defend_white / defend_green</a></h3>
<p>护甲（总/白/绿）</p>
<ul>
<li>你可以使用hattr.set改动defend,实际改的是defend_green</li>
</ul>
<h3 id="damage_reduction--damage_decrease"><a class="header" href="#damage_reduction--damage_decrease">damage_reduction / damage_decrease</a></h3>
<p>固定值减伤 / 百分比减伤</p>
<ul>
<li>可以直接抵消伤害</li>
<li>减伤最低为0，也就是不能反增伤</li>
</ul>
<h3 id="sight--sight_day-sight_night"><a class="header" href="#sight--sight_day-sight_night">sight / sight_day /sight_night</a></h3>
<p>视野(变化) / 白天视野 / 黑夜视野</p>
<ul>
<li>单位的视野 sight指的是变化值，attr设定=时不是终点值而是“变化”的目标值</li>
<li>你可以使用hattr.set设置sight_day /sight_night,但并不能真的设置分别的视野，实际改动的变化值</li>
</ul>
<h3 id="avoid"><a class="header" href="#avoid">avoid</a></h3>
<p>回避（%）</p>
<ul>
<li>当英雄受到的是“攻击”造成的伤害时会有一定几率闪避抵抗，并且使攻击特效失效</li>
<li>闪避效果只有当英雄回避属性大于0%时才会开始生效 回避可以无限堆，回避率达到100%时一般情况下回避所有伤害 回避率=(回避-命中)（%）</li>
<li>如果该次伤害为无视回避，则回避失效（breakArmorType）</li>
</ul>
<h3 id="aim"><a class="header" href="#aim">aim</a></h3>
<p>命中（%）</p>
<ul>
<li>aim 命中直接抵消回避生效的效果值 回避率=(回避-命中)（%）</li>
</ul>
<h3 id="punish--punish_current"><a class="header" href="#punish--punish_current">punish / punish_current</a></h3>
<p>僵直 / 当前硬直</p>
<ul>
<li>僵直的单位移动攻速会被限制 硬直扣减量与受到伤害相关</li>
<li>受到快速多段伤害或高伤害时，将很容易被击破而僵直 硬直被破坏时会僵直5秒,并重置硬直条，期间受到伤害可能会再次僵直</li>
<li>硬直的僵直5秒的体现是攻击速度和移动速度被极大地减少 硬直未被击破时每隔5秒恢复100点</li>
</ul>
<h3 id="punish_oppose"><a class="header" href="#punish_oppose">punish_oppose</a></h3>
<p>僵直抵抗（%）</p>
<ul>
<li>不造成伤害时，不减少硬直</li>
<li>硬直抵抗按百分比减少硬直的减速效果(减的是攻速及移速)</li>
<li>硬直抵抗的效果最高只能减少90% 力量（总/白/绿）</li>
</ul>
<h3 id="str--str_white--str_green"><a class="header" href="#str--str_white--str_green">str / str_white / str_green</a></h3>
<p>力量（总/白/绿）</p>
<ul>
<li>你可以使用hattr.set设置str,但实际改动的是str_green</li>
</ul>
<h3 id="agi--agi_white--agi_green"><a class="header" href="#agi--agi_white--agi_green">agi / agi_white / agi_green</a></h3>
<p>敏捷（总/白/绿）</p>
<ul>
<li>你可以使用hattr.set设置str,但实际改动的是agi_green</li>
</ul>
<h3 id="int--int_white--int_green"><a class="header" href="#int--int_white--int_green">int / int_white / int_green</a></h3>
<p>智力（总/白/绿）</p>
<ul>
<li>你可以使用hattr.set设置int,但实际改动的是int_green</li>
</ul>
<h3 id="attack--attack_white--attack_green"><a class="header" href="#attack--attack_white--attack_green">attack / attack_white / attack_green</a></h3>
<p>攻击</p>
<ul>
<li>一个单位的当前攻击浮动+白+绿</li>
<li>由于存在区间浮动，所以这个值每次get都会不一样</li>
<li>你可以使用hattr.set设置attack,但实际改动的是attack_green</li>
<li>在h-lua下所有单位造成的伤害都视为攻击attack（包括原生技能）</li>
<li>在调用攻击附魔后，攻击可以附带元素 单位进行攻击的能力，一般分为近战或者远程 攻击间隔</li>
</ul>
<h3 id="attack_space"><a class="header" href="#attack_space">attack_space</a></h3>
<p>攻击间隔</p>
<ul>
<li>根据原始攻速和攻击速度计算出的间隔值</li>
<li>但是set的时候实际设置的是原始间隔(attack_space_origin)</li>
</ul>
<h3 id="attack_range"><a class="header" href="#attack_range">attack_range</a></h3>
<p>攻击范围</p>
<ul>
<li>单位进行攻击的最大距离</li>
</ul>
<h3 id="attack_speed"><a class="header" href="#attack_speed">attack_speed</a></h3>
<p>攻击速度（%）</p>
<ul>
<li>攻击一次的间隔 假设当前攻速增益为 x% ： 攻击间隔公式：(基本间隔*100) / (100+x) [单位：击/秒]</li>
</ul>
<h3 id="reborn"><a class="header" href="#reborn">reborn</a></h3>
<p>复活时间（秒）</p>
<ul>
<li>此值默认-999，无复活效果 当这个值大于等于0时，且单位是英雄，单位会拥有复活的效果 复活的流程执行是一个默认函数，有需要可修改 hevent_default_actions.hero.reborn</li>
</ul>
<h3 id="cure"><a class="header" href="#cure">cure</a></h3>
<p>治疗效果（%）</p>
<ul>
<li>增强治疗的效果 影响hunit.addLife/Mana的效果 life_back/mana_back已自动生效</li>
</ul>
<h3 id="hemophagia--hemophagia_skill"><a class="header" href="#hemophagia--hemophagia_skill">hemophagia / hemophagia_skill</a></h3>
<p>吸血（%） / 技能吸血（%）</p>
<ul>
<li>攻击 / 技能造成伤害时触发吸血 以实际伤害及吸血百分比为计算</li>
</ul>
<h3 id="damage_amplitude"><a class="header" href="#damage_amplitude">damage_amplitude</a></h3>
<p>伤害增幅（%）</p>
<ul>
<li>增幅属性可以提高所有的伤害（包括真实伤害）</li>
<li>如增幅100%，则攻击、物品、技能等所有伤害都会提高100% 伤害增幅在暴击分裂等之前 负重（Kg）</li>
</ul>
<h3 id="weight--weight_current"><a class="header" href="#weight--weight_current">weight / weight_current</a></h3>
<p>负重（Kg）</p>
<ul>
<li>负重决定你身上能够佩戴多少重量的物品装备</li>
<li>常规地图物品都设为0kg，所以负重是无效的</li>
</ul>
<h3 id="invincible"><a class="header" href="#invincible">invincible</a></h3>
<p>无敌（%）</p>
<ul>
<li>收到伤害时瞬间无敌抵消的的几率</li>
</ul>
<h3 id="damage_rebound--damage_rebound_oppose"><a class="header" href="#damage_rebound--damage_rebound_oppose">damage_rebound / damage_rebound_oppose</a></h3>
<p>伤害反射（%） / 反伤抵抗（%）</p>
<ul>
<li>可反射受到的一切伤害</li>
<li>反伤数值机制精度为0.01,小于0.01无效 默认最低为0%（无反射）最高无限定</li>
<li>以最终伤害值计算反射，反射的伤害不会再次成为反射源</li>
</ul>
<h3 id="knocking_odds--knocking_extent--knocking_oppose"><a class="header" href="#knocking_odds--knocking_extent--knocking_oppose">knocking_odds / knocking_extent / knocking_oppose</a></h3>
<p>暴击几率（%）/ 暴击伤害加成（%） / 暴击抵抗（%）</p>
<ul>
<li>这是单位本体的暴击，与xtras的无关，可线性叠加</li>
<li>本体暴击自动无视回避（模拟原生魔兽效果）</li>
<li>暴击抵抗阻碍物理暴击发生，包括本体的和xtras</li>
</ul>
<h3 id="split_oppose"><a class="header" href="#split_oppose">split_oppose</a></h3>
<p>分裂抵抗（%）</p>
<ul>
<li>阻碍分裂发生</li>
</ul>
<h3 id="hemophagia_oppose--hemophagia_skill_oppose"><a class="header" href="#hemophagia_oppose--hemophagia_skill_oppose">hemophagia_oppose / hemophagia_skill_oppose</a></h3>
<p>吸血抵抗（%） / 技能吸血抵抗（%）</p>
<ul>
<li>抵抗攻击吸血 / 技能吸血效果</li>
</ul>
<h3 id="punish_oppose-1"><a class="header" href="#punish_oppose-1">punish_oppose</a></h3>
<p>僵直抵抗（%）</p>
<ul>
<li>抵抗僵直效果</li>
</ul>
<h3 id="split_oppose-1"><a class="header" href="#split_oppose-1">split_oppose</a></h3>
<p>分裂抵抗（%）</p>
<ul>
<li>阻碍分裂发生</li>
</ul>
<h3 id="swim_oppose"><a class="header" href="#swim_oppose">swim_oppose</a></h3>
<p>眩晕抵抗（%）</p>
<ul>
<li>眩晕抵抗同时减少受到眩晕的几率及眩晕时间 眩晕几率=原眩晕几率%-眩晕抵抗（%）,最小0%即无效</li>
<li>眩晕时间=原眩晕时间*(100%-眩晕抵抗%)（s）,最小0秒即无效 沉默抵抗（%）</li>
</ul>
<h3 id="silent_oppose"><a class="header" href="#silent_oppose">silent_oppose</a></h3>
<p>沉默抵抗（%）</p>
<ul>
<li>阻碍沉默发生</li>
</ul>
<h3 id="unarm_oppose"><a class="header" href="#unarm_oppose">unarm_oppose</a></h3>
<p>缴械抵抗（%）</p>
<ul>
<li>阻碍缴械发生</li>
</ul>
<h3 id="fetter_oppose"><a class="header" href="#fetter_oppose">fetter_oppose</a></h3>
<p>定身抵抗（%）</p>
<ul>
<li>阻碍定身发生</li>
</ul>
<h3 id="bomb_oppose"><a class="header" href="#bomb_oppose">bomb_oppose</a></h3>
<p>爆破抵抗（%）</p>
<ul>
<li>阻碍爆破发生</li>
</ul>
<h3 id="lightning_chain_oppose"><a class="header" href="#lightning_chain_oppose">lightning_chain_oppose</a></h3>
<p>闪电链抵抗（%）</p>
<ul>
<li>阻碍闪电链发生</li>
</ul>
<h3 id="crack_fly_oppose"><a class="header" href="#crack_fly_oppose">crack_fly_oppose</a></h3>
<p>击飞抵抗（%）</p>
<ul>
<li>阻碍击飞发生</li>
</ul>
<h3 id="buff_oppose"><a class="header" href="#buff_oppose">buff_oppose</a></h3>
<p>强化阻碍（%）</p>
<ul>
<li>当xtras使用attr增强单位时，效果会被此值减轻</li>
</ul>
<h3 id="debuff_oppose"><a class="header" href="#debuff_oppose">debuff_oppose</a></h3>
<p>负面抵抗（%）</p>
<ul>
<li>当xtras使用attr削弱单位时，效果会被此值减轻</li>
</ul>
<h3 id="break_armor_type"><a class="header" href="#break_armor_type">BREAK_ARMOR_TYPE</a></h3>
<p>无视装甲</p>
<ul>
<li>详情请看const</li>
<li>无视护甲 defend</li>
<li>无视回避 avoid</li>
<li>无视无敌 invincible</li>
<li>无视附魔 enchant</li>
<li>无视只对正数值有效 额外特效</li>
</ul>
<h3 id="xtras"><a class="header" href="#xtras">xtras</a></h3>
<p>以事件作驱动，引发额外限定效果的操作</p>
<ul>
<li>由于非常复杂，请查看attr的xtras源码段注释说明 常见例子：</li>
</ul>
<pre><code class="language-lua">{ on = CONST_EVENT.attack, action = &quot;triggerUnit.attr.attack_speed&quot;, odds = 20.0, val = 1.5, during = 3.0, effect = nil },
{ on = CONST_EVENT.attack, action = &quot;attackUnit.attr.attack_speed&quot;, odds = 20.0, val = 1.5, during = 3.0, effect = nil },
{ on = CONST_EVENT.skill, action = &quot;castUnit.attr.attack_green&quot;, odds = 20.0, val = 2, during = 3.0, effect = nil },
{ on = CONST_EVENT.item, action = &quot;useUnit.attr.int_white&quot;, odds = 20.0, val = 2, during = 3.0, effect = nil },
{ on = CONST_EVENT.attack, action = &quot;targetUnit.spec.knocking&quot;, odds = 100, percent = 100, effect = nil },
{ on = CONST_EVENT.skill, action = &quot;targetUnit.spec.knocking&quot;, odds = 100, percent = 100, effect = nil },
{ on = CONST_EVENT.attack, action = &quot;targetUnit.spec.split&quot;, odds = 100, percent = {30,50}, radius = 250 },
{ on = CONST_EVENT.attack, action = &quot;targetUnit.spec.swim&quot;,odds = 0.0, val = 0.0, during = 0.0, effect = nil},
{ on = CONST_EVENT.attack, action = &quot;targetUnit.spec.broken&quot;,odds = 0.0, val = 0.0, effect = nil},
{ on = CONST_EVENT.attack, action = &quot;targetUnit.spec.silent&quot;,odds = 0.0, val = 0.0, during = 0.0, effect = nil},
{ on = CONST_EVENT.attack, action = &quot;targetUnit.spec.unarm&quot;,odds = 0.0, val = 0.0, during = 0.0, effect = nil},
{ on = CONST_EVENT.attack, action = &quot;targetUnit.spec.fetter&quot;,odds = 0.0, val = 0.0, during = 0.0, effect = nil},
{ on = CONST_EVENT.attack, action = &quot;targetUnit.spec.bomb&quot;,odds = 0.0, radius = 0.0, val = 0.0, effect = nil},
{ on = CONST_EVENT.damage, action = &quot;targetUnit.spec.lightning_chain&quot;, odds = 50, val = 100, qty = 0, rate = 0.0 },
{ on = CONST_EVENT.beDamage, action = &quot;sourceUnit.spec.crack_fly&quot;, odds = 50, val = 100, distance = 300, height = 200, during = 0.5 },
{ on = CONST_EVENT.attack, action = &quot;sourceUnit.spec.paw&quot;, odds = 50, val = 'damage', effect = 'Abilities\\Weapons\\GargoyleMissile\\GargoyleMissile.mdl', radius = 50, odds = 50, speed = 10, deg = 30, distance = 500, qty = 3 }
</code></pre>
<h3 id="enchant"><a class="header" href="#enchant">enchant</a></h3>
<p>附魔系统介绍</p>
<ul>
<li>e_开头的系列设定 如：e_fire / e_fire_attack / e_fire_oppose 附魔，是框架内定义的一种概念 附魔带出元素集合，它们有：物理、魔法、火、焰、水、风、雷、木、毒等等很多种
附魔被伤害类型和attr引用，独立存在，仅呈现辅助式伤害</li>
<li>每个属性在造成对应的伤害时，会获得百分比加成，无上限，而抵抗则直接减少加成比例</li>
<li>下列例子不考虑其他因素： 默认+10%参考henchant.INTRINSIC_ADDITION 原伤100%，类型包含火。火加成为100%，火抵抗为40%，最终伤害170%（默认会+10%）
原伤100%，类型包含火。火加成为40%，火抵抗为40%，最终伤害110%（默认会+10%） 原伤100%，类型包含火。火加成为0%，火抵抗为40%，最终伤害70%（反而不如无类型了）
原伤100%，类型不包含火。火加成为40%，火抵抗为40%，最终伤害100%（类型无火，则火加成/抵抗皆无效） 伤害类型(伤害类型绑定附魔的元素)</li>
</ul>
<h3 id="damage_type"><a class="header" href="#damage_type">DAMAGE_TYPE</a></h3>
<p>伤害类型一般指伤害的类型，类型之间可以随意的重复叠加</p>
<ul>
<li>详情请看const</li>
<li>例如一个伤害类型：可以是{physical,fire,fire}物理+火，而且火占到了三分之二的比例。 一般情况下，一次伤害总是各种类型混合的，各个类型会按照各自的规则来计算削弱和加强，不必担心混乱
例如{magic,fire}这种类型，这次伤害是200点，他们会各自平分伤害：magic100，fire100，如果魔法就按魔抗计算被抵消，火伤害依然是有100点的 伤害来源</li>
</ul>
<h3 id="damage_src"><a class="header" href="#damage_src">DAMAGE_SRC</a></h3>
<p>伤害方式共 4 种</p>
<ul>
<li>详情请看const</li>
<li>[未知方式]没有被定义的都会是未知来源，一种概念</li>
<li>[攻击方式]普通攻击、魔兽原生技能造成的伤害</li>
<li>[技能方式]技能设定（触发技能buff、技能debuff、技能特效）</li>
<li>[物品方式]物品伤害，一种概念</li>
<li>伤害一般计算优先级：原生护甲伤害计算-&gt;方式类型判定-&gt;无视判定-&gt;附魔数值整合-&gt;暴击及抵抗-&gt;回避、命中-&gt;减伤-&gt;造成伤害-&gt;分裂、吸血、技能吸血-&gt;僵直、反伤-&gt;额外特效</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="japi"><a class="header" href="#japi">JAPI</a></h2>
<h3 id="sdk马仔自带一些japi实装函数一览"><a class="header" href="#sdk马仔自带一些japi实装函数一览">SDK马仔自带一些JAPI，实装函数一览</a></h3>
<blockquote>
<p>以代码提示函数存在作为依据，下列函数名仅供参考</p>
</blockquote>
<pre><code class="language-lua">    EXSetEffectXY
    DzIsKeyDown
    EXGetUnitArrayString
    DzFrameSetPoint
    DzAPI_UnitType_SetEnum_PreventOrReguirePlace
    EXSetUnitReal
    EXSetUnitCollisionType
    DzAPI_UnitType_GetUnitTypeDataAbilID
    GetUnitState
    DzAPI_UnitType_SetEnum_armor
    SetUnitState
    RequestExtraIntegerData
    EXGetUnitReal
    DzAPI_UnitType_GetUnitTypeDataBoolean
    EXGetUnitString
    EXSetUnitString
    DzAPI_Map_SaveServerValue
    EXGetUnitInteger
    EXSetEffectSpeed
    DzAPI_Map_IsBlueVIP
    EXEffectMatReset
    EXSetUnitInteger
    DzGetWheelDelta
    EXBlendButtonIcon
    DzAPI_UnitType_CountUnitTypeDataArrayTechID
    EXSetItemDataString
    DzAPI_UnitType_GetEnum_weapTp
    EXSetUnitArrayString
    EXGetEffectY
    EXPauseUnit
    EXGetAbilityDataString
    EXSetUnitMoveType
    EXSetUnitFacing
    DzSetCustomFovFix
    EXGetUnitAbility
    EXExecuteScript
    DzGetPlayerName
    EXGetUnitAbilityByIndex
    EXGetAbilityId
    DzAPI_UnitType_SetUnitTypeDataArrayString
    EXGetAbilityState
    EXSetAbilityState
    EXEffectMatRotateX
    EXGetAbilityDataReal
    EXSetAbilityDataReal
    DzEvent_Tech_Finish
    EXGetAbilityDataInteger
    DzSimpleFontStringFindByName
    EXSetAbilityDataInteger
    DzAPI_UnitType_ResizeUnitTypeDataArrayAbilID
    EXSetAbilityString
    DzAPI_UnitType_GetEnum_type
    EXSetAbilityDataString
    DzDotaInfo_Item_HE
    DzAPI_UnitType_CountUnitTypeDataArrayItemID
    EXSetAbilityAEmeDataA
    DzGetPlayerSelectedHero
    DzAPI_UnitType_ResizeUnitTypeDataArrayReal
    EXGetBuffDataString
    GetEventDamage
    DzGetPlayerInitGold
    EXSetBuffDataString
    EXGetAbilityString
    EXGetItemDataString
    DzTriggerRegisterMouseEventByCode
    DzDotaInfo_Item
    EXGetEventDamageData
    EXSetEventDamage
    EXDisplayChat
    EXSetEffectSize
    EXDclareButtonIcon
    EXSetEffectZ
    DzSetParams
    DzLoadToc
    EXGetEffectX
    DzAPI_UnitType_SetUnitTypeDataArrayAbilID
    EXGetEffectZ
    RequestExtraBooleanData
    EXGetEffectSize
    EXEffectMatRotateY
    DzFrameSetAnimateOffset
    DzDotaInfo_IsPlayerRandom
    EXEffectMatRotateZ
    DzAPI_UnitType_GetUnitTypeDataRequiresamount
    DzEvent_Building_Dead
    DzAPI_UnitType_SetUnitTypeDataReal
    DzAPI_Map_Ladder_SetPlayerStat
    DzEvent_Unit_Hired
    EXEffectMatScale
    DzDebugString
    DzUnitLearningSkill
    DzAPI_UnitType_CountUnitTypeDataArrayAbilID
    DzGetGameMode
    DzDotaInfo_IsRepicked
    DzDotaInfo_Item_TM
    DzEvent_Building_Cancel
    DzAPI_UnitType_SetEnum_typeModify
    DzEvent_Building_Start
    DzEvent_Building_Finish
    DzAPI_UnitType_GetUnitTypeDataRequires
    DzEvent_Hero_Dead
    DzFrameGetText
    DzAPI_UnitType_GetUnitTypeDataArrayString
    DzEvent_Unit_Dead
    DzEvent_Unit_Start
    DzEvent_Unit_Cancel
    DzAPI_UnitType_GetEnum_weapType
    DzEvent_Unit_Finish
    DzAPI_UnitType_GetUnitTypeDataReal
    DzEvent_Tech_Start
    DzGetClientHeight
    DzEvent_Tech_Cancel
    DzSimpleFrameFindByName
    DzFrameGetPortrait
    DzGetMouseTerrainX
    DzEvent_Hero_Level
    DzGetColor
    DzEvent_Unit_ChangeOwner
    DzEvent_Item_Drop
    DzEvent_Item_Pickup
    DzEvent_Item_Use
    DzEvent_Item_Sell
    DzGetMouseY
    DzPlatform_HasGameOver
    DzPlatform_HasGameOver_Player
    DzPlatform_GameStart
    DzAPI_UnitType_GetEnum_movetp
    DzAPI_Map_MissionComplete
    DzAPI_Map_GetActivityData
    DzAPI_Map_GetMapLevel
    DzAPI_Map_GetServerValue
    DzAPI_Map_Stat_SetStat
    DzAPI_Map_Ladder_SetStat
    DzAPI_Map_IsRPGLobby
    DzAPI_Map_GetGameStartTime
    DzAPI_Map_IsRPGLadder
    DzFrameSetAlpha
    DzAPI_Map_GetMatchType
    DzAPI_Map_UpdatePlayerHero
    DzFrameClearAllPoints
    DzAPI_Map_GetLadderLevel
    DzAPI_Map_IsRedVIP
    DzAPI_Map_GetLadderRank
    DzAPI_Map_GetMapLevelRank
    DzAPI_Map_GetServerValueErrorCode
    DzAPI_Map_GetGuildName
    DzAPI_Map_GetGuildRole
    DzAPI_UnitType_GetUnitTypeDataArrayUnitID
    DzAPI_Map_GetMapConfig
    DzAPI_UnitType_SetUnitTypeDataArrayReal
    DzAPI_Map_HasMallItem
    DzTriggerRegisterWindowResizeEventByCode
    DzAPI_Map_ChangeStoreItemCount
    DzFrameGetParent
    DzAPI_Map_ChangeStoreItemCoolDown
    DzAPI_Map_ToggleStore
    DzAPI_Map_GetServerArchiveEquip
    DzAPI_Map_GetServerArchiveDrop
    DzFrameSetMinMaxValue
    DzFrameSetScript
    DzFrameGetMinimapButton
    DzAPI_Map_OrpgTrigger
    DzAPI_Map_GetUserID
    DzAPI_Map_GetPlatformVIP
    DzAPI_Map_SavePublicArchive
    DzAPI_Map_GetPublicArchive
    DzAPI_Map_UseConsumablesItem
    DzAPI_Map_Statistics
    RequestExtraStringData
    DzFrameGetHeroManaBar
    RequestExtraRealData
    DzSyncData
    DzAPI_UnitType_GetUnitTypeDataString
    DzAPI_CommonFunc_SetARGBColorValue
    DzAPI_UnitType_SetUnitTypeDataArrayUnitID
    DzAPI_CommonFunc_SetARGBColorValuePercent
    DzAPI_CommonFunc_GetARGBColorValue
    DzUnitDisableInventory
    DzAPI_CommonFunc_GetARGBColorValuePercent
    DzFrameSetScale
    DzAPI_UnitType_GetUnitTypeDataArrayReal
    DzAPI_UnitstateToInteger
    DzAPI_UnitType_GettUnitTypeDataRequirescount
    DzAPI_UnitType_GetEnum_PreventOrReguirePlaceCheck
    DzAPI_UnitType_GetUnitTypeDataInt
    DzAPI_UnitType_SetUnitTypeDataInt
    DzFrameCageMouse
    DzFrameSetScriptByCode
    DzAPI_UnitType_CountUnitTypeDataArrayReal
    DzAPI_UnitType_SetUnitTypeDataBoolean
    DzAPI_UnitType_CountUnitTypeDataArrayBoolean
    DzAPI_UnitType_ResizeUnitTypeDataArrayBoolean
    DzGetWindowHeight
    DzAPI_UnitType_GetUnitTypeDataArrayBoolean
    DzTriggerRegisterMouseWheelEventByCode
    DzAPI_UnitType_SetUnitTypeDataArrayBoolean
    DzAPI_UnitType_SetUnitTypeDataString
    DzAPI_UnitType_CountUnitTypeDataArrayString
    DzAPI_UnitType_ResizeUnitTypeDataArrayString
    DzAPI_UnitType_ResizeUnitTypeDataArrayTechID
    DzAPI_UnitType_GetUnitTypeDataArrayTechID
    DzAPI_UnitType_SetUnitTypeDataArrayTechID
    DzAPI_UnitType_SetUnitTypeDataAbilID
    DzAPI_UnitType_GetUnitTypeDataArrayAbilID
    DzAPI_UnitType_CountUnitTypeDataArrayUnitID
    DzAPI_UnitType_SetEnum_TargetTypeSeries
    DzAPI_UnitType_SetEnum_atkType
    DzAPI_UnitType_ResizeUnitTypeDataArrayUnitID
    DzTriggerRegisterMouseMoveEventByCode
    DzAPI_UnitType_ResizeUnitTypeDataArrayItemID
    DzAPI_UnitType_GetUnitTypeDataArrayItemID
    DzAPI_UnitType_SetUnitTypeDataArrayItemID
    DzAPI_UnitType_GetEnum_regenType
    DzAPI_UnitType_SetEnum_regenType
    DzAPI_UnitType_SetEnum_race
    DzAPI_UnitType_SetEnum_weapTp
    DzAPI_UnitType_GetEnum_defType
    DzAPI_UnitType_GetEnum_PreventOrReguirePlace
    DzAPI_UnitType_SetEnum_defType
    DzFrameGetTooltip
    DzAPI_UnitType_GetEnum_Primary
    DzAPI_UnitType_GetEnum_warpsOn
    DzFrameSetTooltip
    DzAPI_UnitType_SetEnum_warpsOn
    DzAPI_UnitType_GetEnum_atkType
    DzAPI_UnitType_SetEnum_weapType
    DzFrameSetStepValue
    DzAPI_UnitType_SetEnum_Primary
    DzFrameSetTextColor
    DzAPI_UnitType_SetEnum_movetp
    DzAPI_UnitType_GetEnum_buffType
    DzAPI_UnitType_SetEnum_buffType
    DzGetTriggerUIEventPlayer
    DzAPI_UnitType_GetEnum_race
    DzAPI_UnitType_GetEnum_deathType
    DzAPI_UnitType_SetEnum_deathType
    DzAPI_UnitType_GetEnum_armor
    DzAPI_UnitType_GetEnum_TargetTypeSeries
    DzAPI_UnitType_GetEnum_TargetTypeCheck
    DzAPI_UnitType_SetEnum_TargetTypeModify
    DzAPI_UnitType_SetEnum_type
    DzAPI_UnitType_GetEnum_typeCheck
    DzAPI_UnitType_SetEnum_PreventOrReguirePlaceModify
    DzAPI_UnitType_CountUnitTypeDataRequires
    DzAPI_UnitType_ResizeUnitTypeDataRequires
    DzGetConvertWorldPositionX
    DzAPI_UnitType_SetUnitTypeDataRequires
    DzSetUnitTexture
    DzAPI_UnitType_CountUnitTypeDataRequiresamount
    DzAPI_UnitType_ResizeUnitTypeDataRequiresamount
    DzAPI_UnitType_SetUnitTypeDataRequiresamount
    DzGetMouseXRelative
    DzGetMouseTerrainY
    DzFrameGetHeroBarButton
    DzGetMouseTerrainZ
    DzIsMouseOverUI
    DzGetMouseX
    DzGetLocale
    DzGetMouseYRelative
    DzSetMousePos
    DzTriggerRegisterMouseEvent
    DzTriggerRegisterKeyEvent
    DzTriggerRegisterKeyEventByCode
    DzTriggerRegisterMouseWheelEvent
    DzOriginalUIAutoResetPoint
    DzTriggerRegisterMouseMoveEvent
    DzGetTriggerKey
    DzGetTriggerKeyPlayer
    DzGetWindowWidth
    DzGetClientWidth
    DzGetWindowX
    DzGetWindowY
    DzTriggerRegisterWindowResizeEvent
    DzIsWindowActive
    DzTriggerRegisterSyncData
    DzSyncBuffer
    DzGetTriggerSyncData
    DzGetTriggerSyncPlayer
    DzFrameHideInterface
    DzFrameEditBlackBorders
    DzFrameGetMinimap
    DzFrameGetCommandBarButton
    DzFrameGetHeroHPBar
    DzExecuteFunc
    DzFrameGetItemBarButton
    DzFrameGetUpperButtonBarButton
    DzFrameGetChatMessage
    DzFrameGetUnitMessage
    DzFrameGetTopMessage
    DzGetConvertWorldPositionY
    DzFrameSetUpdateCallback
    DzGetUnitNeededXP
    DzFrameSetUpdateCallbackByCode
    DzFrameShow
    DzCreateFrame
    DzCreateSimpleFrame
    DzDestroyFrame
    DzFrameSetAbsolutePoint
    DzFrameSetEnable
    DzFrameGetAlpha
    DzGetTriggerUIEventFrame
    DzFrameFindByName
    DzSimpleTextureFindByName
    DzGetGameUI
    DzClickFrame
    DzEnableWideScreen
    DzFrameSetText
    DzFrameSetTextSizeLimit
    DzFrameGetTextSizeLimit
    DzGetMouseFocus
    DzFrameSetPriority
    DzFrameSetAllPoints
    DzFrameSetFocus
    DzFrameSetModel
    DzFrameGetEnable
    DzFrameSetAnimate
    DzFrameSetTexture
    DzFrameGetValue
    DzFrameSetValue
    DzFrameSetSize
    DzCreateFrameByTagName
    DzFrameSetVertexColor
    DzFrameSetParent
    DzFrameGetHeight
    DzFrameSetFont
    DzFrameSetTextAlignment
    DzFrameGetName
    DzConvertWorldPosition
    DzGetUnitUnderMouse
    DzDestructablePosition
    DzSetUnitPosition
    DzSetMemory
    DzSetUnitModel
    DzSetUnitID
    DzSetWar3MapMap
    DzUnitSilence
    DzUnitDisableAttack
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="hslk-使用入门"><a class="header" href="#hslk-使用入门">hslk 使用入门</a></h2>
<blockquote>
<p>hslk是h-lua的物编生成方式，只要在hslk目录中运用设定好的方法，即可创建物编</p>
</blockquote>
<h3 id="类型"><a class="header" href="#类型">类型</a></h3>
<pre><code>unit(common/hero/courier) 单位
item(common/synthesis) 物品
ability(common/empty/ring) 技能
buff(common) 魔法效果
upgrade(common) 科技
</code></pre>
<h3 id="专属字段"><a class="header" href="#专属字段">专属字段</a></h3>
<blockquote>
<p>改不了的字段定义了也没效</p>
</blockquote>
<pre><code class="language-lua">_id = &quot;[改不了]自动生成的物编ID&quot;
_id_force = &quot;[一般不用]自定义物编ID&quot;
_class = &quot;[改不了]hslk数据类别&quot;
_type = &quot;[一般不用]hslk数据形式&quot;
_parent = &quot;模版物编ID&quot;
_overlie = &quot;叠加&quot;
_weight = &quot;重量&quot;
_attr = &quot;属性&quot;
_ring = &quot;光环&quot;
_remarks = &quot;结尾灰字描述&quot;
_cooldown = &quot;冷却时间&quot;
_cooldownTarget = &quot;冷却技能目标&quot;
_shadow = &quot;强制使用影子物品&quot;
</code></pre>
<h4 id="配置hslk"><a class="header" href="#配置hslk">配置hslk</a></h4>
<blockquote>
<p>hslk的数据配置在【你的项目】的hslk目录中，即可测试自动构建并读取</p>
<p>支持默认程度的自定义配置，例如物编文本生成时的颜色等</p>
<p>默认内置一套配置，使用conf方法全覆盖即可</p>
</blockquote>
<pre><code class="language-lua">hslk_conf({
  courierSkill = {
    -- 信使技能-名称、热键、图标位置、冷却
    blink = {
        Ubertip = &quot;闪烁到任何地方&quot;, Art = &quot;ReplaceableTextures\\CommandButtons\\BTNBlink.blp&quot;,
        Hotkey = 'Q', Buttonpos_1 = 0, Buttonpos_2 = 2, Cool1 = 10
    },
    rangePickUp = {
        Ubertip = &quot;将附近地上的物品拾取到身上&quot;, Art = &quot;ReplaceableTextures\\CommandButtons\\BTNPickUpItem.blp&quot;,
        Hotkey = 'W', Buttonpos_1 = 1, Buttonpos_2 = 2, Cool1 = 5
    },
    separate = {
        Ubertip = &quot;将合成或重叠的物品拆分成零件&quot;, Art = &quot;ReplaceableTextures\\CommandButtons\\BTNRepair.blp&quot;,
        Hotkey = 'E', Buttonpos_1 = 2, Buttonpos_2 = 2, Cool1 = 5
    },
    deliver = {
        Ubertip = &quot;将所有物品依照顺序传送给英雄，当你的英雄没有空余物品位置，物品会返回给信使&quot;, Art = &quot;ReplaceableTextures\\CommandButtons\\BTNLoadPeon.blp&quot;,
        Hotkey = 'R', Buttonpos_1 = 3, Buttonpos_2 = 2, Cool1 = 5
    },
  },
  -- 描述文本颜色,可配置 hcolor 里拥有的颜色函数，也可以配置 hex 6位颜色码
  color = {
    hotKey = &quot;ffcc00&quot;, -- 热键
    itemCoolDown = &quot;ccffff&quot;, -- 物品冷却时间
    itemAttr = &quot;b0f26e&quot;, -- 物品属性
    itemOverlie = &quot;ff59ff&quot;, -- 物品叠加
    itemWeight = &quot;ee82ee&quot;, -- 物品重量
    itemRemarks = &quot;969696&quot;, -- 物品备注
    itemFragment = hcolor.orange, -- 物品零部件
    itemProfit = &quot;ffd88c&quot;, -- 物品合成品
    abilityCoolDown = &quot;ccffff&quot;, -- 技能冷却时间
    abilityAttr = &quot;b0f26e&quot;, -- 技能属性
    abilityRemarks = &quot;969696&quot;, -- 技能备注
    ringArea = &quot;99ccff&quot;, -- 光环范围
    ringTarget = &quot;99ccff&quot;, -- 光环作用目标
    heroWeapon = &quot;ff3939&quot;, -- 英雄攻击武器类型
    heroAttack = &quot;ff8080&quot;, -- 英雄基础攻击
    heroRange = &quot;99ccff&quot;, -- 英雄攻击范围
    heroPrimary = &quot;ffff00&quot;, -- 英雄主属性
    heroSecondary = &quot;ffffcc&quot;, -- 英雄主属性
    heroMove = &quot;ccffcc&quot;, -- 英雄移动
  }, 
})
</code></pre>
<h3 id="配置物品合成公式一般完美支持hslk创建的注册物品"><a class="header" href="#配置物品合成公式一般完美支持hslk创建的注册物品">配置物品合成公式（一般完美支持hslk创建的注册物品）</a></h3>
<blockquote>
<p>必须提前配置公式，再调用hslk创建物品，否则物品说明文本不会自动协助合成补充</p>
</blockquote>
<pre><code>例子1 &quot;小刀割大树=小刀+大树&quot; 2个不一样的合1个
例子2 &quot;三头地狱犬的神识=地狱狗头x3&quot; 3个一样的合1个
例子3 &quot;精灵神水x2=精灵的眼泪x50&quot; 50个一样的合一种,但得到2个
例子4 {
    {&quot;小刀割大树&quot;,1},{&quot;小刀&quot;,1},{&quot;大树&quot;,1}
}
对象型配置第一项为结果物品(适合物品名称包含特殊字符的物品，如+/=影响公式的符号)
</code></pre>
<h3 id="支持多种公式配置当公式内存在这种破坏范式的名称时可使用table进行设定"><a class="header" href="#支持多种公式配置当公式内存在这种破坏范式的名称时可使用table进行设定">支持多种公式配置，当公式内存在+=这种破坏范式的名称时，可使用table进行设定</a></h3>
<pre><code class="language-lua">hslk_item_synthesis({
    &quot;璀璨精气球=精气球+璀璨&quot;,
    &quot;重剑=铁剑x2&quot;,
    &quot;刺客短剑=铁剑+闪避护符&quot;,
    &quot;淬火剑=重剑+淬火石&quot;,
    {
        {&quot;小刀割大树&quot;,1},{&quot;小刀&quot;,1},{&quot;大树&quot;,1}
    }
})
</code></pre>
<h3 id="构建物编单位"><a class="header" href="#构建物编单位">构建物编单位</a></h3>
<pre><code class="language-lua">hslk_unit({
    Name = &quot;大步兵&quot;,
    abilList = &quot;Avul,Apit,Aneu&quot;,
    file = &quot;units\\human\\TheCaptain\\TheCaptain&quot;,
    Art = &quot;ReplaceableTextures\\CommandButtons\\BTNTheCaptain.blp&quot;,
    pathTex = &quot;PathTextures\\4x4SimpleSolid.tga&quot;,
    modelScale = 1.10,
    scale = 1.10,
    HP = 100,
    spd = 0,
    sight = 800,
    nsight = 800,
    unitSound = &quot;HighElfSwordsman&quot;,
    weapsOn = 0,
    race = &quot;human&quot;,
    UberSplat = &quot;HSMA&quot;,
})
</code></pre>
<h3 id="构建物编物品"><a class="header" href="#构建物编物品">构建物编物品</a></h3>
<pre><code class="language-lua">hslk_item({
    Name = &quot;闪避护符&quot;,
    Art = &quot;ReplaceableTextures\\CommandButtons\\BTNTalisman.blp&quot;,
    goldcost = 3500,
    lumbercost = 0,
    powerup = 0,
    sellable = 1,
    pawnable = 1,
    droppable = 1,
    Hotkey = &quot;Q&quot;,
    _remarks = &quot;戴上这个护符就能闪避，天下哪有那么神奇的事？！&quot;,
    _weight= 0.4,
    _attr = _attr({
        avoid = &quot;+3&quot;,
        xtras= {
          {
            on = CONST_EVENT.attack
            action = &quot;triggerUnit.attr.attack_speed&quot;,
            odds = 8,
            val = 10,
            during = 3,
            effect = &quot;Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl&quot;,
          },
       }
    }),
})
</code></pre>
<h3 id="构建fake光环技能"><a class="header" href="#构建fake光环技能">构建fake光环技能</a></h3>
<pre><code class="language-lua">hslk_ability_ring({
    Name = &quot;月神强击&quot;,
    Hotkey = &quot;E&quot;,
    race = &quot;human&quot;,
    Art = &quot;ReplaceableTextures\\PassiveButtons\\PASBTNTrueShot.blp&quot;,
    _ring = _ring({
        effect = &quot;Abilities\\Spells\\NightElf\\TrueshotAura\\TrueshotAura.mdl&quot;,
        effectTarget = &quot;Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl&quot;,
        radius = 600,
        target = &quot;air,ground,friend,self,vuln,invu&quot;,
        attr = {
            attack_green = &quot;+90&quot;,
            aim = &quot;+20&quot;
        }
    }),
})
</code></pre>
<h3 id="物品也可以嵌套光环技能"><a class="header" href="#物品也可以嵌套光环技能">物品也可以嵌套光环技能</a></h3>
<pre><code class="language-lua">hslk_item({
    Name = &quot;铁剑&quot;,
    Art = &quot;ReplaceableTextures\\CommandButtons\\BTNSteelMelee.blp&quot;,
    goldcost = 800,
    lumbercost = 0,
    powerup = 0,
    sellable = 1,
    pawnable = 1,
    droppable = 1,
    Hotkey = &quot;D&quot;,
    _remarks = &quot;精铁铸造的大剑&quot;,
    _attr = {
        attack_green = &quot;+33&quot;,
    },
    _ring = {
        effect = &quot;Abilities\\Spells\\Orc\\CommandAura\\CommandAura.mdl&quot;,
        effectTarget = &quot;Abilities\\Spells\\NightElf\\BattleRoar\\RoarTarget.mdl&quot;,
        attachTarget = &quot;overhead&quot;,
        radius = 600,
        target = &quot;air,ground,friend,self,vuln,invu&quot;,
        attr = {
            life = &quot;+50&quot;,
        }
    },
})
</code></pre>
<h3 id="自定义物编模版"><a class="header" href="#自定义物编模版">自定义物编模版</a></h3>
<pre><code class="language-lua">hslk_unit({
  _parent = &quot;hpea&quot;
})
</code></pre>
<h3 id="自定义物编id"><a class="header" href="#自定义物编id">自定义物编ID</a></h3>
<pre><code class="language-lua">hslk_unit({
  _id_force = &quot;U001&quot;
})
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="hslk-使用进阶"><a class="header" href="#hslk-使用进阶">hslk 使用进阶</a></h2>
<h3 id="物品主动技能绑定"><a class="header" href="#物品主动技能绑定">物品主动技能绑定</a></h3>
<pre><code class="language-lua">hslk_item({
  Name = &quot;跳跳剑&quot;,
  _cooldown = 2,
  _cooldownTarget = CONST_ABILITY_TARGET.location.value,
  _onItemUsed = _onItemUsed(function(evtData)
    hunit.portal(evtData.triggerUnit, evtData.targetX, evtData.targetY)
  end),
})
</code></pre>
<h3 id="技能主动绑定"><a class="header" href="#技能主动绑定">技能主动绑定</a></h3>
<pre><code class="language-lua">hslk_ability({
  Name = &quot;主动技能一个&quot;,
  _onSkillEffect = _onSkillEffect(function(evtData)
    -- 技能搞起来
  end)
})
</code></pre>
<h3 id="多级技能配置"><a class="header" href="#多级技能配置">多级技能配置</a></h3>
<pre><code class="language-lua">hslk_ability({
  Name = &quot;多级的技能&quot;,
  levels= 3,
  DataA = {0,0,0},
  DataB = {0,0,0},
  Cool = {0,0,0},
  Cost = {0,0,0},
})
</code></pre>
<h3 id="hslk属性的获取"><a class="header" href="#hslk属性的获取">hslk属性的获取</a></h3>
<blockquote>
<p>hslk生成的物编，在游戏脚本运行时，可以超级方便地自由读取数据</p>
</blockquote>
<pre><code class="language-lua">hslk.i2v(id) --根据物编ID，获取全数据
hslk.n2v(id) --根据物编Name，获取全数据，如果名字有重复，会返回多组数据
hslk.n2i(id) --根据物编Name，获取物编ID，如果名字有重复，只返回第一个ID
</code></pre>
<h3 id="hslk属性的获取slk数据"><a class="header" href="#hslk属性的获取slk数据">hslk属性的获取slk数据</a></h3>
<pre><code class="language-lua">hslk.i2v(id,&quot;slk&quot;) --slk数据放在第1级的slk的key里
hslk.i2v(id,&quot;_id&quot;) --hlua的自定义数据也在第1级里
</code></pre>
<blockquote>
<p>注意，slk数据的值，一开始获取都是字符串，需要自己转换</p>
</blockquote>
<h3 id="hslki2v的多级获取写法"><a class="header" href="#hslki2v的多级获取写法">hslk.i2v的多级获取写法</a></h3>
<pre><code class="language-lua">hslk.i2v(id,&quot;slk&quot;,&quot;Primary&quot;) --获取一个英雄的主属性串 STR|AGI|INT|_
</code></pre>
<blockquote>
<p>无效路径，则返回nil</p>
</blockquote>
<h3 id="hslk的-_class-字段"><a class="header" href="#hslk的-_class-字段">hslk的 _class 字段</a></h3>
<pre><code>hslk每组数据都必定会含有一个_class字段，是构建时用来记录数据类别的
技能时 _class = ability
单位时 _class = unit
物品时 _class = item
魔法效果时 _class = buff
科技时 _class = upgrade
在运行时，可以一次性获取所有某 class 下的ID字符串数组
hslk.classIds({&quot;ability&quot;,&quot;item&quot;})
</code></pre>
<h3 id="hslk的-_type-字段"><a class="header" href="#hslk的-_type-字段">hslk的 _type 字段</a></h3>
<pre><code>hslk每组数据都必定会含有一个 _type 字段，是构建时用来记录数据类别的
_type 字段一般情况下都是 common
而引用hslk官方的拓展函数，如hslk_ability_empty,会有固定的搭配

_type 可以在定义时自定义值，你写什么就是什么，可用于后续脚本中的ID集合获取

在运行时，可以一次性获取所有某  type 下的ID字符串数组
hslk.typeIds({&quot;hero&quot;})
</code></pre>
<h3 id="hslk的-misc"><a class="header" href="#hslk的-misc">hslk的 Misc</a></h3>
<pre><code>hslk里面可以获取misc数据,如：
hslk.misc(&quot;Misc&quot;,&quot;FadeBuffMinDuration&quot;) --&quot;10&quot;

misc数据就是平衡常数界面等等的一些游戏框架式数据
如果你不清楚有什么值，可以参考 h-lua/docs/slk-misc.md
</code></pre>
<h3 id="hslk的-自定义数据"><a class="header" href="#hslk的-自定义数据">hslk的 自定义数据</a></h3>
<pre><code class="language-lua">-- hslk配置时，table里面可以像设置_type一样，定义你自己随心的值
hslk_unit({
    _id_force = &quot;xTYG&quot;,
    Name = &quot;一个单位&quot;,
    _myData1 = 1,
    _myData2 = {0},
})

-- 在脚本中就可以像平时获取值一样获取

hslk.i2v(&quot;xTYG&quot;,&quot;_myData1&quot;)
hslk.i2v(&quot;xTYG&quot;,&quot;_myData2&quot;)

hslk.i2v(hslk.n2i(&quot;一个单位&quot;),&quot;_myData1&quot;)
hslk.i2v(hslk.n2i(&quot;一个单位&quot;),&quot;_myData2&quot;)

hslk.n2v(&quot;一个单位&quot;,&quot;_myData1&quot;)
hslk.n2v(&quot;一个单位&quot;,&quot;_myData2&quot;)
</code></pre>
<h3 id="hslk为单位添加技能例子"><a class="header" href="#hslk为单位添加技能例子">hslk为单位添加技能例子</a></h3>
<pre><code class="language-lua">-- hslk可以自定义值上面已讲过，所以我们可以设定一些技能后面调用
hslk_unit({
    _id_force = &quot;xTYG&quot;,
    Name = &quot;一个单位&quot;,
    _mySkillIds = {&quot;A001&quot;,&quot;A002&quot;},
})
-- 后面脚本里：
local unitId = &quot;xTYG&quot;
local whichUnit= hunit.create({whichPlayer=hplayer.players[1],id = unitId,x=0,y=0})
local mySkillIds = hslk.i2v(unitId,&quot;_mySkillIds&quot;)
for _,id in ipairs(mySkillIds)do
  hskill.add(whichUnit,id)
end

-- 除此之外，你可以和原生一样直接在hslk设定技能：
hslk_unit({
    _id_force = &quot;xTYG&quot;,
    Name = &quot;一个单位&quot;,
    abilList = &quot;A001,A002&quot;,
})
-- 后面框架会自动帮你处理数据，完事
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="slk原生物编字段"><a class="header" href="#slk原生物编字段">Slk原生物编字段</a></h2>
<pre><code class="language-lua">abilList = &quot;主动技能ID列表&quot;
Requires = &quot;科技树&quot;
Requiresamount = &quot;科技树-需求值&quot;
Name = &quot;名称&quot;
Description = &quot;描述&quot;
Tip = &quot;描述标题&quot;
Ubertip = &quot;说明&quot;
Hotkey = &quot;热键&quot;
Art = &quot;图标&quot;
scale = &quot;模型大小&quot;
file = &quot;模型文件路径&quot;
Buttonpos = &quot;X坐标&quot;
Buttonpos = &quot;Y坐标&quot;
UnButtonpos = &quot;X坐标-关闭&quot;
UnButtonpos = &quot;Y坐标-关闭&quot;
selSize = &quot;选择圈大小&quot;
colorR = &quot;红&quot;
colorG = &quot;绿&quot;
colorB = &quot;蓝&quot;
armor = &quot;装甲类型&quot;
Level = &quot;等级&quot;
oldLevel = &quot;等级(旧)&quot;
class = &quot;分类&quot;
goldcost = &quot;黄金&quot;
lumbercost = &quot;木头&quot;
HP = &quot;生命&quot;
stockStart = &quot;开始库存&quot;
stockRegen = &quot;补货周期&quot;
stockMax = &quot;最大库存&quot;
prio = &quot;优先权&quot;
morph = &quot;有效的物品转换目标&quot;
drop = &quot;死亡时掉落&quot;
powerup = &quot;捡到时自动使用&quot;
sellable = &quot;可以出售&quot;
pawnable = &quot;可以抵押&quot;
droppable = &quot;可以丢弃&quot;
pickRandom = &quot;可以作为随机物品&quot;
uses = &quot;使用次数&quot;
perishable = &quot;使用后完全消失&quot;
usable = &quot;主动使用&quot;
level = &quot;等级&quot;
race = &quot;种族&quot;
type = &quot;类别&quot;
manaN = &quot;最大魔法值&quot;
regenMana = &quot;魔法恢复&quot;
mana0 = &quot;初始魔法&quot;
regenHP = &quot;生命恢复&quot;
regenType = &quot;生命恢复类型&quot;
fmade = &quot;提供人口&quot;
fused = &quot;占用人口&quot;
stockStart = &quot;雇佣开始时间&quot;
stockRegen = &quot;雇佣开始间隔&quot;
stockMax = &quot;最大库存&quot;
sight = &quot;白天视野&quot;
nsight = &quot;夜晚视野&quot;
collision = &quot;接触体积&quot;
modelScale = &quot;模型缩放&quot;
fileVerFlags = &quot;模型文件版本&quot;
scaleBull = &quot;缩放投射物&quot;
scale = &quot;选择圈缩放&quot;
selZ = &quot;选择圈高度&quot;
selCircOnWater = &quot;选择圈在水面上&quot;
red = &quot;红&quot;
green = &quot;绿&quot;
blue = &quot;蓝&quot;
occH = &quot;闭塞高度&quot;
maxPitch = &quot;X轴最大旋转角度&quot;
maxRoll = &quot;Y轴最大旋转角度&quot;
impactZ = &quot;射弹碰撞偏移Z&quot;
impactSwimZ = &quot;射弹碰撞偏移Z深水&quot;
launchX = &quot;射弹偏移X&quot;
launchY = &quot;射弹偏移Y&quot;
launchZ = &quot;射弹偏移Z&quot;
launchSwimZ = &quot;射弹偏移Z深水&quot;
unitSound = &quot;单位声音&quot;
RandomSoundLabel = &quot;声音随机&quot;
MovementSoundLabel = &quot;声音移动&quot;
LoopingSoundFadeOut = &quot;声音渐出&quot;
LoopingSoundFadeIn = &quot;声音渐入&quot;
auto = &quot;主动自动技能ID&quot;
Sellitems = &quot;售出物品&quot;
Sellunits = &quot;售出单位&quot;
Markitems = &quot;制造物品&quot;
Builds = &quot;可建造单位&quot;
Specialart = &quot;特殊效果&quot;
unitShadow = &quot;单位阴影&quot;
buildingShadow = &quot;建筑阴影&quot;
shadowH = &quot;阴影H&quot;
shadowW = &quot;阴影W&quot;
shadowX = &quot;阴影X&quot;
shadowY = &quot;阴影Y&quot;
shadowOnWater = &quot;深水有阴影&quot;
death = &quot;死亡时间&quot;
deathType = &quot;死亡类型&quot;
movetp = &quot;移动类型&quot;
moveHeight = &quot;移动高度&quot;
moveFloor = &quot;最小高度&quot;
spd = &quot;基础速度&quot;
maxSpd = &quot;最大速度&quot;
minSpd = &quot;最小速度&quot;
turnRate = &quot;转身速率&quot;
acquire = &quot;主动攻击范围&quot;
minRange = &quot;最小攻击范围&quot;
weapsOn = &quot;允许攻击&quot;
Missileart = &quot;箭矢模型&quot;
Missilespeed = &quot;箭矢速度&quot;
Missilearc = &quot;箭矢弧度&quot;
MissileHoming = &quot;箭矢自导&quot;
targs = &quot;目标允许&quot;
atkType = &quot;攻击类型&quot;
weapTp = &quot;武器类型&quot;
weapType = &quot;武器声音&quot;
spillRadius = &quot;穿透伤害范围&quot;
spillDist = &quot;穿透距离&quot;
damageLoss = &quot;伤害衰减参数&quot;
showUI = &quot;显示攻击UI&quot;
backSw = &quot;攻击后摇&quot;
dmgpt = &quot;攻击前摇&quot;
rangeN = &quot;攻击范围&quot;
RngBuff = &quot;攻击范围缓冲&quot;
dmgplus = &quot;基础伤害&quot;
dmgUp = &quot;攻击科技升级&quot;
sides = &quot;伤害骰子面数&quot;
dice = &quot;伤害骰子数量&quot;
splashTargs = &quot;范围影响目标&quot;
cool = &quot;攻击间隔&quot;
Farea = &quot;全伤害范围&quot;
targCount = &quot;最大目标数&quot;
Qfact = &quot;小伤害参数&quot;
Qarea = &quot;小伤害范围&quot;
Hfact = &quot;中伤害参数&quot;
Harea = &quot;中伤害范围&quot;
defType = &quot;护甲类型&quot;
defUp = &quot;护甲科技升级&quot;
def = &quot;基础护甲&quot;
armor = &quot;装甲类型（被击声音）&quot;
targType = &quot;作为目标类型&quot;
Propernames = &quot;英雄称谓&quot;
nameCount = &quot;英雄称谓个数&quot;
Awakentip = &quot;英雄唤醒提示&quot;
Revivetip = &quot;英雄重生提示&quot;
Primary = &quot;主属性&quot;
STR = &quot;力量&quot;
STRplus = &quot;力量成长&quot;
AGI = &quot;敏捷&quot;
AGIplus = &quot;敏捷成长&quot;
INT = &quot;智力&quot;
INTplus = &quot;智力成长&quot;
heroAbilList = &quot;英雄技能ID列表&quot;
hideHeroMinimap = &quot;隐藏英雄小地图&quot;
hideHeroBar = &quot;隐藏英雄栏图标&quot;
hideHeroDeathMsg = &quot;隐藏英雄死亡信息&quot;
Requiresacount = &quot;科技树-使用等级数&quot;
Requires = &quot;科技树-等级&quot;
Reviveat = &quot;指定复活点&quot;
buffRadius = &quot;路径-AI放置范围&quot;
buffType = &quot;路径-AI放置类型&quot;
Revive = &quot;可复活单位&quot;
Trains = &quot;可训练单位&quot;
Upgrade = &quot;可升级建筑&quot;
requirePlace = &quot;路径-放置不允许&quot;
preventPlace = &quot;路径-放置要求&quot;
requireWaterRadius = &quot;路径-放置要求距离水的范围&quot;
pathTex = &quot;路径纹理&quot;
uberSplat = &quot;建筑地面纹理&quot;
nbrandom = &quot;中立-可作为随机建筑&quot;
nbmmlcon = &quot;中立-显示小地图&quot;
canBuildOn = &quot;能被其他建筑建造&quot;
isBuildOn = &quot;能建造在其他建筑上&quot;
tilesets = &quot;大地图-地形设置&quot;
special = &quot;大地图-分类-特殊&quot;
campaign = &quot;大地图-分类-战役&quot;
inEditor = &quot;大地图-可放置&quot;
dropItems = &quot;大地图-死亡掉落物品&quot;
hostilePal = &quot;大地图-可作为中立敌对&quot;
useClickHelper = &quot;大地图-使用点击帮助&quot;
tilesetSpecific = &quot;大地图-有地形指定数据&quot;
DependencyOr = &quot;科技树-从属等价物&quot;
Researches = &quot;科技树-可研究项目&quot;
upgrades = &quot;使用的科技&quot;
EditorSuffix = &quot;编辑器后缀&quot;
Casterupgradename = &quot;魔法升级名字&quot;
Casterupgradetip = &quot;魔法升级说明&quot;
Castrerupgradeart = &quot;魔法升级图标&quot;
ScoreScreenIcon = &quot;图标-记分屏&quot;
animProps = &quot;要求动画名&quot;
Attachmentanimprops = &quot;要求动画名-附加动画&quot;
Attachmentlinkprops = &quot;要求动画名-链接名&quot;
Boneprops = &quot;要求骨骼名&quot;
castpt = &quot;动画-施法前摇&quot;
castbsw = &quot;动画-施法后摇&quot;
blend = &quot;动画-混合时间（秒）&quot;
run = &quot;动画-跑步&quot;
walk = &quot;动画-行走&quot;
propWin = &quot;动画-转向角度&quot;
orientInterp = &quot;动画-转向补正&quot;
teamColor = &quot;队伍颜色&quot;
customTeamColor = &quot;允许更改队伍颜色&quot;
elevPts = &quot;高度变化-采样点数量&quot;
elevRad = &quot;高度变化-采样范围&quot;
fogRad = &quot;战争迷雾-采样范围&quot;
fatLOS = &quot;不可见区域显示单位&quot;
repulse = &quot;组群分离-允许&quot;
repulsePrio = &quot;组群分离-优先&quot;
repulseParam = &quot;组群分离-参数&quot;
repulseGroup = &quot;组群分离-组号&quot;
isbldg = &quot;是一个建筑&quot;
bldtm = &quot;建造时间&quot;
bountyplus = &quot;黄金奖励-值&quot;
bountysides = &quot;黄金奖励-骰子面数&quot;
bountydice = &quot;黄金奖励-骰子数量&quot;
goldRep = &quot;修理黄金消耗&quot;
lumberRep = &quot;修理木材消耗&quot;
reptm = &quot;修理时间&quot;
lumberbountyplus = &quot;木材奖励-值&quot;
lumberbountysides = &quot;木材奖励-骰子面数&quot;
lumberbountydice = &quot;木材奖励-骰子数量&quot;
cargoSize = &quot;运输尺寸&quot;
hideOnMinimap = &quot;隐藏小地图显示&quot;
points = &quot;单位附加值&quot;
prio = &quot;编队优先权&quot;
formation = &quot;队形排列&quot;
canFlee = &quot;可以逃跑&quot;
canSleep = &quot;可以睡眠&quot;
checkDep = &quot;科技树-检查等价所属&quot;
Effectsound = &quot;声效-音效&quot;
Effectsoundlooped = &quot;声效-音效（循环）&quot;
Researchtip = &quot;学习技能提示&quot;
Researchubertip = &quot;学习技能描述&quot;
Unorder = &quot;命令-关闭&quot;
Orderon = &quot;命令-激活&quot;
Order = &quot;命令串&quot;
Orderoff = &quot;命令-取消激活&quot;
Unhotkey = &quot;热键-关闭&quot;
Researchhotkey = &quot;热键-学习&quot;
Researchbuttonpos1 = &quot;X坐标-学习&quot;
Researchbuttonpos2 = &quot;Y坐标-学习&quot;
Unart = &quot;图标-关闭&quot;
Researchart = &quot;图标-学习&quot;
SpecialArt = &quot;效果-特殊&quot;
Specialattach = &quot;效果-特殊附加点&quot;
LightningEffect = &quot;效果-闪电效果&quot;
EffectArt = &quot;效果-目标点&quot;
TargetArt = &quot;效果-目标&quot;
Targetattachcount = &quot;效果-目标-附加数量&quot;
Targetattach = &quot;效果-目标-附加&quot;
Areaeffectart = &quot;效果-区域&quot;
Animnames = &quot;施法动作&quot;
CasterArt = &quot;效果-施法者&quot;
Casterattachcount = &quot;效果-施法者-附加数量&quot;
Casterattach = &quot;效果-施法者-附加&quot;
hero = &quot;是否英雄技能&quot;
item = &quot;是否物品技能&quot;
levels = &quot;等级&quot;
reqLevel = &quot;等级要求&quot;
levelSkip = &quot;学习跳等级&quot;
priority = &quot;魔法偷取优先级&quot;
BuffID = &quot;魔法效果&quot;
EfctID = &quot;区域持续效果&quot;
DataA = &quot;数据A&quot;
DataB = &quot;数据B&quot;
DataC = &quot;数据C&quot;
DataD = &quot;数据D&quot;
DataE = &quot;数据E&quot;
DataF = &quot;数据F&quot;
Cast = &quot;施法时间&quot;
Cool = &quot;冷却时间&quot;
Dur = &quot;持续时间&quot;
HeroDur = &quot;持续时间（英雄）&quot;
Cost = &quot;魔法消耗&quot;
Rng = &quot;施法距离&quot;
Area = &quot;施法范围&quot;  
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="slk与misc数据"><a class="header" href="#slk与misc数据">Slk与MISC数据</a></h2>
<pre><code class="language-lua">[Ping](4) =&gt; table: {
    [PingAttackColor] =&gt; &lt;string&gt;&quot;255,255,0,0&quot;
    [PingColor] =&gt; &lt;string&gt;&quot;255,0,255,0&quot;
    [PingAdvisorColor] =&gt; &lt;string&gt;&quot;255,255,255,0&quot;
    [PingWaypointColor] =&gt; &lt;string&gt;&quot;255,255,255,25&quot;
}
[Misc](232) =&gt; table: {
    [FadeBuffMinDuration] =&gt; &lt;string&gt;&quot;10&quot;
    [BountyTextVelocity] =&gt; &lt;string&gt;&quot;0,0.03,100&quot;
    [GrantNormalXP] =&gt; &lt;string&gt;&quot;25&quot;
    [LumberTextVelocity] =&gt; &lt;string&gt;&quot;0,0.03,100&quot;
    [GoldTextFadeStart] =&gt; &lt;string&gt;&quot;1&quot;
    [DamageBonusMagic] =&gt; &lt;string&gt;&quot;1.25,0.75,2.00,0.35,1.00,0.50,0.05,1.00&quot;
    [FoggedAttackRevealRadius] =&gt; &lt;string&gt;&quot;200.0&quot;
    [BuildingUnblightRadius] =&gt; &lt;string&gt;&quot;350&quot;
    [FadeBuffMinAlpha] =&gt; &lt;string&gt;&quot;96&quot;
    [FollowItemRange] =&gt; &lt;string&gt;&quot;1000&quot;
    [FadeBuffMaxAlpha] =&gt; &lt;string&gt;&quot;255&quot;
    [GoldTextColor] =&gt; &lt;string&gt;&quot;255,255,220,0&quot;
    [BashTextVelocity] =&gt; &lt;string&gt;&quot;0,0.04,100&quot;
    [GoldTextLifetime] =&gt; &lt;string&gt;&quot;2&quot;
    [ShadowStrikeTextVelocity] =&gt; &lt;string&gt;&quot;0,0.04,100&quot;
    [ScaledAnimTime] =&gt; &lt;string&gt;&quot;60&quot;
    [AwakenLevelFactor] =&gt; &lt;string&gt;&quot;.20&quot;
    [GoldTextVelocity] =&gt; &lt;string&gt;&quot;0,0.03,100&quot;
    [CanDeactivateBarkskin] =&gt; &lt;string&gt;&quot;1&quot;
    [Dusk] =&gt; &lt;string&gt;&quot;18&quot;
    [ChanceToMiss] =&gt; &lt;string&gt;&quot;0&quot;
    [BountyTextColor] =&gt; &lt;string&gt;&quot;255,255,220,0&quot;
    [BulletDeathTime] =&gt; &lt;string&gt;&quot;5&quot;
    [StructureFollowRange] =&gt; &lt;string&gt;&quot;100&quot;
    [LumberTextColor] =&gt; &lt;string&gt;&quot;255,0,200,80&quot;
    [BuildingAngle] =&gt; &lt;string&gt;&quot;270&quot;
    [CriticalStrikeTextVelocity] =&gt; &lt;string&gt;&quot;0,0.04,100&quot;
    [BountyTextLifetime] =&gt; &lt;string&gt;&quot;3&quot;
    [LumberTextLifetime] =&gt; &lt;string&gt;&quot;2&quot;
    [MaxCollisionRadius] =&gt; &lt;string&gt;&quot;200&quot;
    [BountyTextFadeStart] =&gt; &lt;string&gt;&quot;2&quot;
    [NeedHeroXP] =&gt; &lt;string&gt;&quot;200&quot;
    [LumberTextFadeStart] =&gt; &lt;string&gt;&quot;1&quot;
    [// revivalTime] =&gt; &lt;string&gt;&quot;originalTime * level * ReviveTimeFactor&quot;
    [TradingIncLarge] =&gt; &lt;string&gt;&quot;0&quot;
    [SpellCastRangeBuffer] =&gt; &lt;string&gt;&quot;300&quot;
    [ReactionDelay] =&gt; &lt;string&gt;&quot;0.25&quot;
    [StructureDecayTime] =&gt; &lt;string&gt;&quot;15&quot;
    [MissTextColor] =&gt; &lt;string&gt;&quot;255,255,0,0&quot;
    [ItemShadowOffset] =&gt; &lt;string&gt;&quot;50,50&quot;
    [MissTextVelocity] =&gt; &lt;string&gt;&quot;0,0.03,100&quot;
    [MissTextLifetime] =&gt; &lt;string&gt;&quot;3&quot;
    [MissTextFadeStart] =&gt; &lt;string&gt;&quot;1&quot;
    [CriticalStrikeTextColor] =&gt; &lt;string&gt;&quot;255,255,0,0&quot;
    [DefendDeflection] =&gt; &lt;string&gt;&quot;0&quot;
    [ShadowStrikeTextFadeStart] =&gt; &lt;string&gt;&quot;2&quot;
    [CriticalStrikeTextLifetime] =&gt; &lt;string&gt;&quot;5&quot;
    [CriticalStrikeTextFadeStart] =&gt; &lt;string&gt;&quot;2&quot;
    [ShadowStrikeTextColor] =&gt; &lt;string&gt;&quot;255,160,255,0&quot;
    [ManaBurnTextVelocity] =&gt; &lt;string&gt;&quot;0,0.04,100&quot;
    [ShadowStrikeTextLifetime] =&gt; &lt;string&gt;&quot;5&quot;
    [ManaBurnTextColor] =&gt; &lt;string&gt;&quot;255,82,82,255&quot;
    [BuildingPlacementNotifyRadius] =&gt; &lt;string&gt;&quot;600&quot;
    [MorphLandClosest] =&gt; &lt;string&gt;&quot;1&quot;
    [ManaBurnTextLifetime] =&gt; &lt;string&gt;&quot;5&quot;
    [ManaBurnTextFadeStart] =&gt; &lt;string&gt;&quot;2&quot;
    [BashTextColor] =&gt; &lt;string&gt;&quot;255,0,0,255&quot;
    [IllusionsGetAttackSpeedBonus] =&gt; &lt;string&gt;&quot;0&quot;
    [BashTextLifetime] =&gt; &lt;string&gt;&quot;5&quot;
    [BashTextFadeStart] =&gt; &lt;string&gt;&quot;2&quot;
    [HeroExpRange] =&gt; &lt;string&gt;&quot;1200&quot;
    [LavaSpawnColor] =&gt; &lt;string&gt;&quot;255,255,255,255,255,220,220,220,255,185,185,185&quot;
    [ActiveButtonColor] =&gt; &lt;string&gt;&quot;255,75,150,255&quot;
    [DamageBonusNormal] =&gt; &lt;string&gt;&quot;1.00,1.50,1.00,0.70,1.00,1.00,0.05,1.00&quot;
    [CloseEnoughRange] =&gt; &lt;string&gt;&quot;100&quot;
    [NeutralUseNotifyRadius] =&gt; &lt;string&gt;&quot;900&quot;
    [StrRegenBonus] =&gt; &lt;string&gt;&quot;0&quot;
    [ReviveMaxTimeFactor] =&gt; &lt;string&gt;&quot;2.0&quot;
    [RootAngle] =&gt; &lt;string&gt;&quot;250&quot;
    [AttackHalfAngle] =&gt; &lt;string&gt;&quot;0.5&quot;
    [InvisibleUnitsBestowAuras] =&gt; &lt;string&gt;&quot;0&quot;
    [DyingRevealRadius] =&gt; &lt;string&gt;&quot;500.0&quot;
    [BoneDecayTime] =&gt; &lt;string&gt;&quot;60&quot;
    [DecayTime] =&gt; &lt;string&gt;&quot;2&quot;
    [FlyingHeroesBestowAuras] =&gt; &lt;string&gt;&quot;0&quot;
    [FogFlashTime] =&gt; &lt;string&gt;&quot;3&quot;
    [DissipateTime] =&gt; &lt;string&gt;&quot;3&quot;
    [CancelTime] =&gt; &lt;string&gt;&quot;3&quot;
    [EffectDeathTime] =&gt; &lt;string&gt;&quot;5&quot;
    [CanDeactivateBearForm] =&gt; &lt;string&gt;&quot;1&quot;
    [CreepCampPathingCellDistance] =&gt; &lt;string&gt;&quot;26&quot;
    [FollowRange] =&gt; &lt;string&gt;&quot;300&quot;
    [RallyZOffset] =&gt; &lt;string&gt;&quot;200&quot;
    [HeroMaxAwakenCostGold] =&gt; &lt;string&gt;&quot;1400&quot;
    [DayLength] =&gt; &lt;string&gt;&quot;480&quot;
    [Dawn] =&gt; &lt;string&gt;&quot;6&quot;
    [DayHours] =&gt; &lt;string&gt;&quot;24&quot;
    [GoldMineMaxGold] =&gt; &lt;string&gt;&quot;1000000&quot;
    [AllowMultiBounce] =&gt; &lt;string&gt;&quot;1&quot;
    [InvisSpeed] =&gt; &lt;string&gt;&quot;0.4&quot;
    [LowGoldAmount] =&gt; &lt;string&gt;&quot;1500&quot;
    [CanDeactivateWindWalk] =&gt; &lt;string&gt;&quot;0&quot;
    [GoldMineOwnDuration] =&gt; &lt;string&gt;&quot;2.0&quot;
    [IntManaBonus] =&gt; &lt;string&gt;&quot;0&quot;
    [// this is the speed units change visibility (smaller] =&gt; &lt;string&gt;&quot;&quot;cloak&quot; slower)&quot;
    [SelectionCircleBaseZ] =&gt; &lt;string&gt;&quot;16&quot;
    [ItemShadowFile] =&gt; &lt;string&gt;&quot;Shadow&quot;
    [ItemShadowSize] =&gt; &lt;string&gt;&quot;120,120&quot;
    [StrAttackBonus] =&gt; &lt;string&gt;&quot;0&quot;
    [TownPortalCluster] =&gt; &lt;string&gt;&quot;1&quot;
    [AttackNotifyDelay] =&gt; &lt;string&gt;&quot;30.0&quot;
    [DrainTransfersLife] =&gt; &lt;string&gt;&quot;0&quot;
    [AttackNotifyRange] =&gt; &lt;string&gt;&quot;1250&quot;
    [CanDeactivateRavenForm] =&gt; &lt;string&gt;&quot;1&quot;
    [TradingIncSmall] =&gt; &lt;string&gt;&quot;0&quot;
    [MissDamageReduction] =&gt; &lt;string&gt;&quot;0.&quot;
    [MagicImmunesResistDamage] =&gt; &lt;string&gt;&quot;1&quot;
    [MagicImmunesResistThorns] =&gt; &lt;string&gt;&quot;0&quot;
    [MagicImmunesResistLeech] =&gt; &lt;string&gt;&quot;0&quot;
    [MagicImmunesResistUltimates] =&gt; &lt;string&gt;&quot;0&quot;
    [CycloneStasis] =&gt; &lt;string&gt;&quot;0&quot;
    [GrantNormalXPFormulaB] =&gt; &lt;string&gt;&quot;5&quot;
    [ReviveTimeFactor] =&gt; &lt;string&gt;&quot;0.65&quot;
    [DepCheckAlias] =&gt; &lt;string&gt;&quot;1&quot;
    [MassTeleportCluster] =&gt; &lt;string&gt;&quot;1&quot;
    [DarkSummoningCluster] =&gt; &lt;string&gt;&quot;1&quot;
    [AmuletOfRecallCluster] =&gt; &lt;string&gt;&quot;1&quot;
    [MorphAlternateDisable] =&gt; &lt;string&gt;&quot;0&quot;
    [InvulnSummonDispelDamage] =&gt; &lt;string&gt;&quot;1&quot;
    [ConstructionDamageRefundPenalty] =&gt; &lt;string&gt;&quot;1&quot;
    [UpgradeDamageRefundPenalty] =&gt; &lt;string&gt;&quot;0&quot;
    [MaxUnitSpeed] =&gt; &lt;string&gt;&quot;522&quot;
    [EnsnareIsMagic] =&gt; &lt;string&gt;&quot;0&quot;
    [MinUnitSpeed] =&gt; &lt;string&gt;&quot;0&quot;
    [WebIsMagic] =&gt; &lt;string&gt;&quot;0&quot;
    [IllusionsGetAttackBonus] =&gt; &lt;string&gt;&quot;0&quot;
    [IllusionsGetMoveSpeedBonus] =&gt; &lt;string&gt;&quot;0&quot;
    [IllusionsGetDefenseBonus] =&gt; &lt;string&gt;&quot;0&quot;
    [IllusionsCanRestoreLife] =&gt; &lt;string&gt;&quot;0&quot;
    [IllusionsCanRestoreMana] =&gt; &lt;string&gt;&quot;0&quot;
    [IllusionsBestowAuras] =&gt; &lt;string&gt;&quot;0&quot;
    [CanDeactivateAvengerForm] =&gt; &lt;string&gt;&quot;0&quot;
    [IllusionsGetAutocast] =&gt; &lt;string&gt;&quot;0&quot;
    [GrantNormalXPFormulaA] =&gt; &lt;string&gt;&quot;1&quot;
    [DrainGivesBonusMana] =&gt; &lt;string&gt;&quot;0&quot;
    [PolymorphedUnitsBestowAuras] =&gt; &lt;string&gt;&quot;0&quot;
    [BurrowedUnitsBestowAuras] =&gt; &lt;string&gt;&quot;0&quot;
    [DamageBonusChaos] =&gt; &lt;string&gt;&quot;1.00,1.00,1.00,1.00,1.00,1.00,1.00,1.00&quot;
    [AnimatedUnitsBestowAuras] =&gt; &lt;string&gt;&quot;0&quot;
    [MoveSpeedBonusesStack] =&gt; &lt;string&gt;&quot;1&quot;
    [DrainUsesEtheralBonus] =&gt; &lt;string&gt;&quot;0&quot;
    [DrainTransfersMana] =&gt; &lt;string&gt;&quot;0&quot;
    [AgiAttackSpeedBonus] =&gt; &lt;string&gt;&quot;0&quot;
    [DrainGivesBonusLife] =&gt; &lt;string&gt;&quot;0&quot;
    [EtherealDamageBonusAlly] =&gt; &lt;string&gt;&quot;1&quot;
    [CanDeactivateAvatar] =&gt; &lt;string&gt;&quot;0&quot;
    [CanDeactivateBladestorm] =&gt; &lt;string&gt;&quot;0&quot;
    [AgiMoveBonus] =&gt; &lt;string&gt;&quot;0&quot;
    [CanDeactivateBurrow] =&gt; &lt;string&gt;&quot;1&quot;
    [CanDeactivateCallToArms] =&gt; &lt;string&gt;&quot;1&quot;
    [CanDeactivateChemicalRage] =&gt; &lt;string&gt;&quot;0&quot;
    [CanDeactivateCorporealForm] =&gt; &lt;string&gt;&quot;1&quot;
    [DisplayBuildingStatus] =&gt; &lt;string&gt;&quot;0&quot;
    [CanDeactivateDefend] =&gt; &lt;string&gt;&quot;1&quot;
    [GrantNormalXPFormulaC] =&gt; &lt;string&gt;&quot;5&quot;
    [CanDeactivateDivineShield] =&gt; &lt;string&gt;&quot;1&quot;
    [CanDeactivateImmolation] =&gt; &lt;string&gt;&quot;1&quot;
    [CanDeactivateManaFlare] =&gt; &lt;string&gt;&quot;0&quot;
    [CanDeactivateManaShield] =&gt; &lt;string&gt;&quot;1&quot;
    [CanDeactivateMetamorphosis] =&gt; &lt;string&gt;&quot;0&quot;
    [CanDeactivateRoboGoblin] =&gt; &lt;string&gt;&quot;1&quot;
    [CanDeactivateStoneForm] =&gt; &lt;string&gt;&quot;1&quot;
    [CanDeactivateSubmerge] =&gt; &lt;string&gt;&quot;1&quot;
    [RelativeUpgradeCost] =&gt; &lt;string&gt;&quot;1&quot;
    [ItemSaleAggroRange] =&gt; &lt;string&gt;&quot;0&quot;
    [UnitSaleAggroRange] =&gt; &lt;string&gt;&quot;0&quot;
    [AbilSaleAggroRange] =&gt; &lt;string&gt;&quot;0&quot;
    [AbolishMagicDispelSmart] =&gt; &lt;string&gt;&quot;0&quot;
    [UpgradeInProgressIdChange] =&gt; &lt;string&gt;&quot;1&quot;
    [GlobalExperience] =&gt; &lt;string&gt;&quot;1&quot;
    [HeroMaxAwakenCostLumber] =&gt; &lt;string&gt;&quot;350&quot;
    [MaxLevelHeroesDrainExp] =&gt; &lt;string&gt;&quot;1&quot;
    [BuildingKillsGiveExp] =&gt; &lt;string&gt;&quot;0&quot;
    [DisplayEnemyInventory] =&gt; &lt;string&gt;&quot;1&quot;
    [AgiDefenseBonus] =&gt; &lt;string&gt;&quot;0&quot;
    [HeroMaxReviveCostGold] =&gt; &lt;string&gt;&quot;700&quot;
    [AwakenLumberLevelFactor] =&gt; &lt;string&gt;&quot;.20&quot;
    [HeroMaxReviveCostLumber] =&gt; &lt;string&gt;&quot;0&quot;
    [HeroMaxReviveTime] =&gt; &lt;string&gt;&quot;150&quot;
    [GuardReturnTime] =&gt; &lt;string&gt;&quot;5.0&quot;
    [HeroReviveManaStart] =&gt; &lt;string&gt;&quot;1&quot;
    [HeroReviveManaFactor] =&gt; &lt;string&gt;&quot;0.0&quot;
    [HeroReviveLifeFactor] =&gt; &lt;string&gt;&quot;1.0&quot;
    [HeroAwakenManaStart] =&gt; &lt;string&gt;&quot;0&quot;
    [PawnItemRate] =&gt; &lt;string&gt;&quot;0.50&quot;
    [HeroAwakenManaFactor] =&gt; &lt;string&gt;&quot;0.0&quot;
    [HeroAwakenLifeFactor] =&gt; &lt;string&gt;&quot;0.5&quot;
    [// goldRevivalCost] =&gt; &lt;string&gt;&quot;originalCost * (ReviveBaseFactor + (ReviveLevelFactor*(level-1)))&quot;
    [// lumberRevivalCost] =&gt; &lt;string&gt;&quot;originalCost * (ReviveBaseLumberFactor + (ReviveLumberLevelFactor*(level-1)))&quot;
    [ReviveBaseFactor] =&gt; &lt;string&gt;&quot;.40&quot;
    [ReviveLevelFactor] =&gt; &lt;string&gt;&quot;.10&quot;
    [ReviveBaseLumberFactor] =&gt; &lt;string&gt;&quot;0&quot;
    [DamageBonusSpells] =&gt; &lt;string&gt;&quot;1.00,1.00,1.00,1.00,1.00,0.75,0.05,1.00&quot;
    [ReviveLumberLevelFactor] =&gt; &lt;string&gt;&quot;0&quot;
    [ReviveMaxFactor] =&gt; &lt;string&gt;&quot;4.0&quot;
    [FrostAttackSpeedDecrease] =&gt; &lt;string&gt;&quot;0&quot;
    [AwakenBaseFactor] =&gt; &lt;string&gt;&quot;.80&quot;
    [FrostMoveSpeedDecrease] =&gt; &lt;string&gt;&quot;0&quot;
    [AwakenBaseLumberFactor] =&gt; &lt;string&gt;&quot;.80&quot;
    [AwakenMaxFactor] =&gt; &lt;string&gt;&quot;8.0&quot;
    [MinBldgSpeed] =&gt; &lt;string&gt;&quot;25&quot;
    [MaxBldgSpeed] =&gt; &lt;string&gt;&quot;400&quot;
    [MaxHeroLevel] =&gt; &lt;string&gt;&quot;10&quot;
    [MaxUnitLevel] =&gt; &lt;string&gt;&quot;99&quot;
    [GrantHeroXP] =&gt; &lt;string&gt;&quot;100,120,160,220,300&quot;
    [HeroFactorXP] =&gt; &lt;string&gt;&quot;80,70,60,50,0&quot;
    [EtherealHealBonus] =&gt; &lt;string&gt;&quot;1.66&quot;
    [SummonedKillFactor] =&gt; &lt;string&gt;&quot;0.5&quot;
    [StrHitPointBonus] =&gt; &lt;string&gt;&quot;0&quot;
    [IntRegenBonus] =&gt; &lt;string&gt;&quot;0&quot;
    [AgiDefenseBase] =&gt; &lt;string&gt;&quot;0&quot;
    [// f(x)] =&gt; &lt;string&gt;&quot;A*f(x-1) + B*x + C&quot;
    [NeedHeroXPFormulaA] =&gt; &lt;string&gt;&quot;1&quot;
    [NeedHeroXPFormulaB] =&gt; &lt;string&gt;&quot;100&quot;
    [NeedHeroXPFormulaC] =&gt; &lt;string&gt;&quot;0&quot;
    [GrantHeroXPFormulaA] =&gt; &lt;string&gt;&quot;1&quot;
    [GrantHeroXPFormulaB] =&gt; &lt;string&gt;&quot;0&quot;
    [GrantHeroXPFormulaC] =&gt; &lt;string&gt;&quot;100&quot;
    [HeroAbilityLevelSkip] =&gt; &lt;string&gt;&quot;2&quot;
    [DropItemRange] =&gt; &lt;string&gt;&quot;100&quot;
    [GiveItemRange] =&gt; &lt;string&gt;&quot;150&quot;
    [PickupItemRange] =&gt; &lt;string&gt;&quot;150&quot;
    [PawnItemRange] =&gt; &lt;string&gt;&quot;300&quot;
    [CallForHelp] =&gt; &lt;string&gt;&quot;600&quot;
    [CreepCallForHelp] =&gt; &lt;string&gt;&quot;600&quot;
    [DefenseArmor] =&gt; &lt;string&gt;&quot;0.06&quot;
    [DamageBonusPierce] =&gt; &lt;string&gt;&quot;2.00,0.75,1.00,0.35,1.00,0.50,0.05,1.50&quot;
    [DamageBonusSiege] =&gt; &lt;string&gt;&quot;1.00,0.50,1.00,1.50,1.00,0.50,0.05,1.50&quot;
    [DamageBonusHero] =&gt; &lt;string&gt;&quot;1.00,1.00,1.00,0.50,1.00,1.00,0.05,1.00&quot;
    [EtherealDamageBonus] =&gt; &lt;string&gt;&quot;0,0,0,1.66,0,1.66,0&quot;
    [GuardDistance] =&gt; &lt;string&gt;&quot;600&quot;
    [MaxGuardDistance] =&gt; &lt;string&gt;&quot;1000&quot;
}
[Ques](1) =&gt; table: {
    [QuestIndicatorTimeout] =&gt; &lt;string&gt;&quot;10&quot;
}
[Came](19) =&gt; table: {
    [AOA] =&gt; &lt;string&gt;&quot;20&quot;
    [top] =&gt; &lt;string&gt;&quot;2&quot;
    [FarZ] =&gt; &lt;string&gt;&quot;5000,5000,5000,5000,5000,5000&quot;
    [FOV] =&gt; &lt;string&gt;&quot;20&quot;
    [SmoothMaxDist] =&gt; &lt;string&gt;&quot;1000&quot;
    [SmoothScale] =&gt; &lt;string&gt;&quot;0.80&quot;
    [NearZ] =&gt; &lt;string&gt;&quot;100,100,100,100,100,100,60&quot;
    [Rotation] =&gt; &lt;string&gt;&quot;30&quot;
    [Height] =&gt; &lt;string&gt;&quot;0,0,0,0,0,0,0&quot;
    [Distance] =&gt; &lt;string&gt;&quot;1200&quot;
    [Smoothing] =&gt; &lt;string&gt;&quot;0.00&quot;
    [SmoothBias] =&gt; &lt;string&gt;&quot;0.15&quot;
    [SmoothMinFPS] =&gt; &lt;string&gt;&quot;10&quot;
    [right] =&gt; &lt;string&gt;&quot;4&quot;
    [SmoothBeta] =&gt; &lt;string&gt;&quot;1.5&quot;
    [Forward] =&gt; &lt;string&gt;&quot;3000&quot;
    [Strafe] =&gt; &lt;string&gt;&quot;3000&quot;
    [left] =&gt; &lt;string&gt;&quot;4&quot;
    [bottom] =&gt; &lt;string&gt;&quot;2&quot;
}
[Info](5) =&gt; table: {
    [MeleeRangeMax] =&gt; &lt;string&gt;&quot;128&quot;
    [SpeedSlow] =&gt; &lt;string&gt;&quot;220&quot;
    [SpeedAverage] =&gt; &lt;string&gt;&quot;280&quot;
    [AttackAverage] =&gt; &lt;string&gt;&quot;1.5&quot;
    [AttackSlow] =&gt; &lt;string&gt;&quot;2&quot;
}
[Flye](2) =&gt; table: {
    [MaximizeRadius] =&gt; &lt;string&gt;&quot;6&quot;
    [SmoothLevels] =&gt; &lt;string&gt;&quot;3&quot;
}
[Unpa](4) =&gt; table: {
    [left] =&gt; &lt;string&gt;&quot;6&quot;
    [right] =&gt; &lt;string&gt;&quot;6&quot;
    [top] =&gt; &lt;string&gt;&quot;8&quot;
    [bottom] =&gt; &lt;string&gt;&quot;4&quot;
}
[Defa](5) =&gt; table: {
    [Style] =&gt; &lt;string&gt;&quot;0&quot;
    [Start] =&gt; &lt;string&gt;&quot;20000&quot;
    [End] =&gt; &lt;string&gt;&quot;50000&quot;
    [Density] =&gt; &lt;string&gt;&quot;0&quot;
    [Color] =&gt; &lt;string&gt;&quot;0,0,0,0&quot;
}
[Arth](33) =&gt; table: {
    [File1] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\ArthasCape0001.mrf&quot;
    [File21] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\ArthasCape0004.mrf&quot;
    [Style] =&gt; &lt;string&gt;&quot;0&quot;
    [File13] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\IllidanDeathShadowA.blp&quot;
    [Start] =&gt; &lt;string&gt;&quot;0&quot;
    [End] =&gt; &lt;string&gt;&quot;6000&quot;
    [Density] =&gt; &lt;string&gt;&quot;1&quot;
    [File3] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\ArthasCloakFight.blp&quot;
    [Color] =&gt; &lt;string&gt;&quot;255,92,112,120&quot;
    [File0] =&gt; &lt;string&gt;&quot;Sound\Ambient\DoodadEffects\FinalCinematic.mp3&quot;
    [File4] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\Arthas1.blp&quot;
    [File5] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\StoneTiledSnowTALLtrev.blp&quot;
    [File6] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\IllidanBlade.blp&quot;
    [File7] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\FrostMorne.blp&quot;
    [File8] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\BigAssSky.blp&quot;
    [File9] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\ArthasCape0000.mrf&quot;
    [File10] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\ArthasCape0002.mrf&quot;
    [File11] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\ArthasCape0003.mrf&quot;
    [File12] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\SpeedLines1_solid.blp&quot;
    [File14] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\IllidanCineStuff.blp&quot;
    [File15] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\IllidanCine.blp&quot;
    [File16] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\IceCrownWalls.blp&quot;
    [File17] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\IceCrownDoodads0.blp&quot;
    [File18] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\Ice_Natural01.blp&quot;
    [File19] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\Clouds8x8.blp&quot;
    [File20] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\Ice_Natural01.blp&quot;
    [File22] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\ArthasCape0005.mrf&quot;
    [File23] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\SacrificialAltarskull1.blp&quot;
    [File24] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\rockShadow.blp&quot;
    [File25] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\IronForgeSnow01solid1.blp&quot;
    [File26] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\furboots2.blp&quot;
    [File27] =&gt; &lt;string&gt;&quot;Doodads\Cinematic\ArthasIllidanFight\IllidanBlade_mip1.blp&quot;
    [Scene1] =&gt; &lt;string&gt;&quot;FinalCinematic&quot;
}
[Terr](9) =&gt; table: {
    [MaxHeight] =&gt; &lt;string&gt;&quot;1536&quot;
    [Style] =&gt; &lt;string&gt;&quot;0&quot;
    [Start] =&gt; &lt;string&gt;&quot;3000&quot;
    [End] =&gt; &lt;string&gt;&quot;5000&quot;
    [// 0] =&gt; &lt;string&gt;&quot;low ground, each cliff level = 128&quot;
    [Density] =&gt; &lt;string&gt;&quot;0.5&quot;
    [MinHeight] =&gt; &lt;string&gt;&quot;-128&quot;
    [Color] =&gt; &lt;string&gt;&quot;255,0,0,0&quot;
    [MaxSlope] =&gt; &lt;string&gt;&quot;50&quot;
}
[Menu](5) =&gt; table: {
    [Style] =&gt; &lt;string&gt;&quot;0,0&quot;
    [Start] =&gt; &lt;string&gt;&quot;100,0&quot;
    [End] =&gt; &lt;string&gt;&quot;5500,7000&quot;
    [Density] =&gt; &lt;string&gt;&quot;1,1&quot;
    [Color] =&gt; &lt;string&gt;&quot;255,11,20,11,255,178,178,204&quot;
}
[Soun](5) =&gt; table: {
    [MusicFadeInterval] =&gt; &lt;string&gt;&quot;500&quot;
    [MinDist] =&gt; &lt;string&gt;&quot;1200&quot;
    [Attenuation] =&gt; &lt;string&gt;&quot;3.0&quot;
    [MaxDist] =&gt; &lt;string&gt;&quot;20000&quot;
    [MusicFadeRate] =&gt; &lt;string&gt;&quot;16&quot;
}
[Targ](2) =&gt; table: {
    [TargetLightColor] =&gt; &lt;string&gt;&quot;180,0,255,0&quot;
    [SelTargetColor] =&gt; &lt;string&gt;&quot;255,240,200,0&quot;
}
[Ligh](1) =&gt; table: {
    [Direction] =&gt; &lt;string&gt;&quot;0.3,0.3,-0.25&quot;
}
[Sele](15) =&gt; table: {
    [NumSizes] =&gt; &lt;string&gt;&quot;3&quot;
    [TextureDotted00] =&gt; &lt;string&gt;&quot;ReplaceableTextures\Selection\SelectionCircleSmallDotted&quot;
    [ColorEnemy] =&gt; &lt;string&gt;&quot;255,255,0,0&quot;
    [Texture00] =&gt; &lt;string&gt;&quot;ReplaceableTextures\Selection\SelectionCircleSmall&quot;
    [AllyOffset] =&gt; &lt;string&gt;&quot;0.2&quot;
    [Size00] =&gt; &lt;string&gt;&quot;100&quot;
    [ColorNeutral] =&gt; &lt;string&gt;&quot;255,255,255,0&quot;
    [TextureDotted01] =&gt; &lt;string&gt;&quot;ReplaceableTextures\Selection\SelectionCircleMedDotted&quot;
    [Texture01] =&gt; &lt;string&gt;&quot;ReplaceableTextures\Selection\SelectionCircleMed&quot;
    [Size01] =&gt; &lt;string&gt;&quot;300&quot;
    [ScaleFactor] =&gt; &lt;string&gt;&quot;72&quot;
    [TextureDotted02] =&gt; &lt;string&gt;&quot;ReplaceableTextures\Selection\SelectionCircleLargeDotted&quot;
    [Texture02] =&gt; &lt;string&gt;&quot;ReplaceableTextures\Selection\SelectionCircleLarge&quot;
    [ImageWalkableZOffset] =&gt; &lt;string&gt;&quot;15&quot;
    [ColorFriend] =&gt; &lt;string&gt;&quot;255,0,255,0&quot;
}
[Blig](7) =&gt; table: {
    [DCT_s2] =&gt; &lt;string&gt;&quot;10&quot;
    [Texture] =&gt; &lt;string&gt;&quot;TerrainArt\Blight\Blight&quot;
    [DCT_d2] =&gt; &lt;string&gt;&quot;20&quot;
    [PuffModel] =&gt; &lt;string&gt;&quot;Environment\BlightDoodad\BlightDoodad.mdl&quot;
    [DCT_s1] =&gt; &lt;string&gt;&quot;5&quot;
    [DCT_sd] =&gt; &lt;string&gt;&quot;15&quot;
    [DCT_d1] =&gt; &lt;string&gt;&quot;5&quot;
}
[Wate](5) =&gt; table: {
    [DeepLevelPathing] =&gt; &lt;string&gt;&quot;52&quot;
    [MinDepth] =&gt; &lt;string&gt;&quot;10&quot;
    [DeepLevel] =&gt; &lt;string&gt;&quot;64&quot;
    [MaxDepth] =&gt; &lt;string&gt;&quot;72&quot;
    [WavesDepth] =&gt; &lt;string&gt;&quot;25&quot;
}
[Team](4) =&gt; table: {
    [ColorIndexPlayer] =&gt; &lt;string&gt;&quot;1&quot;
    [ColorIndexAlly] =&gt; &lt;string&gt;&quot;2&quot;
    [ColorIndexCreep] =&gt; &lt;string&gt;&quot;12&quot;
    [ColorIndexEnemy] =&gt; &lt;string&gt;&quot;0&quot;
}
[FogO](25) =&gt; table: {
    [BlackMaskedObject] =&gt; &lt;string&gt;&quot;255,0,0,0&quot;
    [FoggedTerrain] =&gt; &lt;string&gt;&quot;170,16,16,32&quot;
    [FoggedObject] =&gt; &lt;string&gt;&quot;255,64,64,96&quot;
    [BlackMaskedTerrain] =&gt; &lt;string&gt;&quot;255,0,0,0&quot;
    [DarkMaskedTerrain] =&gt; &lt;string&gt;&quot;230,0,0,0&quot;
    [BoundaryTerrain] =&gt; &lt;string&gt;&quot;230,0,0,0&quot;
    [FogColorCreepAllied] =&gt; &lt;string&gt;&quot;255,0,0,50&quot;
    [BoundaryObject] =&gt; &lt;string&gt;&quot;255,0,0,0&quot;
    [FoggedBoundaryTerrain] =&gt; &lt;string&gt;&quot;170,16,16,32&quot;
    [FogColorPlayer] =&gt; &lt;string&gt;&quot;255,255,255,255&quot;
    [DarkMaskedObject] =&gt; &lt;string&gt;&quot;255,32,32,48&quot;
    [FoggedBoundaryObject] =&gt; &lt;string&gt;&quot;255,64,64,96&quot;
    [ShadowImageColor] =&gt; &lt;string&gt;&quot;170,0,0,0&quot;
    [FogColorAlly] =&gt; &lt;string&gt;&quot;255,0,255,210&quot;
    [FogColorEnemy] =&gt; &lt;string&gt;&quot;255,255,0,0&quot;
    [FogColorResource] =&gt; &lt;string&gt;&quot;255,32,128,128&quot;
    [FogColorItem] =&gt; &lt;string&gt;&quot;255,240,240,0&quot;
    [FogColorHero] =&gt; &lt;string&gt;&quot;255,255,255,128&quot;
    [FogColorCreepNormal] =&gt; &lt;string&gt;&quot;255,0,0,50&quot;
    [FogColorDestructable] =&gt; &lt;string&gt;&quot;255,0,160,128&quot;
    [FogColorBlackMaskAlpha] =&gt; &lt;string&gt;&quot;0&quot;
    [FogColorDarkMaskAlpha] =&gt; &lt;string&gt;&quot;96&quot;
    [FogColorFogMaskAlpha] =&gt; &lt;string&gt;&quot;192&quot;
    [FogColorVisibleAlpha] =&gt; &lt;string&gt;&quot;255&quot;
    [FogColorBlightMask] =&gt; &lt;string&gt;&quot;0,63,63,64&quot;
}
[Mini](8) =&gt; table: {
    [MinimapToughCampColor] =&gt; &lt;string&gt;&quot;255,220,0,0&quot;
    [MinimapToughCampThreshold] =&gt; &lt;string&gt;&quot;20&quot;
    [MinimapColorBorder] =&gt; &lt;string&gt;&quot;255,60,60,70&quot;
    [MinimapMiddleCampThreshold] =&gt; &lt;string&gt;&quot;10&quot;
    [MinimapMiddleCampScale] =&gt; &lt;string&gt;&quot;1.3&quot;
    [MinimapWeakCampColor] =&gt; &lt;string&gt;&quot;255,0,200,0&quot;
    [MinimapMiddleCampColor] =&gt; &lt;string&gt;&quot;255,255,128,0&quot;
    [MinimapCampPulseScale] =&gt; &lt;string&gt;&quot;0.5&quot;
}
[Glue](3) =&gt; table: {
    [ControlFadeDuration] =&gt; &lt;string&gt;&quot;0.25&quot;
    [ControlFadeDurationDebug] =&gt; &lt;string&gt;&quot;0.01&quot;
    [CustomLoadTimerDuration] =&gt; &lt;string&gt;&quot;10.0&quot;
}
[Batt](3) =&gt; table: {
    [LargeMapRange] =&gt; &lt;string&gt;&quot;9,12&quot;
    [SmallMapRange] =&gt; &lt;string&gt;&quot;2,4&quot;
    [MediumMapRange] =&gt; &lt;string&gt;&quot;5,8&quot;
}
[Occl](4) =&gt; table: {
    [BuildingsOcclude] =&gt; &lt;string&gt;&quot;0&quot;
    [OccluderColor] =&gt; &lt;string&gt;&quot;128,255,255,255&quot;
    [MarkImage] =&gt; &lt;string&gt;&quot;ReplaceableTextures\Occlusion\OcclusionMark&quot;
    [MarkColor] =&gt; &lt;string&gt;&quot;255,255,0,255&quot;
}
[Plac](2) =&gt; table: {
    [PaidStructureColor] =&gt; &lt;string&gt;&quot;96,128,128,255&quot;
    [UnpaidStructureColor] =&gt; &lt;string&gt;&quot;96,255,128,128&quot;
} 
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="sync-同步"><a class="header" href="#sync-同步">sync 同步</a></h2>
<blockquote>
<p>网易给我们提供的与同步数据有关的函数有4条：</p>
<p>hjapi已附带</p>
</blockquote>
<pre><code>DzSyncData
DzTriggerRegisterSyncData
DzGetTriggerSyncPlayer
DzGetTriggerSyncData
</code></pre>
<blockquote>
<p>原理和服务器请求响应一样，简单易懂</p>
<p>一个发，一个收（注意过程时间）</p>
</blockquote>
<h4 id="若使用hsync库例子"><a class="header" href="#若使用hsync库例子">若使用hsync库，例子</a></h4>
<pre><code class="language-lua">-- 通用型操作，两个配套
hsync.onSend(&quot;hzg&quot;, function(syncData)
    echo(syncData.triggerData[1] .. syncData.triggerData[2] .. &quot;人类&quot;)
end)
local a = 0
htime.setInterval(2, function(curTimer)
    hsync.send(&quot;hzg&quot;, { &quot;hunzsig&quot;, &quot;是个&quot; .. a .. &quot;级&quot; })
    a = a + 1
end)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="使用排行榜"><a class="header" href="#使用排行榜">使用排行榜</a></h2>
<p>创建两种排行榜，一种木头，一种黄金；只记录玩家1、玩家2</p>
<p>并且每20秒换一种展示</p>
<pre><code class="language-lua">hleaderBoard.create('gold', '黄金榜', 1, function(leaderBoardKey)
    print(&quot;leaderBoardKey&quot;, leaderBoardKey)
    return {
        { playerIndex = 1, value = hplayer.getGold(hplayer.players[1]) },
        { playerIndex = 2, value = hplayer.getGold(hplayer.players[2]) }
    }
end)
hleaderBoard.create('lumber', '木头榜', 1, function(leaderBoardKey)
    print(&quot;leaderBoardKey&quot;, leaderBoardKey)
    return {
        { playerIndex = 1, value = hplayer.getLumber(hplayer.players[1]) },
        { playerIndex = 2, value = hplayer.getLumber(hplayer.players[2]) }
    }
end)

htime.setInterval(20, function(_)
    if (hleaderBoard.CURRENT == 'gold') then
        hleaderBoard.show('lumber')
    else
        hleaderBoard.show('gold')
    end
end)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="使用多面板"><a class="header" href="#使用多面板">使用多面板</a></h2>
<p>创建常见的英雄属性多面板，1.5秒更新一次数据</p>
<pre><code class="language-lua">hmultiBoard.create(
    &quot;player&quot;,
    1.5,
    function(mb)
        --拼凑多面板数据，二维数组，行列模式
        hmultiBoard.setTitle(mb, &quot;剑圣求生多面板&quot;)
        --开始当然是title了
        local data = {}
        table.insert(data, {
            { value = &quot;玩家&quot;, icon = nil },
            { value = &quot;称号&quot;, icon = nil },
            { value = &quot;战力&quot;, icon = nil },
            { value = &quot;杀敌&quot;, icon = nil },
            { value = &quot;英雄&quot;, icon = nil },
            { value = &quot;回血&quot;, icon = nil },
            { value = &quot;回魔&quot;, icon = nil },
            { value = &quot;攻速&quot;, icon = nil },
            { value = &quot;命中&quot;, icon = nil },
            { value = &quot;增幅&quot;, icon = nil },
            { value = &quot;减伤&quot;, icon = nil },
            { value = &quot;魔抗&quot;, icon = nil },
            { value = &quot;回避&quot;, icon = nil },
            { value = &quot;背包&quot;, icon = nil },
            { value = &quot;硬直&quot;, icon = nil },
            { value = &quot;攻击类型&quot;, icon = nil },
        })
        --然后是form
        for pi = 1, hplayer.qty_max, 1 do
            local p = hplayer.players[pi]
            if (his.playing(p)) then
                local hero = &quot;-&quot;
                local prestige = &quot;-&quot;
                local power = &quot;-&quot;
                local kill = &quot;-&quot;
                local avatar = nil
                local name = &quot;-&quot;
                local life_back = &quot;-&quot;
                local mana_back = &quot;-&quot;
                local attack_speed = &quot;-&quot;
                local damage_extent = &quot;-&quot;
                local aim = &quot;-&quot;
                local toughness = &quot;-&quot;
                local resistance = &quot;-&quot;
                local avoid = &quot;-&quot;
                local weight = &quot;-&quot;
                local punish = &quot;-&quot;
                local attack_damage_type = &quot;-&quot;
                hero = hhero.player_heroes[pi][1]
                if (hero ~= nil) then
                    avatar = hunit.getAvatar(hero)
                    name = hunit.getName(hero)
                    prestige = hplayer.getPrestige(p)
                    power = math.integerFormat(game.playerData.power[pi] or 0)
                    kill = math.integerFormat(hplayer.getKill(p))
                    life_back = math.round(hattr.get(hero, &quot;life_back&quot;)) .. &quot;/秒&quot;
                    mana_back = math.round(hattr.get(hero, &quot;mana_back&quot;)) .. &quot;/秒&quot;
                    attack_speed = math.round(100 + hattr.get(hero, &quot;attack_speed&quot;)) .. &quot;%&quot;
                    damage_extent = math.round(hattr.get(hero, &quot;damage_extent&quot;)) .. &quot;%&quot;
                    aim = math.round(hattr.get(hero, &quot;aim&quot;)) .. &quot;%&quot;
                    toughness = math.round(hattr.get(hero, &quot;toughness&quot;))
                    resistance = math.round(hattr.get(hero, &quot;resistance&quot;)) .. &quot;%&quot;
                    avoid = math.round(hattr.get(hero, &quot;avoid&quot;)) .. &quot;%&quot;
                    weight = math.round(hattr.get(hero, &quot;weight_current&quot;)) .. &quot;/&quot;
                        .. math.round(hattr.get(hero, &quot;weight&quot;)) .. &quot;Kg&quot;
                    punish = math.round(hattr.get(hero, &quot;punish_current&quot;)) .. &quot;/&quot;
                        .. math.round(hattr.get(hero, &quot;punish&quot;))
                    local adt = {}
                    for _, v in ipairs(hattr.get(hero, &quot;attack_damage_type&quot;)) do
                        local label = CONST_ATTR[v]
                        if (table.includes(label, adt) == false) then
                            table.insert(adt, label)
                        end
                    end
                    attack_damage_type = string.implode('、', adt)
                end
                table.insert(data, {
                    { value = &quot;[&quot; .. hplayer.getStatus(p) .. &quot;]&quot; .. cj.GetPlayerName(p), icon = nil },
                    { value = prestige, icon = nil },
                    { value = power, icon = nil },
                    { value = kill, icon = nil },
                    { value = name, icon = avatar },
                    { value = life_back, icon = nil },
                    { value = mana_back, icon = nil },
                    { value = attack_speed, icon = nil },
                    { value = aim, icon = nil },
                    { value = damage_extent, icon = nil },
                    { value = toughness, icon = nil },
                    { value = resistance, icon = nil },
                    { value = avoid, icon = nil },
                    { value = weight, icon = nil },
                    { value = punish, icon = nil },
                    { value = attack_damage_type, icon = nil },
                })
            end
        end
        return data
    end
)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="难度选择对话框"><a class="header" href="#难度选择对话框">难度选择对话框</a></h2>
<p>创建一个难度选择对话框，自动挑选第一位玩家，让他选</p>
<pre><code class="language-lua">hdialog.create(
    nil, --自动挑选第一位玩家，让他选
    {
        title = &quot;选择难度&quot;,
        buttons = {
            &quot;一般困难&quot;,
            &quot;非常困难&quot;,
            &quot;极奇困难&quot;,
            &quot;破天荒难&quot;,
        }
    },
    function(btnIdx)
        if (btnIdx == &quot;非常困难&quot;) then
            --搞点事情
        elseif (btnIdx == &quot;极奇困难&quot;) then
            --搞点事情
        elseif (btnIdx == &quot;破天荒难&quot;) then
            --搞点事情
        else
            --搞点事情
        end
        echo(&quot;选择了：&quot; .. btnIdx)
    end
)
</code></pre>
<p>创建一个带热键的难度选择对话框，自动挑选玩家3，让他选</p>
<pre><code class="language-lua">hdialog.create(
    hplayer.players[3],
    {
        title = &quot;选择难度&quot;,
        buttons = {
            { value = &quot;Q&quot;, label = &quot;一般困难&quot; },
            { value = &quot;W&quot;, label = &quot;非常困难&quot; },
            { value = &quot;E&quot;, label = &quot;极奇困难&quot; },
            { value = &quot;R&quot;, label = &quot;破天荒难&quot; },
        }
    },
    function(btnIdx)
        if (btnIdx == &quot;Q&quot;) then
            --搞点事情
        elseif (btnIdx == &quot;W&quot;) then
            --搞点事情
        elseif (btnIdx == &quot;E&quot;) then
            --搞点事情
        elseif (btnIdx == &quot;R&quot;) then
            --搞点事情
        end
        echo(&quot;选择了：&quot; .. btnIdx)
    end
)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="常见两种选英雄"><a class="header" href="#常见两种选英雄">常见两种选英雄</a></h2>
<p>酒馆模式</p>
<pre><code class="language-lua">hhero.setBornXY(0, -300) --设定英雄出生点
hhero.buildSelector({
    during = 60,
    type = &quot;tavern&quot;,
    buildX = -512, -- 酒馆构建点X
    buildY = 512, -- 酒馆构建点Y
    buildDistance = 256,--酒馆间距离
    buildRowQty = 5,--酒馆一个横行有几个
    tavernUnitQty = 12 --酒馆内最多有几种英雄
})
</code></pre>
<p>双击模式</p>
<pre><code class="language-lua">hhero.setBornXY(0, -300) --设定英雄出生点
hhero.buildSelector({
    during = 60,
    type = &quot;click&quot;,
    buildX = -512, -- 第一个英雄构建点X
    buildY = 512, -- 第一个英雄构建点Y
    buildDistance = 256,--每位英雄间距离
    buildRowQty = 5 --一个横行有几个英雄
})
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="简单刷兵"><a class="header" href="#简单刷兵">简单刷兵</a></h2>
<p>每3秒在（0,0）刷2个步兵，攻击（100,100）坐标，一共刷10次</p>
<p>步兵的初始移动速度为175</p>
<pre><code class="language-lua">local counter = 10;
htime.setInterval(3.00, function(curTimer)
    if (counter &lt;= 0) then
        htime.delTimer(curTimer)
    end
    counter = counter - 1
    hunit.create({
        whichPlayer = hplayer.players[1], --归属玩家
        id = &quot;hfoo&quot;, --类型id,如'H001'
        x = 0, --创建坐标X，可选
        y = 0, --创建坐标Y，可选
        qty = 2, --数量，可选，可选
        attackX = 100, --攻击X，可选
        attackY = 100, --攻击Y，可选
        attr = {  --自定义属性，可选
            move = '=175'
        },
    });
end)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="jetbrain设置学习"><a class="header" href="#jetbrain设置学习">Jetbrain设置学习</a></h2>
<p>安装 Emmylua 插件，如虎添翼</p>
<p><img src="https://github.com/hunzsig-warcraft3/h-lua-sdk/raw/gh-pages/img/emmylua.png" alt="Emmylua" /></p>
<p>可以为 h-lua 目录设置sources，提高索引效率</p>
<p><img src="https://github.com/hunzsig-warcraft3/h-lua-sdk/raw/gh-pages/img/jetbrain1.png" alt="Sources" /></p>
<p>可以为 temp 目录设置excluded，忽略其索引</p>
<p><img src="https://github.com/hunzsig-warcraft3/h-lua-sdk/raw/gh-pages/img/jetbrain2.png" alt="Excluded" /></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="q--a"><a class="header" href="#q--a">Q &amp; A</a></h2>
<p>懂得问问题才能让你变得更强！</p>
<p>下列问问题方法相信可以帮助你~</p>
<p><img src="https://github.com/hunzsig-warcraft3/h-lua-sdk/raw/gh-pages/img/question1.png" alt="Emmylua" /></p>
<p><img src="https://github.com/hunzsig-warcraft3/h-lua-sdk/raw/gh-pages/img/question2.png" alt="Emmylua" /></p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="上线官方对战平台须知"><a class="header" href="#上线官方对战平台须知">上线官方对战平台须知</a></h2>
<blockquote>
<p>上线的地图需要在发布后台勾选上启用平台的 japi 选项，否则无法调用 lua引擎库</p>
</blockquote>
<p>1、第一步做好你的图，做不好就不用看后面了</p>
<p>2、使用sdk将项目打包,如我的项目叫h-lua-sdk-helloworld</p>
<pre><code>.\sdk.exe build h-lua-sdk-helloworld
或缩写
.\sdk.exe -b h-lua-sdk-helloworld
</code></pre>
<p>3、项目打包完会启动测试，此时已经在你的war3根目录的map/test目录内有了结果文件，如：</p>
<blockquote>
<p>\Warcraft3\Maps\Test\WorldEditTestMap.w3x 这个文件已经经过slk加密</p>
</blockquote>
<p>4、把优化好的地图文件改个名，例如你的地图是剑圣求生之路：jsqszl.v1.0.0.w3x,就可以上传地图到官方对战平台了！</p>
<blockquote>
<p>如果你够强还可以对脚本进行加密，由于是很简单的东西，这里不做赘述。</p>
</blockquote>
<h3 id="congratulations"><a class="header" href="#congratulations">CONGRATULATIONS！</a></h3>
<div style="break-before: page; page-break-before: always;"></div><h2 id="魔兽作图小技巧"><a class="header" href="#魔兽作图小技巧">魔兽作图小技巧</a></h2>
<h3 id="如何令加载地图时播放音乐"><a class="header" href="#如何令加载地图时播放音乐">如何令加载地图时播放音乐</a></h3>
<p>随意创建一个F4触发器</p>
<p>转为自定义代码并删除里面所有代码</p>
<p>贴上以下代码即可：</p>
<blockquote>
<ul>
<li>此方法在重制版魔兽中可能是无效的</li>
</ul>
</blockquote>
<pre><code class="language-jass">function hBgm takes string s returns nothing
    local string uri = &quot;main.mp3&quot; //这个路径你可以播放默认的音乐（在F5）也可以播放F12导入的音乐
    call SetMapDescription(s)
    call PlayMusic(uri)
    set uri = null
endfunction
#define SetMapDescription(s) hBgm(s)
</code></pre>
<h3 id="为什么我的mp3背景音乐不能循环播放"><a class="header" href="#为什么我的mp3背景音乐不能循环播放">为什么我的mp3背景音乐不能循环播放</a></h3>
<p>背景音乐无法循环播放时，可以尝试格式工厂转wav再转回mp3</p>
<p>一般问题已解决~</p>
<h3 id="如何令一个技能隐藏但是依然有效"><a class="header" href="#如何令一个技能隐藏但是依然有效">如何令一个技能隐藏但是依然有效</a></h3>
<p>设置它的图标坐标为（0,-11）</p>
<h3 id="物品编辑器如何输入负数的数值"><a class="header" href="#物品编辑器如何输入负数的数值">物品编辑器如何输入负数的数值</a></h3>
<p>按住shift再双击即可输入负值，某些技能负数会引起崩溃，如“水元素”</p>
<h3 id="如何修改单位的最大生命魔法"><a class="header" href="#如何修改单位的最大生命魔法">如何修改单位的最大生命/魔法</a></h3>
<p>利用生命牌的bug可以实现，例如X点生命值。</p>
<p>有个叫生命护身符的物品，将它的技能设为2级，1级数据为0，2级数据为-X，将技能添加给目标单位后，设为2级，然后删除</p>
<p>目标单位会永久增加X点生命值</p>
<blockquote>
<ul>
<li>最大魔法值同理</li>
</ul>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h2 id="魔兽地形贴图路径大全"><a class="header" href="#魔兽地形贴图路径大全">魔兽地形贴图路径大全</a></h2>
<h3 id="白杨谷"><a class="header" href="#白杨谷">白杨谷</a></h3>
<pre><code>泥土：TerrainArt\Ashenvale\Ashen_Dirt.blp
坑洼的泥土：TerrainArt\Ashenvale\Ashen_DirtRough.blp
草地：TerrainArt\Ashenvale\Ashen_Grass.blp
岩石：TerrainArt\Ashenvale\Ashen_Rcok.blp
粗草地：TerrainArt\Ashenvale\Ashen_GrassLumpy.blp
藤蔓：TerrainArt\Ashenvale\Ashen_Vines.blp
草色泥土：TerrainArt\Ashenvale\Ashen_DirtGrass.blp
叶子：TerrainArt\Ashenvale\Ashen_Leaves.blp
</code></pre>
<h3 id="贫瘠之地"><a class="header" href="#贫瘠之地">贫瘠之地</a></h3>
<pre><code>泥土：TerrainArt\Barrens\Barrens_Dirt.blp
坑洼的泥土：TerrainArt\Barrens\Barrens_DirtRough.blp
石子地：TerrainArt\Barrens\Barrens_Pebbles.blp
草色泥土：TerrainArt\Barrens\Barrens_DirtGrass.blp
沙漠：TerrainArt\Barrens\Barrens_Desert.blp
深色沙漠：TerrainArt\Barrens\Barrens_DesertDark.blp
岩石：TerrainArt\Barrens\Barrens_Rock.blp
草地：TerrainArt\Barrens\Barrens_Grass.blp
</code></pre>
<h3 id="城邦"><a class="header" href="#城邦">城邦</a></h3>
<pre><code>泥土：TerrainArt\Cityscape\City_Dirt.blp
坑洼的泥土：TerrainArt\Cityscape\City_DirtRough.blp
黑色大理石：TerrainArt\Cityscape\City_BlackMarble.blp
砖：TerrainArt\Cityscape\City_BrickTiles.blp
正方形地形：TerrainArt\Cityscape\City_SquareTiles.blp
圆形地形：TerrainArt\Cityscape\City_RoundTiles.blp
草地：TerrainArt\Cityscape\City_Grass.blp
平整草地：TerrainArt\Cityscape\City_GrassTrim.blp
白色大理石：TerrainArt\Cityscape\City_WhiteMarble.blp
</code></pre>
<h3 id="达拉然"><a class="header" href="#达拉然">达拉然</a></h3>
<pre><code>泥土：TerrainArt\Dalaran\Dalaran_Dirt.blp
坑洼的泥土：TerrainArt\Dalaran\Dalaran_DirtRough.blp
黑色大理石：TerrainArt\Dalaran\Dalaran_BlackMarble.blp
砖：TerrainArt\Dalaran\Dalaran_BrickTiles.blp
正方形地形：TerrainArt\Dalaran\Dalaran_SquareTiles.blp
圆形地形：TerrainArt\Dalaran\Dalaran_RoundTiles.blp
草地：TerrainArt\Dalaran\Dalaran_Grass.blp
平整的草地：TerrainArt\Dalaran\Dalaran_GrassTrim.blp
白色大理石：TerrainArt\Dalaran\Dalaran_WhiteMarble.blp
</code></pre>
<h3 id="地下城"><a class="header" href="#地下城">地下城</a></h3>
<pre><code>泥土：TerrainArt\Dungeon\Cave_Dirt.blp
砖：TerrainArt\Dungeon\Cave_Brick.blp
红色石头：TerrainArt\Dungeon\Cave_RedStones.blp
熔岩碎片：TerrainArt\Dungeon\Cave_LavaCracks.blp
火山岩：TerrainArt\Dungeon\Cave_Lava.blp
深色岩石：TerrainArt\Dungeon\Cave_DarkRocks.blp
灰色的石头：TerrainArt\Dungeon\Cave_GreyStones.blp
正方形地形：TerrainArt\Dungeon\Cave_SquareTiles.blp
</code></pre>
<h3 id="洛丹伦秋"><a class="header" href="#洛丹伦秋">洛丹伦(秋)</a></h3>
<pre><code>泥土：TerrainArt\LordaeronFall\Lordf_Dirt.blp
坑洼的泥土：TerrainArt\LordaeronFall\Lordf_DirtRough.blp
草色泥土：TerrainArt\LordaeronFall\Lordf_DirtGrass.blp
岩石：TerrainArt\LordaeronFall\Lordf_Rock.blp
草地：TerrainArt\LordaeronFall\Lordf_Grass.blp
深色草地：TerrainArt\LordaeronFall\Lordf_GrassDark.blp
</code></pre>
<h3 id="洛丹伦夏"><a class="header" href="#洛丹伦夏">洛丹伦(夏)</a></h3>
<pre><code>泥土：TerrainArt\LordaeronSummer\Lords_Dirt.blp
坑洼的泥土：TerrainArt\LordaeronSummer\Lords_DirtRough.blp
草色泥土：TerrainArt\LordaeronSummer\Lords_DirtGrass.blp
岩石：TerrainArt\LordaeronSummer\Lords_Rock.blp
草地：TerrainArt\LordaeronSummer\Lords_Grass.blp
深色草地：TerrainArt\LordaeronSummer\Lords_GrassDark.blp
</code></pre>
<h3 id="洛丹伦冬"><a class="header" href="#洛丹伦冬">洛丹伦(冬)</a></h3>
<pre><code>泥土：TerrainArt\LordaeronWinter\Lordw_Dirt.blp
坑洼的泥土：TerrainArt\LordaeronWinter\Lordw_DirtRough.blp
积雪的草：TerrainArt\LordaeronWinter\Lordw_SnowGrass.blp
岩石：TerrainArt\LordaeronWinter\Lordw_Rock.blp
草地：TerrainArt\LordaeronWinter\Lordw_Grass.blp
雪：TerrainArt\LordaeronWinter\Lordw_Snow.blp
</code></pre>
<h3 id="诺森德"><a class="header" href="#诺森德">诺森德</a></h3>
<pre><code>泥土：TerrainArt\Northrend\North_dirt.blp
黑泥：TerrainArt\Northrend\North_dirtdark.blp
岩石：TerrainArt\Northrend\North_rock.blp
草地：TerrainArt\Northrend\North_Grass.blp
冰：TerrainArt\Northrend\North_ice.blp
雪：TerrainArt\Northrend\North_Snow.blp
积雪石头：TerrainArt\Northrend\North_SnowRock.blp
</code></pre>
<h3 id="村庄"><a class="header" href="#村庄">村庄</a></h3>
<pre><code>泥土：TerrainArt\Village\Village_Dirt.blp
坑洼的泥土：TerrainArt\Village\Village_DirtRough.blp
庄稼：TerrainArt\Village\Village_Crops.blp
鹅卵石路：TerrainArt\Village\Village_CobblePath.blp
石头路径：TerrainArt\Village\Village_StonePath.blp
草地：TerrainArt\Village\Village_GrassShort.blp
岩石：TerrainArt\Village\Village_Rocks.blp
厚草地：TerrainArt\Village\Village_GrassThick.blp
</code></pre>
<h3 id="村庄秋"><a class="header" href="#村庄秋">村庄(秋)</a></h3>
<pre><code>泥土：TerrainArt\VillageFall\VillageFall_Dirt.blp
坑洼的泥土：TerrainArt\VillageFall\VillageFall_DirtRough.blp
庄稼：TerrainArt\VillageFall\VillageFall_Crops.blp
鹅卵石路：TerrainArt\VillageFall\VillageFall_CobblePath.blp
石头路径：TerrainArt\VillageFall\VillageFall_StonePath.blp
草地：TerrainArt\VillageFall\VillageFall_GrassShort.blp
岩石：TerrainArt\VillageFall\VillageFall_Rocks.blp
厚草地：TerrainArt\VillageFall\VillageFall_GrassThick.blp
</code></pre>
<h3 id="地底"><a class="header" href="#地底">地底</a></h3>
<pre><code>泥土：TerrainArt\Dungeon2\GDirt.blp
砖：TerrainArt\Dungeon2\GBrick.blp
红色石头：TerrainArt\Dungeon2\GRedStones.blp
冰块：TerrainArt\Dungeon2\GLavaCracks.blp
冰：TerrainArt\Dungeon2\GLava.blp
深色石头：TerrainArt\Dungeon2\GDrakRocks.blp
灰色石头：TerrainArt\Dungeon2\GGreyStones.blp
正方形地形：TerrainArt\Dungeon2\GSquareTiles.blp
</code></pre>
<h3 id="费尔伍德"><a class="header" href="#费尔伍德">费尔伍德</a></h3>
<pre><code>泥土：TerrainArt\Felwood\Felwood_Dirt.blp
坑洼的泥土：TerrainArt\Felwood\Felwood_DirtRough.blp
污染地面：TerrainArt\Felwood\Felwood_Poison.blp
岩石：TerrainArt\Felwood\Felwood_Rock.blp
藤蔓：TerrainArt\Felwood\Felwood_Vines.blp
草地：TerrainArt\Felwood\Felwood_Grass.blp
叶子：TerrainArt\Felwood\Felwood_Leaves.blp
</code></pre>
<h3 id="达拉然遗迹"><a class="header" href="#达拉然遗迹">达拉然遗迹</a></h3>
<pre><code>泥土：TerrainArt\DalaranRuins\DRuins_Dirt.blp
坑洼的泥土：TerrainArt\DalaranRuins\DRuins_DirtRough.blp
黑色大理石：TerrainArt\DalaranRuins\DRuins_BlackMarble.blp
砖：TerrainArt\DalaranRuins\DRuins_BrickTiles.blp
正方形地形：TerrainArt\DalaranRuins\DRuins_SquareTiles.blp
圆形地形：TerrainArt\DalaranRuins\DRuins_RoundTiles.blp
草地：TerrainArt\DalaranRuins\DRuins_Grass.blp
平整的草地：TerrainArt\DalaranRuins\DRuins_GrassTrim.blp
白色大理石：TerrainArt\DalaranRuins\DRuins_WhiteMarble.blp
</code></pre>
<h3 id="黑色城堡"><a class="header" href="#黑色城堡">黑色城堡</a></h3>
<pre><code>泥土：TerrainArt\BlackCitadel\Citadel_Dirt.blp
淡色泥土：TerrainArt\BlackCitadel\Citadel_DirtLight.blp
坑洼的泥土：TerrainArt\BlackCitadel\Citadel_RoughDirt.blp
平石：TerrainArt\BlackCitadel\Citadel_FlatStones.blp
小砖：TerrainArt\BlackCitadel\Citadel_SmallBricks.blp
大砖：TerrainArt\BlackCitadel\Citadel_LargeBricks.blp
正方形地形：TerrainArt\BlackCitadel\Citadel_SquareTiles.blp
深色地形：TerrainArt\BlackCitadel\Citadel_DarkTiles.blp
</code></pre>
<h3 id="冰封王座"><a class="header" href="#冰封王座">冰封王座</a></h3>
<pre><code>泥土：TerrainArt\Icecrown\Ice_Dirt.blp
坑洼的泥土：TerrainArt\Icecrown\Ice_DirtRough.blp
黑冰：TerrainArt\Icecrown\Ice_DarkIce.blp
黑色的砖：TerrainArt\Icecrown\Ice_BlackBricks.blp
刻有北欧文字的砖：TerrainArt\Icecrown\Ice_RuneBricks.blp
平铺的砖：TerrainArt\Icecrown\Ice_TiledBricks.blp
冰：TerrainArt\Icecrown\Ice_Ice.blp
黑色的正方形：TerrainArt\Icecrown\Ice_BlackSquares.blp
雪：TerrainArt\Icecrown\Ice_Snow.blp
</code></pre>
<h3 id="边缘之地"><a class="header" href="#边缘之地">边缘之地</a></h3>
<pre><code>泥土：TerrainArt\Outland\Outland_Dirt.blp
淡色泥土：TerrainArt\Outland\Outland_DirtLight.blp
坑洼的泥土：TerrainArt\Outland\Outland_RoughDirt.blp
碎土：TerrainArt\Outland\Outland_DirtCracks.blp
平石：TerrainArt\Outland\Outland_FlatStones.blp
岩石：TerrainArt\Outland\Outland_Rock.blp
淡色平石：TerrainArt\Outland\Outland_FlatStonesLight.blp
深渊：TerrainArt\Outland\Outland_Abyss.blp
</code></pre>
<h3 id="沉沦的遗迹"><a class="header" href="#沉沦的遗迹">沉沦的遗迹</a></h3>
<pre><code>泥土：TerrainArt\Ruins\Ruins_Dirt.blp
坑洼的泥土：TerrainArt\Ruins\Ruins_DirtRough.blp
草色泥土：TerrainArt\Ruins\Ruins_DirtGrass.blp
小砖：TerrainArt\Ruins\Ruins_SmallBricks.blp
沙地：TerrainArt\Ruins\Ruins_Sand.blp
大砖：TerrainArt\Ruins\Ruins_LargeBricks.blp
圆形地形：TerrainArt\Ruins\Ruins_RoundTiles.blp
草地：TerrainArt\Ruins\Ruins_Grass.blp
深色草地：TerrainArt\Ruins\Ruins_GrassDark.blp
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ydwe-lua引擎使用说明"><a class="header" href="#ydwe-lua引擎使用说明">ydwe lua引擎使用说明</a></h2>
<p><a href="https://github.com/actboy168/jass2lua/edit/master/lua-engine.md">来源 github/actboy168/jass2lua</a></p>
<h3 id="简介"><a class="header" href="#简介">简介</a></h3>
<p>ydwe lua引擎(以下简称lua引擎)是一个嵌入到《魔兽争霸III》(以下简称魔兽)中的一个插件，它可以让魔兽可以执行lua并且调用魔兽的导出函数(在common.j内定义的函数)
，就像使用jass那样。本说明假定你已经掌握了jass和lua的相关语法，有关语法的问题不再另行解释。</p>
<h3 id="入口"><a class="header" href="#入口">入口</a></h3>
<p>在jass内调用 <code>call Cheat(&quot;exec-lua: hello&quot;)</code>，这等价于在lua里调用了 <code>require 'hello'</code> 。lua引擎已经把地图内的文件加载到搜索路径，所以地图内的hello.lua将会得到执行。</p>
<h3 id="lua引擎对标准lua的修改"><a class="header" href="#lua引擎对标准lua的修改">lua引擎对标准lua的修改</a></h3>
<p>为了适合在魔兽内使用lua引擎对lua略有修改。</p>
<ol>
<li>math.randomseed改为使用jass函数SetRandomSeed实现。</li>
<li>math.random改为使用jass函数GetRandomReal实现。</li>
<li>table元素随机化种子依赖于魔兽内部的随机种子。</li>
<li>屏蔽了部分被认为不安全的函数</li>
</ol>
<h3 id="内置库"><a class="header" href="#内置库">内置库</a></h3>
<p>lua引擎一共有12个内置库，可以通过&quot;require '库名'&quot;调用。</p>
<ul>
<li>jass.common</li>
<li>jass.ai</li>
<li>jass.globals</li>
<li>jass.japi</li>
<li>jass.hook</li>
<li>jass.runtime</li>
<li>jass.slk</li>
<li>jass.console</li>
<li>jass.debug</li>
<li>jass.log</li>
<li>jass.message</li>
<li>jass.bignum</li>
</ul>
<h3 id="jasscommon"><a class="header" href="#jasscommon">jass.common</a></h3>
<p>jass.common库包含common.j内注册的所有函数。 （不包括BJ）</p>
<pre><code class="language-lua">	local jass = require 'jass.common'
	print(jass.GetHandleId(jass.Player(0)))
</code></pre>
<h3 id="jassai"><a class="header" href="#jassai">jass.ai</a></h3>
<p>jass.ai库包含common.ai内注册的所有函数。</p>
<pre><code class="language-lua">	local jass = require 'jass.common'
	local ai = require 'jass.ai'
	print(ai.UnitAlive(jass.GetTriggerUnit()))
</code></pre>
<h3 id="jassglobals"><a class="header" href="#jassglobals">jass.globals</a></h3>
<p>jass.globals库可以让你访问到jass内的全局变量。</p>
<blockquote>
<p>你可以使用此库访问预设在大地图的对象。</p>
</blockquote>
<pre><code class="language-lua">	local cg = require 'jass.globals'
    print(cg.udg_i) --获取jass中定义的i整数
</code></pre>
<h3 id="jassjapi"><a class="header" href="#jassjapi">jass.japi</a></h3>
<p>jass.japi库当前已经注册的所有japi函数。（包含dz函数）</p>
<pre><code class="language-lua">	local jass = require 'jass.common'
	local japi = require 'jass.japi'
	japi.EXDisplayChat(jass.Player(0), 0, &quot;Hello!&quot;)
</code></pre>
<p>japi函数不同环境下可能会略有不同，你可以通过pairs遍历当前的所有japi函数</p>
<pre><code class="language-lua">	for k, v in pairs(require 'jass.japi') do
		print(k, v)
	end
</code></pre>
<h3 id="jasshook"><a class="header" href="#jasshook">jass.hook</a></h3>
<p>jass.hook库可以对common.j内注册的函数下钩子。注：jass.common库不会受到影响。</p>
<p>同时，为了避免jass和lua之间传递浮点数时产生误差，通过jass.hook传递到lua中的浮点数，并不是number类型，而是userdata。当你需要<strong>精确</strong>地操纵浮点数时，也请注意这点。</p>
<pre><code class="language-lua">	local hook = require 'jass.hook'
	function hook.CreateUnit(pid, uid, x, y, face, realCreateUnit)
		-- 当jass内调用CreateUnit时，就会被执行
		print('CreateUnit')
		print(type(x))
		return realCreateUnit(pid, uid, x, y, face)
	end
</code></pre>
<h3 id="jassslk"><a class="header" href="#jassslk">jass.slk</a></h3>
<p>jass.slk库可以在地图运行时读取地图内的slk/w3*文件。</p>
<pre><code class="language-lua">	local slk = require 'jass.slk'
	print(slk.ability.AHbz.Name)
</code></pre>
<p>你也可以遍历一个表或者一个物体（不建议方式）</p>
<pre><code class="language-lua">	local slk = require 'jass.slk'
	for k, v in pairs(slk.ability) do
		print(k, v)
	end
	for k, v in pairs(slk.ability.AHbz) do
		print(k, v)
	end
</code></pre>
<p>slk包含</p>
<ul>
<li>unit</li>
<li>item</li>
<li>destructable</li>
<li>doodad</li>
<li>ability</li>
<li>buff</li>
<li>upgrade</li>
<li>misc</li>
</ul>
<p>与你物体编辑器中的项目一一对应。</p>
<p>获取数据时使用的索引你可以在物体编辑器中通过Ctrl+D来查询到</p>
<p>注意，当访问正确时返回值永远是字符串。如果你获取的是某个单位的生命值，你可能需要使用tonumber来进行转换。当访问不正确时将返回nil。</p>
<h3 id="jassruntime"><a class="header" href="#jassruntime">jass.runtime</a></h3>
<h4 id="jassruntime库可以在地图运行时获取lua引擎的信息或修改lua引擎的部分配置"><a class="header" href="#jassruntime库可以在地图运行时获取lua引擎的信息或修改lua引擎的部分配置">jass.runtime库可以在地图运行时获取lua引擎的信息或修改lua引擎的部分配置。</a></h4>
<pre><code class="language-lua">	local runtime = require 'jass.runtime'
</code></pre>
<h5 id="runtimeconsole默认为false"><a class="header" href="#runtimeconsole默认为false">runtime.console(默认为false)</a></h5>
<p>赋值为true后会打开一个cmd窗口，print与console.write函数可以输出到这里</p>
<pre><code class="language-lua">	runtime.console = true
</code></pre>
<h5 id="runtimeversion"><a class="header" href="#runtimeversion">runtime.version</a></h5>
<p>返回当前lua引擎的版本号</p>
<pre><code class="language-lua">	print(runtime.version)
</code></pre>
<h5 id="runtimeerror_handle"><a class="header" href="#runtimeerror_handle">runtime.error_handle</a></h5>
<p>当你的lua脚本出现错误时将会调用此函数。</p>
<p>runtime.error_handle有一个默认值，等价于以下函数</p>
<pre><code class="language-lua">	runtime.error_handle = function(msg)
		print(&quot;Error: &quot;, msg, &quot;\n&quot;)
	end
</code></pre>
<p>你也可以让它输出更多的信息，比如输出错误时的调用栈</p>
<pre><code class="language-lua">	runtime.error_handle = function(msg)
		print(&quot;---------------------------------------&quot;)
		print(&quot;              LUA ERROR!!              &quot;)
		print(&quot;---------------------------------------&quot;)
		print(tostring(msg) .. &quot;\n&quot;)
		print(debug.traceback())
		print(&quot;---------------------------------------&quot;)
	end
</code></pre>
<p>注意，注册此函数后lua脚本的效率会降低(即使并没有发生错误)。</p>
<h5 id="runtimehandle_level默认为0"><a class="header" href="#runtimehandle_level默认为0">runtime.handle_level(默认为0)</a></h5>
<p>lua引擎处理的handle的安全等级，有效值为0~2，注，等级越高，效率越低，安全性越高、</p>
<h6 id="0-handle直接使用numberjass无法了解你在lua中对这个handle的引用情况也不会通过增加引用计数来保护这个handle"><a class="header" href="#0-handle直接使用numberjass无法了解你在lua中对这个handle的引用情况也不会通过增加引用计数来保护这个handle">0: handle直接使用number，jass无法了解你在lua中对这个handle的引用情况，也不会通过增加引用计数来保护这个handle</a></h6>
<pre><code class="language-lua">	local t = jass.CreateTimer()
	print(t) -- 1048000
	type(t) -- &quot;number&quot;
</code></pre>
<h6 id="1-handle封装在lightuserdata中保证handle不能和整数相互转换同样不支持引用计数"><a class="header" href="#1-handle封装在lightuserdata中保证handle不能和整数相互转换同样不支持引用计数">1: handle封装在lightuserdata中，保证handle不能和整数相互转换，同样不支持引用计数</a></h6>
<pre><code class="language-lua">	local t = jass.CreateTimer()
	print(t) -- &quot;handle: 0x10005D&quot;
	type(t) -- &quot;userdata&quot;
	jass.TimerStart(t, 1, false, 0) -- ok
</code></pre>
<pre><code class="language-lua">	local t = jass.CreateTimer()
	local h1 = jass.CreateTimer()
	jass.DestroyTimer(h1)
	jass.TimerStart(t, 1, false,
		function()
			local h2 = jass.CreateTimer()
			print(h1) -- &quot;handle: 0x10005E&quot;
			print(h2) -- &quot;handle: 0x10005E&quot;
		end
	)
</code></pre>
<h6 id="2-handle封装在userdata中lua持有该handle时将增加handle的引用计数lua释放handle时会释放handle的引用计数"><a class="header" href="#2-handle封装在userdata中lua持有该handle时将增加handle的引用计数lua释放handle时会释放handle的引用计数">2: handle封装在userdata中，lua持有该handle时将增加handle的引用计数。lua释放handle时会释放handle的引用计数。</a></h6>
<pre><code class="language-lua">	local t = jass.CreateTimer()
	local h1 = jass.CreateTimer()
	jass.DestroyTimer(h1)
	jass.TimerStart(t, 1, false,
		function()
			local h2 = jass.CreateTimer()
			print(h1) -- &quot;handle: 0x10005E&quot;
			print(h2) -- &quot;handle: 0x10005F&quot;
		end
	)
</code></pre>
<h5 id="runtimesleep默认为false"><a class="header" href="#runtimesleep默认为false">runtime.sleep(默认为false)</a></h5>
<p>common.j中包含sleep操作的函数有4个，TriggerSleepAction/TriggerSyncReady/TriggerWaitForSound/SyncSelections。当此项为false时，lua引擎会忽略这4个函数的调用，并给予运行时警告。当此项为true时，这4个函数将会得到正确的执行。</p>
<p>但请注意此项为true时将降低lua引擎的运行效率，即使你没有使用这4个函数。</p>
<pre><code class="language-lua">	local trg = jass.CreateTrigger()
	local a = 1
	jass.TriggerAddAction(trg, function()
		jass.TriggerSleepAction(0.2)
		print(a) -- 2
	end)
	jass.TriggerExecute(trg)
	a = 2
</code></pre>
<h5 id="runtimecatch_crash默认为true"><a class="header" href="#runtimecatch_crash默认为true">runtime.catch_crash(默认为true)</a></h5>
<p>调用jass.xxx/japi.xxx发生崩溃时，会生产一个lua错误，并忽略这个崩溃。你可以注册jass.runtime.error_handle来获得这个错误。注：开启此项会略微增加运行时消耗（即使没有发生错误）。</p>
<h5 id="runtimedebugger"><a class="header" href="#runtimedebugger">runtime.debugger</a></h5>
<p>启动调试器并监听指定端口。需要使用<code>VSCode</code>并安装<a href="https://marketplace.visualstudio.com/items?itemName=actboy168.lua-debug">Lua Debug</a>。</p>
<pre><code class="language-lua">	runtime.debugger = 4279
</code></pre>
<h3 id="jassconsole"><a class="header" href="#jassconsole">jass.console</a></h3>
<h4 id="jassconsole与控制台相关"><a class="header" href="#jassconsole与控制台相关">jass.console与控制台相关</a></h4>
<h5 id="consoleenable默认为false"><a class="header" href="#consoleenable默认为false">console.enable(默认为false)</a></h5>
<p>赋值为true后会打开一个cmd窗口，print与console.write函数可以输出到这里</p>
<pre><code class="language-lua">	console.enable = true
</code></pre>
<h5 id="consolewrite"><a class="header" href="#consolewrite">console.write</a></h5>
<p>将utf8编码的字符串转化为ansi编码后输出到cmd窗口中，如果你需要输出魔兽中的中文，请使用该函数而不是print</p>
<h5 id="consoleread"><a class="header" href="#consoleread">console.read</a></h5>
<p>将控制台中的输入传入魔兽中(会自动转换编码)</p>
<p>首次调用console.read后将允许用户在控制台输入，输入完成后按回车键提交输入。</p>
<p>用户提交完成后，传入一个函数f来调用console.read，将会调用函数f，并将用户的输入作为参数传入(已转换为utf8编码)。</p>
<p>推荐的做法是每0.1秒运行一次console.read，见下面的例子：</p>
<pre><code class="language-lua">	local jass    = require 'jass.common'
	local console = require 'jass.console'

	console.write('测试开始...')

	--开启计时器,每0.1秒检查输入
	jass.TimerStart(jass.CreateTimer(), 0.1, true,
		function()

			--检查CMD窗口中的用户输入,如果用户有提交了的输入,则回调函数(按回车键提交输入).否则不做任何动作
			console.read(
				function(str)
					--参数即为用户的输入.需要注意的是这个函数调用是不同步的(毕竟其他玩家不知道你输入了什么)
					jass.DisplayTimedTextToPlayer(jass.Player(0), 0, 0, 60, '你在控制台中输入了:' .. str)
				end
			)
		end
	)
</code></pre>
<p>需要注意的是控制台输入是不同步的。</p>
<h3 id="jassdebug"><a class="header" href="#jassdebug">jass.debug</a></h3>
<p>jass.debug库能帮助你更深入地剖析lua引擎的内部机制。</p>
<ul>
<li>functiondef jass.common或者jass.japi函数的定义</li>
</ul>
<pre><code class="language-lua">	local jass = require 'jass.common'
	local dbg = require 'jass.debug'
	print(table.unpack(dbg.functiondef(jass.GetUnitX)))
</code></pre>
<ul>
<li>
<p>globaldef jass.globals内值的定义</p>
</li>
<li>
<p>handledef handle对应对象的内部定义</p>
</li>
<li>
<p>currentpos 当前jass执行到的位置</p>
</li>
<li>
<p>handlemax jass虚拟机当前最大的handle</p>
</li>
<li>
<p>handlecount jass虚拟机当前的handle数</p>
</li>
<li>
<p>h2i/i2h handle和integer的转换，当你runtime.handle_level不是0时，你可能会需要它</p>
</li>
<li>
<p>handle_ref 增加handle的引用</p>
</li>
<li>
<p>handle_unref 减少handle的引用</p>
</li>
<li>
<p><del>gchash</del>（已废弃） 指定一张table的gchash，gchash会决定了在其他table中这个table的排序次序
在默认的情况下，lua对table的排序次序是由随机数决定的，不同玩家的lua生成的随机数不一致，所以下面的代码在不同的玩家上执行的次序是不一致的，这可能会引起不同步掉线</p>
</li>
</ul>
<h3 id="jasslog"><a class="header" href="#jasslog">jass.log</a></h3>
<p>日志库</p>
<ul>
<li>path 日志的输出路径</li>
<li>level 日志的等级，指定等级以上的日志才会输出</li>
<li>日志有6个等级 trace、debug、info、warn、error、fatal</li>
</ul>
<pre><code class="language-lua">	local log = require 'jass.log'
	log.info('这是一行日志')
	log.error('这是一行', '日志')
</code></pre>
<h3 id="jassmessage"><a class="header" href="#jassmessage">jass.message</a></h3>
<ul>
<li>keyboard 一张表，魔兽的键盘码</li>
<li>mouse 本地玩家的鼠标坐标(游戏坐标)</li>
<li>button 本地玩家技能按钮的状态</li>
<li>hook 魔兽的消息回调，可以获得部分鼠标和键盘消息</li>
<li>selection 获得本地玩家当前选中单位</li>
<li>order_immediate 发布本地命令，无目标</li>
<li>order_point 发布本地命令，点目标</li>
<li>order_target 发布本地命令，单位目标</li>
<li>order_enable_debug 开启后，会在控制台打印当前的本地命令，调试用</li>
</ul>
<h3 id="jassbignum"><a class="header" href="#jassbignum">jass.bignum</a></h3>
<p>大数库</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="ui-与-fdf"><a class="header" href="#ui-与-fdf">UI 与 FDF</a></h2>
<h3 id="ui制作就是运用界面函数对原有界面进行增删查改的美化"><a class="header" href="#ui制作就是运用界面函数对原有界面进行增删查改的美化">UI制作就是运用界面函数对原有界面进行增删查改的美化</a></h3>
<h4 id="fdf就是一种格式让你可以编写一些frame静态组件声明用处不大"><a class="header" href="#fdf就是一种格式让你可以编写一些frame静态组件声明用处不大">FDF就是一种格式，让你可以编写一些frame静态组件声明，用处不大</a></h4>
<h4 id="至于为什么说用处不大这里就留给您自行思考了"><a class="header" href="#至于为什么说用处不大这里就留给您自行思考了">至于为什么说用处不大，这里就留给您自行思考了</a></h4>
<p>下面是一些网上的教程，虽然不咋的，反正看看也好</p>
<blockquote>
<p><a target="_blank" href="https://blog.csdn.net/CarlosX/article/details/89161467">[War3]Fdf文件详解，简单的UI教程演示 - 魔兽争霸3</a></p>
<p><a target="_blank" href="https://www.hiveworkshop.com/threads/ui-list-default-mainframes.317884">魔兽默认组件对照</a></p>
<p><a target="_blank" href="http://bbs.dz.blizzard.cn/forum.php?mod=viewthread&tid=8038&extra=page%3D1%26filter%3Dtypeid%26typeid%3D18">[老CK教程]官方平台界面功能入门</a></p>
</blockquote>
<p>教程看完了吗？为什么说不咋的，因为其实这些教程不过是给你写一些FDF罢了，就是入个门，看个印象</p>
<p>如果你想看FDF，魔兽客户端自带就有一大堆暴雪写好的，完全不需要看他教程，暴雪写的更全更多</p>
<blockquote>
<p>已经提取了原生的fdf，有兴趣可自行查看</p>
<p>可参考提取项目：<a target="_blank" href="https://github.com/hunzsig-warcraft3/FrameDef">FrameDef</a></p>
</blockquote>
<pre><code>    UI\FrameDef\GlobalStrings.fdf
    UI\FrameDef\InfoPanelStrings.fdf
    UI\FrameDef\NetworkStrings.fdf
    UI\FrameDef\DateStrings.fdf
    UI\FrameDef\Glue\DialogWar3.fdf
    UI\FrameDef\Glue\MapInfoPane.fdf
    UI\FrameDef\Glue\AdvancedOptionsDisplay.fdf
    UI\FrameDef\Glue\AdvancedOptionsPane.fdf
    UI\FrameDef\Glue\ListBoxWar3.fdf
    UI\FrameDef\Glue\MapListBox.fdf
    UI\FrameDef\Glue\DecoratedMapListBox.fdf
    UI\FrameDef\Glue\MapPreferenceBox.fdf
    UI\FrameDef\Glue\CheckListBox.fdf
    UI\FrameDef\Glue\MainMenu.fdf
    UI\FrameDef\Glue\Loading.fdf
    UI\FrameDef\Glue\LoadSavedGameScreen.fdf
    UI\FrameDef\Glue\OptionsMenu.fdf
    UI\FrameDef\Glue\SinglePlayerMenu.fdf
    UI\FrameDef\Glue\ViewReplayScreen.fdf
    UI\FrameDef\Glue\CustomCampaignMenu.fdf
    UI\FrameDef\Glue\CampaignMenu.fdf
    UI\FrameDef\Glue\TeamSetup.fdf
    UI\FrameDef\Glue\PlayerSlot.fdf
    UI\FrameDef\Glue\Skirmish.fdf
    UI\FrameDef\Glue\ScoreScreen.fdf
    UI\FrameDef\Glue\LocalMultiplayerJoin.fdf
    UI\FrameDef\Glue\LocalMultiplayerCreate.fdf
    UI\FrameDef\Glue\LocalMultiplayerLoad.fdf
    UI\FrameDef\Glue\GameChatroom.fdf
    UI\FrameDef\Glue\CampaignListBox.fdf
    UI\FrameDef\Glue\BattleNetMain.fdf
    UI\FrameDef\Glue\BattleNetNewsBox.fdf
    UI\FrameDef\Glue\BattleNetUserListBox.fdf
    UI\FrameDef\Glue\BattleNetChatPanel.fdf
    UI\FrameDef\Glue\BattleNetChatActionMenu.fdf
    UI\FrameDef\Glue\BattleNetStandardPanel.fdf
    UI\FrameDef\Glue\BattleNetTeamPanel.fdf
    UI\FrameDef\Glue\BattleNetTeamInvitation.fdf
    UI\FrameDef\Glue\BattleNetProfilePanel.fdf
    UI\FrameDef\Glue\BattleNetCustomJoinPanel.fdf
    UI\FrameDef\Glue\BattleNetCustomCreatePanel.fdf
    UI\FrameDef\Glue\BattleNetCustomLoadPanel.fdf
    UI\FrameDef\Glue\BattleNetScheduledGame.fdf
    UI\FrameDef\Glue\BattleNetChatroom.fdf
    UI\FrameDef\Glue\BattleNetFriendsListBox.fdf
    UI\FrameDef\Glue\BattleNetFriendsPane.fdf
    UI\FrameDef\Glue\BattleNetClanMateListBox.fdf
    UI\FrameDef\Glue\BattleNetClanPane.fdf
    UI\FrameDef\Glue\BattleNetClanInvitation.fdf
    UI\FrameDef\Glue\BattleNetStatusBox.fdf
    UI\FrameDef\Glue\BattleNetIconSelectBox.fdf
    UI\FrameDef\UI\ConsoleUI.fdf
    UI\FrameDef\UI\AllianceSlot.fdf
    UI\FrameDef\UI\AllianceDialog.fdf
    UI\FrameDef\UI\ChatDialog.fdf
    UI\FrameDef\UI\LogDialog.fdf
    UI\FrameDef\UI\EscMenuMainPanel.fdf
    UI\FrameDef\UI\EscMenuOptionsPanel.fdf
    UI\FrameDef\UI\EscMenuSaveGamePanel.fdf
    UI\FrameDef\UI\GameResultDialog.fdf
    UI\FrameDef\UI\UpperButtonBar.fdf
    UI\FrameDef\UI\ResourceBar.fdf
    UI\FrameDef\UI\SimpleInfoPanel.fdf
    UI\FrameDef\UI\SuspendDialog.fdf
    UI\FrameDef\UI\UnresponsiveDialog.fdf
    UI\FrameDef\UI\ReplayPanel.fdf
    UI\FrameDef\UI\QuestDialog.fdf
    UI\FrameDef\UI\TimerDialog.fdf
    UI\FrameDef\UI\Leaderboard.fdf
    UI\FrameDef\UI\Multiboard.fdf
    UI\FrameDef\UI\CinematicPanel.fdf
    UI\FrameDef\UI\ScriptDialog.fdf
    UI\FrameDef\UI\GameSaveSplashDialog.fdf`
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="小小演示"><a class="header" href="#小小演示">小小演示</a></h2>
<h3 id="h-lua-sdk基础指令介绍"><a class="header" href="#h-lua-sdk基础指令介绍">h-lua-sdk基础指令介绍</a></h3>
<p>B站演示</p>
<blockquote>
<p><a target="_blank" href="https://www.bilibili.com/video/BV1nV411J7FB">魔兽争霸h-lua-sdk基础指令介绍</a></p>
</blockquote>
<p>命令行</p>
<pre><code>必填 ~ 选填
  ./h-lua-sdk&gt; sdk.exe help  //提示cmd工具命令
  ./h-lua-sdk&gt; sdk.exe new [*PROJECT_NAME]  //新建一个地图项目
  ./h-lua-sdk&gt; sdk.exe we [*PROJECT_NAME]  //以YDWE打开地图项目
  ./h-lua-sdk&gt; sdk.exe model [*PROJECT_NAME] [~PAGE:0|~search:'']  //以WE浏览项目模型，一页最大289个，可翻页可搜索
  ./h-lua-sdk&gt; sdk.exe clear [*PROJECT_NAME]  //清理构建的临时文件
  ./h-lua-sdk&gt; sdk.exe test [*PROJECT_NAME]  //构建测试版本并开启游戏进行调试
  ./h-lua-sdk&gt; sdk.exe build [*PROJECT_NAME]  //构建上线版本并开启游戏进行调试
</code></pre>
<p>模型命令拓展</p>
<pre><code>./h-lua-sdk&gt; sdk.exe model demo //查看项目demo的模型，默认第0页
./h-lua-sdk&gt; sdk.exe model demo 2 //查看项目demo的模型，第2页
./h-lua-sdk&gt; sdk.exe model demo ttg //查看项目demo的模型，只要路径带有ttg的
./h-lua-sdk&gt; sdk.exe model demo abc 1  //查看项目demo的模型，第1页且只要路径带有abc的
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="小小演示-1"><a class="header" href="#小小演示-1">小小演示</a></h2>
<h3 id="hslk高级用法演示1"><a class="header" href="#hslk高级用法演示1">hslk高级用法演示1</a></h3>
<p>B站演示</p>
<blockquote>
<p><a target="_blank" href="https://www.bilibili.com/video/BV1TK4y1Z7eB">魔兽争霸hslk高级用法演示1</a></p>
</blockquote>
<p>物品主动技能绑定</p>
<p>_onItemUsed</p>
<pre><code class="language-lua">hslk_item({
    Name = &quot;物理学圣剑&quot;,
    class = &quot;Permanent&quot;,
    _cooldown = 1,
    _cooldownTarget = CONST_ABILITY_TARGET.location.value,
    _attr = _attr({
        attack_green = &quot;+9999&quot;
    }),
    _onItemUsed = _onItemUsed(function(evtData)
        hunit.portal(evtData.triggerUnit,evtData.targetX,evtData.targetY)
    end)
})
</code></pre>
<p>技能主动绑定</p>
<p>_onSkillEffect</p>
<pre><code class="language-lua">hslk_ability({
    Name = &quot;穿云箭&quot;,
    Art = &quot;ReplaceableTextures\\CommandButtons\\BTNDeathPact.blp&quot;,
    Ubertip = hcolor.yellow(&quot;穿云箭&quot;),
    Hotkey = &quot;E&quot;,
    _parent = &quot;ANcl&quot;,
    _type = &quot;skill&quot;,
    DataA = {0},
    DataC = {1},
    EffectArt = &quot;&quot;,
    TargetArt = &quot;&quot;,
    CasterArt = &quot;&quot;,
    Cool = { 2 },
    DataB = { 2 },
    Cost = { 0 },
    DataD = { 0 },
    Rng = { 800 },
    DataF = {&quot;berserk&quot;},
    _onSkillEffect = _onSkillEffect(function(evtData)
        local xy = math.polarProjection(hunit.x(evtData.triggerUnit),hunit.y(evtData.triggerUnit),
                2000,math.getDegBetweenXY(hunit.x(evtData.triggerUnit),hunit.y(evtData.triggerUnit),evtData.targetX,evtData.targetY))
        hskill.leap({
            sourceUnit = evtData.triggerUnit, --伤害来源（必须有！不管有没有伤害）
            x = xy.x, --冲击的x坐标（可选的，对点冲击，与某目标无关）
            y = xy.y, --冲击的y坐标（可选的，对点冲击，与某目标无关）
            speed = 50, --冲击的速度（可选的，默认10，0.02秒的移动距离,大概1秒500px)
            acceleration = 0.05, --冲击加速度（可选的，每个周期都会增加0.02秒一次)
            filter = function(unit)
                return his.enemy(evtData.triggerUnit,unit) and his.alive(unit)
            end, --必须有
            tokenArrow = &quot;war3mapImported\\aaaaaaaa.mdx&quot;, --前冲的特效（arrowUnit=nil时认为必须！自身冲击就是bind，否则为马甲本身，如冲击波的波）
            damageMovement = 200, --移动过程中的伤害（可选的，默认为0）
            damageMovementRadius = 100, --移动过程中的伤害（可选的，默认为0，易知0范围是无效的所以有伤害也无法体现）
            damageMovementRepeat = false, --移动过程中伤害是否可以重复造成（可选的，默认为不能）
            damageMovementDrag = false, --移动过程是否拖拽敌人（可选的，默认为不能）
            damageSrc = CONST_DAMAGE_SRC.skill, --伤害的种类（可选）
            damageType = {CONST_DAMAGE_TYPE.thunder} --伤害的类型,注意是table（可选）
        })
    end)
})
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="小小演示-2"><a class="header" href="#小小演示-2">小小演示</a></h2>
<h3 id="hslk高级用法演示2"><a class="header" href="#hslk高级用法演示2">hslk高级用法演示2</a></h3>
<p>B站演示</p>
<blockquote>
<p><a target="_blank" href="https://www.bilibili.com/video/BV1M64y117sB">魔兽争霸hslk高级用法演示2</a></p>
</blockquote>
<p>多级技能配置</p>
<pre><code class="language-lua">hslk_ability({
    Name = &quot;分裂&quot;,
    _parent = &quot;Agyb&quot;, -- 用了一个无效果被动技能做为父ID
    Requires = &quot;&quot;,
    levels = 3, -- 3级
    _attr = {
        --这里要分级设置attr属性
        --1级属性
        _attr({
            --做分裂效果这里用到了hlua库的xtras
            xtras = {
                {
                    on = CONST_EVENT.attack,action = &quot;targetUnit.spec.split&quot;,
                    odds = 100,val = &quot;triggerUnit.attack&quot;,percent = 100,radius = 500
                }
            }
        }),
        --2
        _attr({
            xtras = {
                {
                    on = CONST_EVENT.attack,action = &quot;targetUnit.spec.split&quot;,
                    odds = 100,val = &quot;triggerUnit.attack&quot;,percent = 200,radius = 500
                }
            }
        }),
        --3
        _attr({
            xtras = {
                {
                    on = CONST_EVENT.attack,action = &quot;targetUnit.spec.split&quot;,
                    odds = 100,val = &quot;triggerUnit.attack&quot;,percent = 300,radius = 500
                }
            }
        })
    }
})
</code></pre>
<p>获取SLK数据及自定义值</p>
<pre><code class="language-lua">hslk_unit({
    _parent = &quot;hpea&quot;,
    Name = &quot;天选勇者&quot;,
    __skill = {
        &quot;穿云箭&quot;,
        &quot;分裂&quot;
    },
})

local u = henemy.create({
    teamNo = 1,
    id = hslk.n2i(&quot;天选勇者&quot;),
    x = 0,
    y = 0
})
local uSlk = hslk.i2v(hunit.getId(u),&quot;__skill&quot;)
for _, v in ipairs(uSlk) do
    hskill.add(u,hslk.n2i(v),1)
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="小小演示-3"><a class="header" href="#小小演示-3">小小演示</a></h2>
<h3 id="hslk高级用法演示3"><a class="header" href="#hslk高级用法演示3">hslk高级用法演示3</a></h3>
<p>B站演示</p>
<blockquote>
<p><a target="_blank" href="https://www.bilibili.com/video/BV1ZV411J7JJ">魔兽争霸hslk高级用法演示3</a></p>
</blockquote>
<p>hslk的 _type 字段</p>
<pre><code class="language-lua">-- 循环创建10把武器，type设置成”aaa&quot;
for i = 1, 10 do
    table.insert(it,{
        Name = &quot;小刀【等级】&quot; .. i,
        _type = &quot;aaa&quot;,
        _attr = _attr({
            attack_green = &quot;+&quot; .. 100 * i
        })
    })
end

for i = 1, 10 do
    local un = henemy.create({
        teamNo = 1,
        id = hslk.n2i(&quot;天选勇者&quot;),
        x = 0,
        y = 0
    })
    --给这几个单位注册个死亡事件
    hevent.onDead(un, function(evtData)
        --获取
        local id = hslk.typeIds({ &quot;aaa&quot; })
        hitem.create({
            id = table.random(id),
            x = hunit.x(evtData.triggerUnit),
            y = hunit.y(evtData.triggerUnit)
        })
    end)
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="小小演示-4"><a class="header" href="#小小演示-4">小小演示</a></h2>
<h3 id="h-lua库sync演示"><a class="header" href="#h-lua库sync演示">h-lua库sync演示</a></h3>
<p>B站演示</p>
<blockquote>
<p><a target="_blank" href="https://www.bilibili.com/video/BV1iv411L7CP">魔兽争霸h-lua库sync演示</a></p>
</blockquote>
<p>代码</p>
<pre><code class="language-lua">local shop = hunit.create({
    whichPlayer = hplayer.players[1],
    id = hslk.n2i(&quot;商店&quot;),
    x = 500,
    y = 500
})
tb = {}
hshop.item.add(shop, hslk.n2i(&quot;奖励&quot;), 99)
--单位购买物品 触发UI
--注册出售物品事件
hevent.onItemSell(shop, function(evtData)
    hitem.del(evtData.soldItem)
    local p = hunit.getOwner(evtData.buyingUnit)
    tb[p] = {}
    local itTy = hslk.typeIds({ &quot;skill&quot; })
    for i = 1, 3 do
        table.insert(tb[p], table.random(itTy))
    end
    if (p == hplayer.loc()) then
        --设置UI图标 名称 和描述
        for i = 1, 3 do
            local itSlk = hslk.i2v(tb[p][i], &quot;slk&quot;)
            hjapi.DzFrameSetTexture(hjapi.DzFrameFindByName(&quot;awar_jn_&quot; .. i, 0), itSlk.Art, 0)
            hjapi.DzFrameSetText(hjapi.DzFrameFindByName(&quot;awar_jnname_&quot; .. i, 0), itSlk.Name)
            hjapi.DzFrameSetText(hjapi.DzFrameFindByName(&quot;awar_jnsm_&quot; .. i, 0), itSlk.Ubertip)
        end
        hjapi.DzFrameShow(awar, true)
    end
end)

UI = function()
    --加载toc
    hdzui.loadToc(&quot;UI\\frame.toc&quot;)
    --初始化
    awar = hdzui.frame(&quot;awar&quot;,hdzui.origin.game(),0)
    --设置位置
    hjapi.DzFrameSetAbsolutePoint(awar,4,0.388,0.350)
    hjapi.DzFrameShow(awar,false)

    
    --注册3个按钮点击事件
    hsync.onFrameMouse(hjapi.DzFrameFindByName(&quot;awar_1&quot;,0),1,function(syncData)
        --添加技能
        hskill.add(hero[syncData.triggerPlayer],tb[syncData.triggerPlayer][1],1)
        if (syncData.triggerPlayer ~= hplayer.loc()) then
            return
        end
        hjapi.DzFrameShow(awar,false)
    end)
    hsync.onFrameMouse(hjapi.DzFrameFindByName(&quot;awar_2&quot;,0),1,function(syncData)
        --添加技能
        hskill.add(hero[syncData.triggerPlayer],tb[syncData.triggerPlayer][2],1)
        if (syncData.triggerPlayer ~= hplayer.loc()) then
            return
        end
        hjapi.DzFrameShow(awar,false)
    end)
    hsync.onFrameMouse(hjapi.DzFrameFindByName(&quot;awar_3&quot;,0),1,function(syncData)
        --添加技能
        hskill.add(hero[syncData.triggerPlayer],tb[syncData.triggerPlayer][3],1)
        if (syncData.triggerPlayer ~= hplayer.loc()) then
            return
        end
        hjapi.DzFrameShow(awar,false)
    end)

end
</code></pre>
<p>fdf文件</p>
<pre><code class="language-fdf">Frame &quot;FRAME&quot; &quot;awar&quot;{
    Width 0.400,
    Height 0.258,
    LayerStyle &quot;IGNORETRACKEVENTS&quot;,
    Frame &quot;BACKDROP&quot; &quot;awarbakc&quot; {
    Width 0.400,
    Height 0.258,
    BackdropBackground  &quot;war3mapImported\awarTB.blp&quot;,
    BackdropBlendAll,
    SetPoint TOPLEFT, &quot;awar&quot;, TOPLEFT, 0, 0,
        Frame &quot;BUTTON&quot; &quot;awar_1&quot; {
            Height 0.213,
            Width 0.125,
            ControlStyle &quot;AUTOTRACK|HIGHLIGHTONMOUSEOVER&quot;,
            SetPoint LEFT, &quot;awar&quot;, LEFT , 0.010, 0,

            //背景
            ControlBackdrop &quot;awara&quot;,
            Frame &quot;BACKDROP&quot; &quot;awara&quot; {
                BackdropBackground  &quot;war3mapImported\awarAND.blp&quot;,
                BackdropBlendAll,
            }
            //按下
            ControlPushedBackdrop &quot;awaraa&quot;,
            Frame &quot;BACKDROP&quot; &quot;awaraa&quot; {
                BackdropBackground  &quot;war3mapImported\awarANX.blp&quot;,
                BackdropBlendAll,
            }
            //高亮
            ControlMouseOverHighlight &quot;awarga&quot;,
            Frame &quot;HIGHLIGHT&quot; &quot;awarga&quot; {
                HighlightType &quot;FILETEXTURE&quot;,
                HighlightAlphaFile &quot;UI\Widgets\BattleNet\bnet-button01-highlight-mouse.blp&quot;,
                HighlightAlphaMode &quot;ADD&quot;,
            }
            Frame &quot;BACKDROP&quot; &quot;awar_jn_1&quot; {

                Width 0.034,
                Height 0.042,
                BackdropBackground  &quot;ReplaceableTextures\PassiveButtons\PASBTNScatterRockets.blp&quot;,
                BackdropBlendAll,
                SetPoint TOPLEFT, &quot;awar_1&quot;, TOPLEFT, 0.040, -0.040,
                }
            Frame &quot;TEXT&quot; &quot;awar_jnname_1&quot; {
                Width 0.12,
                Height 0.1,
                DecorateFileNames,
                FrameFont &quot;MasterFont&quot;, 0.015, &quot;&quot;,
                FontJustificationH JUSTIFYCENTER,
                UseActiveContext,
                FontJustificationV JUSTIFYMIDDLE,
                LayerStyle &quot;IGNORETRACKEVENTS&quot;,
                SetPoint CENTER, &quot;awar_jn_1&quot;, CENTER, 0, -0.035,
                Text &quot;弹幕攻击&quot;,
            }
            Frame &quot;TEXT&quot; &quot;awar_jnsm_1&quot; {
                Width 0.080,
                Height 0.1,
                DecorateFileNames,
                FrameFont &quot;MasterFont&quot;, 0.01, &quot;&quot;,
                FontJustificationH JUSTIFYCENTER,
                UseActiveContext,
                FontJustificationV JUSTIFYMIDDLE,
                LayerStyle &quot;IGNORETRACKEVENTS&quot;,
                SetPoint CENTER, &quot;awar_jnname_1&quot;, CENTER, 0, -0.035,
                Text &quot;对周围的敌方空中单位进行强有力的弹幕攻击&quot;,
            }
        }
        Frame &quot;BUTTON&quot; &quot;awar_2&quot; {
            Height 0.213,
            Width 0.125,
            ControlStyle &quot;AUTOTRACK|HIGHLIGHTONMOUSEOVER&quot;,
            SetPoint LEFT, &quot;awar_1&quot;, RIGHT , 0, 0,

            //背景
            ControlBackdrop &quot;awarb&quot;,
            Frame &quot;BACKDROP&quot; &quot;awarb&quot; {
                BackdropBackground  &quot;war3mapImported\awarAND.blp&quot;,
                BackdropBlendAll,
            }
            //按下
            ControlPushedBackdrop &quot;awarab&quot;,
            Frame &quot;BACKDROP&quot; &quot;awarab&quot; {
                BackdropBackground  &quot;war3mapImported\awarANX.blp&quot;,
                BackdropBlendAll,
            }
            //高亮
            ControlMouseOverHighlight &quot;awargb&quot;,
            Frame &quot;HIGHLIGHT&quot; &quot;awargb&quot; {
                HighlightType &quot;FILETEXTURE&quot;,
                HighlightAlphaFile &quot;UI\Widgets\BattleNet\bnet-button01-highlight-mouse.blp&quot;,
                HighlightAlphaMode &quot;ADD&quot;,
            }
            Frame &quot;BACKDROP&quot; &quot;awar_jn_2&quot; {

                Width 0.034,
                Height 0.042,
                BackdropBackground  &quot;ReplaceableTextures\PassiveButtons\PASBTNScatterRockets.blp&quot;,
                BackdropBlendAll,
                SetPoint TOPLEFT, &quot;awar_2&quot;, TOPLEFT, 0.040, -0.040,
                }
            Frame &quot;TEXT&quot; &quot;awar_jnname_2&quot; {
                Width 0.12,
                Height 0.1,
                DecorateFileNames,
                FrameFont &quot;MasterFont&quot;, 0.015, &quot;&quot;,
                FontJustificationH JUSTIFYCENTER,
                UseActiveContext,
                FontJustificationV JUSTIFYMIDDLE,
                LayerStyle &quot;IGNORETRACKEVENTS&quot;,
                SetPoint CENTER, &quot;awar_jn_2&quot;, CENTER, 0, -0.035,
                Text &quot;弹幕攻击&quot;,
            }
            Frame &quot;TEXT&quot; &quot;awar_jnsm_2&quot; {
                Width 0.080,
                Height 0.1,
                DecorateFileNames,
                FrameFont &quot;MasterFont&quot;, 0.01, &quot;&quot;,
                FontJustificationH JUSTIFYCENTER,
                UseActiveContext,
                FontJustificationV JUSTIFYMIDDLE,
                LayerStyle &quot;IGNORETRACKEVENTS&quot;,
                SetPoint CENTER, &quot;awar_jnname_2&quot;, CENTER, 0, -0.035,
                Text &quot;对周围的敌方空中单位进行强有力的弹幕攻击&quot;,
            }
        }
        Frame &quot;BUTTON&quot; &quot;awar_3&quot; {
            Height 0.213,
            Width 0.125,
            ControlStyle &quot;AUTOTRACK|HIGHLIGHTONMOUSEOVER&quot;,
            SetPoint LEFT, &quot;awar_2&quot;, RIGHT , 0, 0,

            //背景
            ControlBackdrop &quot;awarc&quot;,
            Frame &quot;BACKDROP&quot; &quot;awarc&quot; {
                BackdropBackground  &quot;war3mapImported\awarAND.blp&quot;,
                BackdropBlendAll,
            }
            //按下
            ControlPushedBackdrop &quot;awarac&quot;,
            Frame &quot;BACKDROP&quot; &quot;awarac&quot; {
                BackdropBackground  &quot;war3mapImported\awarANX.blp&quot;,
                BackdropBlendAll,
            }
            //高亮
            ControlMouseOverHighlight &quot;awargc&quot;,
            Frame &quot;HIGHLIGHT&quot; &quot;awargc&quot; {
                HighlightType &quot;FILETEXTURE&quot;,
                HighlightAlphaFile &quot;UI\Widgets\BattleNet\bnet-button01-highlight-mouse.blp&quot;,
                HighlightAlphaMode &quot;ADD&quot;,
            }
            Frame &quot;BACKDROP&quot; &quot;awar_jn_3&quot; {

                Width 0.034,
                Height 0.042,
                BackdropBackground  &quot;ReplaceableTextures\PassiveButtons\PASBTNScatterRockets.blp&quot;,
                BackdropBlendAll,
                SetPoint TOPLEFT, &quot;awar_3&quot;, TOPLEFT, 0.040, -0.040,
                }
            Frame &quot;TEXT&quot; &quot;awar_jnname_3&quot; {
                Width 0.12,
                Height 0.1,
                DecorateFileNames,
                FrameFont &quot;MasterFont&quot;, 0.015, &quot;&quot;,
                FontJustificationH JUSTIFYCENTER,
                UseActiveContext,
                FontJustificationV JUSTIFYMIDDLE,
                LayerStyle &quot;IGNORETRACKEVENTS&quot;,
                SetPoint CENTER, &quot;awar_jn_3&quot;, CENTER, 0, -0.035,
                Text &quot;弹幕攻击&quot;,
            }
            Frame &quot;TEXT&quot; &quot;awar_jnsm_3&quot; {
                Width 0.080,
                Height 0.1,
                DecorateFileNames,
                FrameFont &quot;MasterFont&quot;, 0.01, &quot;&quot;,
                FontJustificationH JUSTIFYCENTER,
                UseActiveContext,
                FontJustificationV JUSTIFYMIDDLE,
                LayerStyle &quot;IGNORETRACKEVENTS&quot;,
                SetPoint CENTER, &quot;awar_jnname_3&quot;, CENTER, 0, -0.035,
                Text &quot;对周围的敌方空中单位进行强有力的弹幕攻击&quot;,
            }
        }
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="小小演示-5"><a class="header" href="#小小演示-5">小小演示</a></h2>
<h3 id="构建酒馆与小地图ui显示头像"><a class="header" href="#构建酒馆与小地图ui显示头像">构建酒馆与小地图UI显示头像</a></h3>
<p>B站演示</p>
<blockquote>
<p><a target="_blank" href="https://www.bilibili.com/video/BV1Hy4y1s7cj">魔兽争霸构建酒馆与小地图UI显示头像</a></p>
</blockquote>
<p>小地图UI显示头像</p>
<blockquote>
<p>h-lua已添加此完整功能接口，建议直接使用，不必像下方自己实现</p>
</blockquote>
<pre><code class="language-lua">--[[
    绑定一个单位在&quot;小地图&quot;上显示你想要的贴图
    options = {
        frequency = 0.05, --刷新频率
        whichUnit = nil, --某单位
        texture = {file=&quot;&quot;,w=0.1,h=0.12,opacity}, --是用的单位标志：贴图文件、宽、高、透明[0.0-1.0]
        miniMap = {frame=0,w=0,h=0}, -- 小地图大小位置参数：UI—id、宽、高
        action = function(trackOptions){}, -- 每周期行为
    }
]]
---@param options pilotDZUIMiniMapTrack
hdzui.miniMapTrack = function(options)
    if (options.whichUnit == nil or his.deleted(options.whichUnit)) then
        return
    end
    options.frequency = options.frequency or 0.05
    options.texture = options.texture or {}
    options.texture.file = options.texture.file or hunit.getAvatar(hunit.getId(options.whichUnit))
    options.texture.w = options.texture.w or 0.016
    options.texture.h = options.texture.h or 0.016
    options.texture.opacity = options.texture.opacity or 1.0
    options.miniMap = options.miniMap or {}
    options.miniMap.frame = options.miniMap.frame or hdzui.origin.miniMap()
    options.miniMap.w = options.miniMap.w or 0.13875
    options.miniMap.h = options.miniMap.h or 0.1375
    if (type(options.action) ~= &quot;function&quot;) then
        options.action = function(_t)
            -- 设_t.deleted=true则中止追踪
            if (his.dead(_t.whichUnit)) then
                hjapi.DzFrameShow(_t.frame, false)
                return
            end
            hplayer.forEach(function(enumPlayer, _)
                if (enumPlayer == hplayer.loc()) then
                    hjapi.DzFrameShow(_t.frame, his.allyPlayer(_t.whichUnit, enumPlayer))
                end
            end)
        end
    end
    local track = hdzui.frameTag(&quot;BACKDROP&quot;, &quot;StandardMenuTinyButtonBaseBackdrop&quot;, hdzui.origin.game())
    if (track &lt;= 0) then
        return
    end
    hjapi.DzFrameSetTexture(track, options.texture.file)
    hjapi.DzFrameSetAlpha(track, 255 * options.texture.opacity)
    hjapi.DzFrameSetSize(track, options.texture.w, options.texture.h)
    hjapi.DzFrameShow(track, false)
    options.frame = track
    options.deleted = false
    htime.setInterval(options.frequency, function(curTimer)
        if (options.deleted == true or his.deleted(options.whichUnit)) then
            htime.delTimer(curTimer)
            hjapi.DzFrameShow(options.frame, false)
            hjapi.DzFrameSetEnable(options.frame, false)
            return
        end
        local x = (hunit.x(options.whichUnit) - hrect.getMinX(hrect.world())) / hrect.getWidth(hrect.world()) * options.miniMap.w
        local y = (hunit.y(options.whichUnit) - hrect.getMinY(hrect.world())) / hrect.getHeight(hrect.world()) * options.miniMap.h
        hdzui.framePoint(options.frame, options.miniMap.frame, FRAME_ALIGN_CENTER, FRAME_ALIGN_LEFT_BOTTOM, x, y)
        options.action(options)
    end)
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="小小演示-6"><a class="header" href="#小小演示-6">小小演示</a></h2>
<h3 id="伤害排行榜"><a class="header" href="#伤害排行榜">伤害排行榜</a></h3>
<p>B站演示</p>
<blockquote>
<p><a target="_blank" href="https://www.bilibili.com/video/BV1Lh411v7pR">魔兽争霸伤害排行榜</a></p>
</blockquote>
<p>伤害排行榜UI显示</p>
<pre><code class="language-lua">UI = function()
    --加载toc
    hdzui.loadToc(&quot;UI\\frame.toc&quot;)
    --初始化
    awar = hdzui.frame(&quot;awar&quot;,hdzui.origin.game(),0)
    --设置位置
    hjapi.DzFrameSetAbsolutePoint(awar,4,0.388,0.350)
    hjapi.DzFrameShow(awar,false)

    --伤害榜初始化
    damUI = {}
    txtUI = {}
    barUI = {}
    --logo
    damUI[1] = hdzui.frameTag(&quot;BACKDROP&quot;,&quot;x1&quot;,hdzui.origin.game(),&quot;&quot;)
    hjapi.DzFrameSetTexture(damUI[1],&quot;war3mapImported\\dam.tga&quot;,false)
    hjapi.DzFrameSetAbsolutePoint(damUI[1],4,0.744,0.411)
    hjapi.DzFrameSetSize(damUI[1],0.108,0.026)
    hjapi.DzFrameShow(damUI[1],true)
    --忘记放我可爱的音乐了
    hplayer.forEach(function(enumPlayer, idx)
        --头像
        damUI[idx + 1] = hdzui.frameTag(&quot;BACKDROP&quot;,&quot;tx1&quot; .. idx,hdzui.origin.game(),&quot;&quot;)
        hjapi.DzFrameSetTexture(damUI[idx + 1],&quot;war3mapImported\\tx.tga&quot;,false)
        hjapi.DzFrameSetPoint(damUI[idx + 1],2,damUI[1],8,0,0)
        hjapi.DzFrameSetSize(damUI[idx + 1],0.015,0.019)
        hjapi.DzFrameShow(damUI[idx + 1],false)

        --条条
        barUI[idx] = hdzui.frameTag(&quot;BACKDROP&quot;,&quot;txx&quot; .. idx,damUI[idx + 1],&quot;&quot;)
        hjapi.DzFrameSetTexture(barUI[idx],&quot;war3mapImported\\green.tga&quot;,false)
        hjapi.DzFrameSetPoint(barUI[idx],5,damUI[idx + 1],3,0,0)
        hjapi.DzFrameSetSize(barUI[idx],0.107,0.019)
        hjapi.DzFrameShow(barUI[idx],true)

        --伤害文字
        txtUI[idx] = hdzui.frameTag(&quot;TEXT&quot;,&quot;tx&quot; .. idx,damUI[idx + 1],&quot;&quot;)
        hjapi.DzFrameSetText(txtUI[idx],&quot;0&quot;)
        hjapi.DzFrameSetPoint(txtUI[idx],5,barUI[idx],3,0,0)
        hjapi.DzFrameSetSize(txtUI[idx],0.030,0.017)
        hjapi.DzFrameShow(txtUI[idx],true)
    end)
    --注册3个按钮点击事件
    hsync.onFrameMouse(hjapi.DzFrameFindByName(&quot;awar_1&quot;,0),1,function(syncData)
        --添加技能
        hskill.add(hero[syncData.triggerPlayer],tb[syncData.triggerPlayer][1],1)
        if (syncData.triggerPlayer ~= hplayer.loc()) then
            return
        end
        hjapi.DzFrameShow(awar,false)
    end)
    hsync.onFrameMouse(hjapi.DzFrameFindByName(&quot;awar_2&quot;,0),1,function(syncData)
        --添加技能
        hskill.add(hero[syncData.triggerPlayer],tb[syncData.triggerPlayer][2],1)
        if (syncData.triggerPlayer ~= hplayer.loc()) then
            return
        end
        hjapi.DzFrameShow(awar,false)
    end)
    hsync.onFrameMouse(hjapi.DzFrameFindByName(&quot;awar_3&quot;,0),1,function(syncData)
        --添加技能
        hskill.add(hero[syncData.triggerPlayer],tb[syncData.triggerPlayer][3],1)
        if (syncData.triggerPlayer ~= hplayer.loc()) then
            return
        end
        hjapi.DzFrameShow(awar,false)
    end)

    --然后计时器改变UI位置

    htime.setInterval(0.05,function(curTimer)
        local sort = {}
        hplayer.forEach(function(enumPlayer, idx)
            local s = {idx = idx , val = hplayer.getDamage(enumPlayer)}
            table.insert(sort,s)
        end)
        --排序
        table.sort(sort,function(a, b)
            if (a.val == b.val) then
                return b.idx &gt; a.idx
            end
            return a.val &gt; b.val
        end)
        --根据排序更改头像UI位置
        local dam = sort[1].val
        local i = 0
        for k,v in ipairs(sort)do
            if (k &gt; 1) then
                --除了排第一的 其他条条根据第一名伤害来确定大小
                i = v.val / dam
                hjapi.DzFrameSetSize(barUI[v.idx],i * 0.107,0.019)
            else
                hjapi.DzFrameSetSize(barUI[v.idx],0.107,0.019)
            end
            --修改伤害文字
            hjapi.DzFrameSetText(txtUI[v.idx],math.round(hplayer.getDamage(hplayer.players[v.idx])))
            --修改头像图标
            hjapi.DzFrameSetTexture(damUI[v.idx + 1],hslk.i2v(hunit.getId(hero[v.idx]),&quot;slk&quot;,&quot;Art&quot;),false)
            --修改头像UI位置
            hjapi.DzFrameSetPoint(damUI[v.idx + 1],2,damUI[1],8,0,(k - 1) * -0.02)
            hjapi.DzFrameShow(damUI[v.idx + 1],true)
        end
    end)
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="高端演示"><a class="header" href="#高端演示">高端演示</a></h2>
<p>B站演示</p>
<blockquote>
<p><a target="_blank" href="https://www.bilibili.com/video/BV1p44y1k7aG">魔兽争霸lua作图 - 完美动态箭矢模拟实际效果演示</a></p>
</blockquote>
<blockquote>
<p><a target="_blank" href="https://www.bilibili.com/video/BV1AA411w7iZ">魔兽争霸lua作图 - 七十二变模型箭矢效果演示</a></p>
</blockquote>
<blockquote>
<p><a target="_blank" href="https://www.bilibili.com/video/BV1pU4y177C6">魔兽争霸lua作图 - hot实时热更新，调试从未如此轻松</a></p>
</blockquote>
<blockquote>
<p><a target="_blank" href="https://www.bilibili.com/video/BV1p3411q78m">魔兽争霸lua作图 - 技能实时动态选区</a></p>
</blockquote>
<blockquote>
<p><a target="_blank" href="https://www.bilibili.com/video/BV18L411x7Wj">魔兽争霸lua作图 - 非凡技能栏</a></p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

                <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
                
    </body>
</html>
